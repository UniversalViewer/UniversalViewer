import{a as zn,h as As}from"./chunk-DFCJVSBA.js";import{a as Ms}from"./chunk-64ZHNNJ3.js";import{a as xs}from"./chunk-M35C5CZ3.js";import{a as Li}from"./chunk-2SUYJOML.js";import{b as Cs,c as Is,f as Ss,h as Ds,i as Rs,k as Ps,l as Ns,m as Os}from"./chunk-ESDP5647.js";import{a as uo,c as Ln}from"./chunk-F33J3ELK.js";import{b as Wn,n as Mr,p as Ai}from"./chunk-OEMHC5TT.js";import{b as bs,g as Zr}from"./chunk-EQPD2MMQ.js";import{a as or,b as Tn,c as Cn}from"./chunk-YAXTLTJC.js";var Vn=Tn((Fs,Rr)=>{(function(t,p){"use strict";typeof Rr=="object"&&typeof Rr.exports=="object"?Rr.exports=t.document?p(t,!0):function(u){if(!u.document)throw new Error("jQuery requires a window with a document");return p(u)}:p(t)})(typeof window!="undefined"?window:Fs,function(t,p){"use strict";var u=[],f=Object.getPrototypeOf,g=u.slice,E=u.flat?function(l){return u.flat.call(l)}:function(l){return u.concat.apply([],l)},d=u.push,_=u.indexOf,y={},T=y.toString,m=y.hasOwnProperty,b=m.toString,A=b.call(Object),C={},R=function(v){return typeof v=="function"&&typeof v.nodeType!="number"},N=function(v){return v!=null&&v===v.window},M=t.document,H={type:!0,src:!0,nonce:!0,noModule:!0};function Y(l,v,D){D=D||M;var F,X,te=D.createElement("script");if(te.text=l,v)for(F in H)X=v[F]||v.getAttribute&&v.getAttribute(F),X&&te.setAttribute(F,X);D.head.appendChild(te).parentNode.removeChild(te)}function j(l){return l==null?l+"":typeof l=="object"||typeof l=="function"?y[T.call(l)]||"object":typeof l}var x="3.5.0",o=function(l,v){return new o.fn.init(l,v)};o.fn=o.prototype={jquery:x,constructor:o,length:0,toArray:function(){return g.call(this)},get:function(l){return l==null?g.call(this):l<0?this[l+this.length]:this[l]},pushStack:function(l){var v=o.merge(this.constructor(),l);return v.prevObject=this,v},each:function(l){return o.each(this,l)},map:function(l){return this.pushStack(o.map(this,function(v,D){return l.call(v,D,v)}))},slice:function(){return this.pushStack(g.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(o.grep(this,function(l,v){return(v+1)%2}))},odd:function(){return this.pushStack(o.grep(this,function(l,v){return v%2}))},eq:function(l){var v=this.length,D=+l+(l<0?v:0);return this.pushStack(D>=0&&D<v?[this[D]]:[])},end:function(){return this.prevObject||this.constructor()},push:d,sort:u.sort,splice:u.splice},o.extend=o.fn.extend=function(){var l,v,D,F,X,te,ge=arguments[0]||{},Le=1,He=arguments.length,$e=!1;for(typeof ge=="boolean"&&($e=ge,ge=arguments[Le]||{},Le++),typeof ge!="object"&&!R(ge)&&(ge={}),Le===He&&(ge=this,Le--);Le<He;Le++)if((l=arguments[Le])!=null)for(v in l)F=l[v],!(v==="__proto__"||ge===F)&&($e&&F&&(o.isPlainObject(F)||(X=Array.isArray(F)))?(D=ge[v],X&&!Array.isArray(D)?te=[]:!X&&!o.isPlainObject(D)?te={}:te=D,X=!1,ge[v]=o.extend($e,te,F)):F!==void 0&&(ge[v]=F));return ge},o.extend({expando:"jQuery"+(x+Math.random()).replace(/\D/g,""),isReady:!0,error:function(l){throw new Error(l)},noop:function(){},isPlainObject:function(l){var v,D;return!l||T.call(l)!=="[object Object]"?!1:(v=f(l),v?(D=m.call(v,"constructor")&&v.constructor,typeof D=="function"&&b.call(D)===A):!0)},isEmptyObject:function(l){var v;for(v in l)return!1;return!0},globalEval:function(l,v,D){Y(l,{nonce:v&&v.nonce},D)},each:function(l,v){var D,F=0;if(G(l))for(D=l.length;F<D&&v.call(l[F],F,l[F])!==!1;F++);else for(F in l)if(v.call(l[F],F,l[F])===!1)break;return l},makeArray:function(l,v){var D=v||[];return l!=null&&(G(Object(l))?o.merge(D,typeof l=="string"?[l]:l):d.call(D,l)),D},inArray:function(l,v,D){return v==null?-1:_.call(v,l,D)},merge:function(l,v){for(var D=+v.length,F=0,X=l.length;F<D;F++)l[X++]=v[F];return l.length=X,l},grep:function(l,v,D){for(var F,X=[],te=0,ge=l.length,Le=!D;te<ge;te++)F=!v(l[te],te),F!==Le&&X.push(l[te]);return X},map:function(l,v,D){var F,X,te=0,ge=[];if(G(l))for(F=l.length;te<F;te++)X=v(l[te],te,D),X!=null&&ge.push(X);else for(te in l)X=v(l[te],te,D),X!=null&&ge.push(X);return E(ge)},guid:1,support:C}),typeof Symbol=="function"&&(o.fn[Symbol.iterator]=u[Symbol.iterator]),o.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(l,v){y["[object "+v+"]"]=v.toLowerCase()});function G(l){var v=!!l&&"length"in l&&l.length,D=j(l);return R(l)||N(l)?!1:D==="array"||v===0||typeof v=="number"&&v>0&&v-1 in l}var I=function(l){var v,D,F,X,te,ge,Le,He,$e,ct,Nt,at,_t,Kt,si,$t,Si,xi,Yi,_i="sizzle"+1*new Date,ri=l.document,Bi=0,hi=0,bi=kn(),Nn=kn(),jn=kn(),Xi=kn(),En=function(_e,Fe){return _e===Fe&&(Nt=!0),0},wn={}.hasOwnProperty,qi=[],gn=qi.pop,Zi=qi.push,mn=qi.push,Ir=qi.slice,bn=function(_e,Fe){for(var Ve=0,vt=_e.length;Ve<vt;Ve++)if(_e[Ve]===Fe)return Ve;return-1},$n="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",mi="[\\x20\\t\\r\\n\\f]",dn="(?:\\\\[\\da-fA-F]{1,6}"+mi+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Sr="\\["+mi+"*("+dn+")(?:"+mi+"*([*^$|!~]?=)"+mi+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+dn+"))|)"+mi+"*\\]",er=":("+dn+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Sr+")*)|.*)\\)|)",Xr=new RegExp(mi+"+","g"),On=new RegExp("^"+mi+"+|((?:^|[^\\\\])(?:\\\\.)*)"+mi+"+$","g"),Kr=new RegExp("^"+mi+"*,"+mi+"*"),tr=new RegExp("^"+mi+"*([>+~]|"+mi+")"+mi+"*"),ir=new RegExp(mi+"|>"),Qr=new RegExp(er),Jr=new RegExp("^"+dn+"$"),vn={ID:new RegExp("^#("+dn+")"),CLASS:new RegExp("^\\.("+dn+")"),TAG:new RegExp("^("+dn+"|[*])"),ATTR:new RegExp("^"+Sr),PSEUDO:new RegExp("^"+er),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+mi+"*(even|odd|(([+-]|)(\\d*)n|)"+mi+"*(?:([+-]|)"+mi+"*(\\d+)|))"+mi+"*\\)|)","i"),bool:new RegExp("^(?:"+$n+")$","i"),needsContext:new RegExp("^"+mi+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+mi+"*((?:-\\d)?\\d*)"+mi+"*\\)|)(?=[^-]|$)","i")},Ar=/HTML$/i,qn=/^(?:input|select|textarea|button)$/i,nr=/^h\d$/i,Wi=/^[^{]+\{\s*\[native \w/,$i=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,en=/[+~]/,on=new RegExp("\\\\[\\da-fA-F]{1,6}"+mi+"?|\\\\([^\\r\\n\\f])","g"),Fi=function(_e,Fe){var Ve="0x"+_e.slice(1)-65536;return Fe||(Ve<0?String.fromCharCode(Ve+65536):String.fromCharCode(Ve>>10|55296,Ve&1023|56320))},xr=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ui=function(_e,Fe){return Fe?_e==="\0"?"\uFFFD":_e.slice(0,-1)+"\\"+_e.charCodeAt(_e.length-1).toString(16)+" ":"\\"+_e},_n=function(){at()},Dr=xn(function(_e){return _e.disabled===!0&&_e.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{mn.apply(qi=Ir.call(ri.childNodes),ri.childNodes),qi[ri.childNodes.length].nodeType}catch{mn={apply:qi.length?function(Fe,Ve){Zi.apply(Fe,Ir.call(Ve))}:function(Fe,Ve){for(var vt=Fe.length,Ge=0;Fe[vt++]=Ve[Ge++];);Fe.length=vt-1}}}function fi(_e,Fe,Ve,vt){var Ge,ft,Rt,Ce,Qe,At,Ht,Jt=Fe&&Fe.ownerDocument,oi=Fe?Fe.nodeType:9;if(Ve=Ve||[],typeof _e!="string"||!_e||oi!==1&&oi!==9&&oi!==11)return Ve;if(!vt&&(at(Fe),Fe=Fe||_t,si)){if(oi!==11&&(Qe=$i.exec(_e)))if(Ge=Qe[1]){if(oi===9)if(Rt=Fe.getElementById(Ge)){if(Rt.id===Ge)return Ve.push(Rt),Ve}else return Ve;else if(Jt&&(Rt=Jt.getElementById(Ge))&&Yi(Fe,Rt)&&Rt.id===Ge)return Ve.push(Rt),Ve}else{if(Qe[2])return mn.apply(Ve,Fe.getElementsByTagName(_e)),Ve;if((Ge=Qe[3])&&D.getElementsByClassName&&Fe.getElementsByClassName)return mn.apply(Ve,Fe.getElementsByClassName(Ge)),Ve}if(D.qsa&&!Xi[_e+" "]&&(!$t||!$t.test(_e))&&(oi!==1||Fe.nodeName.toLowerCase()!=="object")){if(Ht=_e,Jt=Fe,oi===1&&(ir.test(_e)||tr.test(_e))){for(Jt=en.test(_e)&&Mi(Fe.parentNode)||Fe,(Jt!==Fe||!D.scope)&&((Ce=Fe.getAttribute("id"))?Ce=Ce.replace(xr,ui):Fe.setAttribute("id",Ce=_i)),At=ge(_e),ft=At.length;ft--;)At[ft]=(Ce?"#"+Ce:":scope")+" "+yn(At[ft]);Ht=At.join(",")}try{return mn.apply(Ve,Jt.querySelectorAll(Ht)),Ve}catch{Xi(_e,!0)}finally{Ce===_i&&Fe.removeAttribute("id")}}}return He(_e.replace(On,"$1"),Fe,Ve,vt)}function kn(){var _e=[];function Fe(Ve,vt){return _e.push(Ve+" ")>F.cacheLength&&delete Fe[_e.shift()],Fe[Ve+" "]=vt}return Fe}function Di(_e){return _e[_i]=!0,_e}function Ui(_e){var Fe=_t.createElement("fieldset");try{return!!_e(Fe)}catch{return!1}finally{Fe.parentNode&&Fe.parentNode.removeChild(Fe),Fe=null}}function Ki(_e,Fe){for(var Ve=_e.split("|"),vt=Ve.length;vt--;)F.attrHandle[Ve[vt]]=Fe}function Pi(_e,Fe){var Ve=Fe&&_e,vt=Ve&&_e.nodeType===1&&Fe.nodeType===1&&_e.sourceIndex-Fe.sourceIndex;if(vt)return vt;if(Ve){for(;Ve=Ve.nextSibling;)if(Ve===Fe)return-1}return _e?1:-1}function Ri(_e){return function(Fe){var Ve=Fe.nodeName.toLowerCase();return Ve==="input"&&Fe.type===_e}}function Fn(_e){return function(Fe){var Ve=Fe.nodeName.toLowerCase();return(Ve==="input"||Ve==="button")&&Fe.type===_e}}function gi(_e){return function(Fe){return"form"in Fe?Fe.parentNode&&Fe.disabled===!1?"label"in Fe?"label"in Fe.parentNode?Fe.parentNode.disabled===_e:Fe.disabled===_e:Fe.isDisabled===_e||Fe.isDisabled!==!_e&&Dr(Fe)===_e:Fe.disabled===_e:"label"in Fe?Fe.disabled===_e:!1}}function cn(_e){return Di(function(Fe){return Fe=+Fe,Di(function(Ve,vt){for(var Ge,ft=_e([],Ve.length,Fe),Rt=ft.length;Rt--;)Ve[Ge=ft[Rt]]&&(Ve[Ge]=!(vt[Ge]=Ve[Ge]))})})}function Mi(_e){return _e&&typeof _e.getElementsByTagName!="undefined"&&_e}D=fi.support={},te=fi.isXML=function(_e){var Fe=_e.namespaceURI,Ve=(_e.ownerDocument||_e).documentElement;return!Ar.test(Fe||Ve&&Ve.nodeName||"HTML")},at=fi.setDocument=function(_e){var Fe,Ve,vt=_e?_e.ownerDocument||_e:ri;return vt==_t||vt.nodeType!==9||!vt.documentElement||(_t=vt,Kt=_t.documentElement,si=!te(_t),ri!=_t&&(Ve=_t.defaultView)&&Ve.top!==Ve&&(Ve.addEventListener?Ve.addEventListener("unload",_n,!1):Ve.attachEvent&&Ve.attachEvent("onunload",_n)),D.scope=Ui(function(Ge){return Kt.appendChild(Ge).appendChild(_t.createElement("div")),typeof Ge.querySelectorAll!="undefined"&&!Ge.querySelectorAll(":scope fieldset div").length}),D.attributes=Ui(function(Ge){return Ge.className="i",!Ge.getAttribute("className")}),D.getElementsByTagName=Ui(function(Ge){return Ge.appendChild(_t.createComment("")),!Ge.getElementsByTagName("*").length}),D.getElementsByClassName=Wi.test(_t.getElementsByClassName),D.getById=Ui(function(Ge){return Kt.appendChild(Ge).id=_i,!_t.getElementsByName||!_t.getElementsByName(_i).length}),D.getById?(F.filter.ID=function(Ge){var ft=Ge.replace(on,Fi);return function(Rt){return Rt.getAttribute("id")===ft}},F.find.ID=function(Ge,ft){if(typeof ft.getElementById!="undefined"&&si){var Rt=ft.getElementById(Ge);return Rt?[Rt]:[]}}):(F.filter.ID=function(Ge){var ft=Ge.replace(on,Fi);return function(Rt){var Ce=typeof Rt.getAttributeNode!="undefined"&&Rt.getAttributeNode("id");return Ce&&Ce.value===ft}},F.find.ID=function(Ge,ft){if(typeof ft.getElementById!="undefined"&&si){var Rt,Ce,Qe,At=ft.getElementById(Ge);if(At){if(Rt=At.getAttributeNode("id"),Rt&&Rt.value===Ge)return[At];for(Qe=ft.getElementsByName(Ge),Ce=0;At=Qe[Ce++];)if(Rt=At.getAttributeNode("id"),Rt&&Rt.value===Ge)return[At]}return[]}}),F.find.TAG=D.getElementsByTagName?function(Ge,ft){if(typeof ft.getElementsByTagName!="undefined")return ft.getElementsByTagName(Ge);if(D.qsa)return ft.querySelectorAll(Ge)}:function(Ge,ft){var Rt,Ce=[],Qe=0,At=ft.getElementsByTagName(Ge);if(Ge==="*"){for(;Rt=At[Qe++];)Rt.nodeType===1&&Ce.push(Rt);return Ce}return At},F.find.CLASS=D.getElementsByClassName&&function(Ge,ft){if(typeof ft.getElementsByClassName!="undefined"&&si)return ft.getElementsByClassName(Ge)},Si=[],$t=[],(D.qsa=Wi.test(_t.querySelectorAll))&&(Ui(function(Ge){var ft;Kt.appendChild(Ge).innerHTML="<a id='"+_i+"'></a><select id='"+_i+"-\r\\' msallowcapture=''><option selected=''></option></select>",Ge.querySelectorAll("[msallowcapture^='']").length&&$t.push("[*^$]="+mi+`*(?:''|"")`),Ge.querySelectorAll("[selected]").length||$t.push("\\["+mi+"*(?:value|"+$n+")"),Ge.querySelectorAll("[id~="+_i+"-]").length||$t.push("~="),ft=_t.createElement("input"),ft.setAttribute("name",""),Ge.appendChild(ft),Ge.querySelectorAll("[name='']").length||$t.push("\\["+mi+"*name"+mi+"*="+mi+`*(?:''|"")`),Ge.querySelectorAll(":checked").length||$t.push(":checked"),Ge.querySelectorAll("a#"+_i+"+*").length||$t.push(".#.+[+~]"),Ge.querySelectorAll("\\\f"),$t.push("[\\r\\n\\f]")}),Ui(function(Ge){Ge.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var ft=_t.createElement("input");ft.setAttribute("type","hidden"),Ge.appendChild(ft).setAttribute("name","D"),Ge.querySelectorAll("[name=d]").length&&$t.push("name"+mi+"*[*^$|!~]?="),Ge.querySelectorAll(":enabled").length!==2&&$t.push(":enabled",":disabled"),Kt.appendChild(Ge).disabled=!0,Ge.querySelectorAll(":disabled").length!==2&&$t.push(":enabled",":disabled"),Ge.querySelectorAll("*,:x"),$t.push(",.*:")})),(D.matchesSelector=Wi.test(xi=Kt.matches||Kt.webkitMatchesSelector||Kt.mozMatchesSelector||Kt.oMatchesSelector||Kt.msMatchesSelector))&&Ui(function(Ge){D.disconnectedMatch=xi.call(Ge,"*"),xi.call(Ge,"[s!='']:x"),Si.push("!=",er)}),$t=$t.length&&new RegExp($t.join("|")),Si=Si.length&&new RegExp(Si.join("|")),Fe=Wi.test(Kt.compareDocumentPosition),Yi=Fe||Wi.test(Kt.contains)?function(Ge,ft){var Rt=Ge.nodeType===9?Ge.documentElement:Ge,Ce=ft&&ft.parentNode;return Ge===Ce||!!(Ce&&Ce.nodeType===1&&(Rt.contains?Rt.contains(Ce):Ge.compareDocumentPosition&&Ge.compareDocumentPosition(Ce)&16))}:function(Ge,ft){if(ft){for(;ft=ft.parentNode;)if(ft===Ge)return!0}return!1},En=Fe?function(Ge,ft){if(Ge===ft)return Nt=!0,0;var Rt=!Ge.compareDocumentPosition-!ft.compareDocumentPosition;return Rt||(Rt=(Ge.ownerDocument||Ge)==(ft.ownerDocument||ft)?Ge.compareDocumentPosition(ft):1,Rt&1||!D.sortDetached&&ft.compareDocumentPosition(Ge)===Rt?Ge==_t||Ge.ownerDocument==ri&&Yi(ri,Ge)?-1:ft==_t||ft.ownerDocument==ri&&Yi(ri,ft)?1:ct?bn(ct,Ge)-bn(ct,ft):0:Rt&4?-1:1)}:function(Ge,ft){if(Ge===ft)return Nt=!0,0;var Rt,Ce=0,Qe=Ge.parentNode,At=ft.parentNode,Ht=[Ge],Jt=[ft];if(!Qe||!At)return Ge==_t?-1:ft==_t?1:Qe?-1:At?1:ct?bn(ct,Ge)-bn(ct,ft):0;if(Qe===At)return Pi(Ge,ft);for(Rt=Ge;Rt=Rt.parentNode;)Ht.unshift(Rt);for(Rt=ft;Rt=Rt.parentNode;)Jt.unshift(Rt);for(;Ht[Ce]===Jt[Ce];)Ce++;return Ce?Pi(Ht[Ce],Jt[Ce]):Ht[Ce]==ri?-1:Jt[Ce]==ri?1:0}),_t},fi.matches=function(_e,Fe){return fi(_e,null,null,Fe)},fi.matchesSelector=function(_e,Fe){if(at(_e),D.matchesSelector&&si&&!Xi[Fe+" "]&&(!Si||!Si.test(Fe))&&(!$t||!$t.test(Fe)))try{var Ve=xi.call(_e,Fe);if(Ve||D.disconnectedMatch||_e.document&&_e.document.nodeType!==11)return Ve}catch{Xi(Fe,!0)}return fi(Fe,_t,null,[_e]).length>0},fi.contains=function(_e,Fe){return(_e.ownerDocument||_e)!=_t&&at(_e),Yi(_e,Fe)},fi.attr=function(_e,Fe){(_e.ownerDocument||_e)!=_t&&at(_e);var Ve=F.attrHandle[Fe.toLowerCase()],vt=Ve&&wn.call(F.attrHandle,Fe.toLowerCase())?Ve(_e,Fe,!si):void 0;return vt!==void 0?vt:D.attributes||!si?_e.getAttribute(Fe):(vt=_e.getAttributeNode(Fe))&&vt.specified?vt.value:null},fi.escape=function(_e){return(_e+"").replace(xr,ui)},fi.error=function(_e){throw new Error("Syntax error, unrecognized expression: "+_e)},fi.uniqueSort=function(_e){var Fe,Ve=[],vt=0,Ge=0;if(Nt=!D.detectDuplicates,ct=!D.sortStable&&_e.slice(0),_e.sort(En),Nt){for(;Fe=_e[Ge++];)Fe===_e[Ge]&&(vt=Ve.push(Ge));for(;vt--;)_e.splice(Ve[vt],1)}return ct=null,_e},X=fi.getText=function(_e){var Fe,Ve="",vt=0,Ge=_e.nodeType;if(Ge){if(Ge===1||Ge===9||Ge===11){if(typeof _e.textContent=="string")return _e.textContent;for(_e=_e.firstChild;_e;_e=_e.nextSibling)Ve+=X(_e)}else if(Ge===3||Ge===4)return _e.nodeValue}else for(;Fe=_e[vt++];)Ve+=X(Fe);return Ve},F=fi.selectors={cacheLength:50,createPseudo:Di,match:vn,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(_e){return _e[1]=_e[1].replace(on,Fi),_e[3]=(_e[3]||_e[4]||_e[5]||"").replace(on,Fi),_e[2]==="~="&&(_e[3]=" "+_e[3]+" "),_e.slice(0,4)},CHILD:function(_e){return _e[1]=_e[1].toLowerCase(),_e[1].slice(0,3)==="nth"?(_e[3]||fi.error(_e[0]),_e[4]=+(_e[4]?_e[5]+(_e[6]||1):2*(_e[3]==="even"||_e[3]==="odd")),_e[5]=+(_e[7]+_e[8]||_e[3]==="odd")):_e[3]&&fi.error(_e[0]),_e},PSEUDO:function(_e){var Fe,Ve=!_e[6]&&_e[2];return vn.CHILD.test(_e[0])?null:(_e[3]?_e[2]=_e[4]||_e[5]||"":Ve&&Qr.test(Ve)&&(Fe=ge(Ve,!0))&&(Fe=Ve.indexOf(")",Ve.length-Fe)-Ve.length)&&(_e[0]=_e[0].slice(0,Fe),_e[2]=Ve.slice(0,Fe)),_e.slice(0,3))}},filter:{TAG:function(_e){var Fe=_e.replace(on,Fi).toLowerCase();return _e==="*"?function(){return!0}:function(Ve){return Ve.nodeName&&Ve.nodeName.toLowerCase()===Fe}},CLASS:function(_e){var Fe=bi[_e+" "];return Fe||(Fe=new RegExp("(^|"+mi+")"+_e+"("+mi+"|$)"))&&bi(_e,function(Ve){return Fe.test(typeof Ve.className=="string"&&Ve.className||typeof Ve.getAttribute!="undefined"&&Ve.getAttribute("class")||"")})},ATTR:function(_e,Fe,Ve){return function(vt){var Ge=fi.attr(vt,_e);return Ge==null?Fe==="!=":Fe?(Ge+="",Fe==="="?Ge===Ve:Fe==="!="?Ge!==Ve:Fe==="^="?Ve&&Ge.indexOf(Ve)===0:Fe==="*="?Ve&&Ge.indexOf(Ve)>-1:Fe==="$="?Ve&&Ge.slice(-Ve.length)===Ve:Fe==="~="?(" "+Ge.replace(Xr," ")+" ").indexOf(Ve)>-1:Fe==="|="?Ge===Ve||Ge.slice(0,Ve.length+1)===Ve+"-":!1):!0}},CHILD:function(_e,Fe,Ve,vt,Ge){var ft=_e.slice(0,3)!=="nth",Rt=_e.slice(-4)!=="last",Ce=Fe==="of-type";return vt===1&&Ge===0?function(Qe){return!!Qe.parentNode}:function(Qe,At,Ht){var Jt,oi,vi,ti,Ni,Gi,nn=ft!==Rt?"nextSibling":"previousSibling",Ci=Qe.parentNode,rr=Ce&&Qe.nodeName.toLowerCase(),sr=!Ht&&!Ce,rn=!1;if(Ci){if(ft){for(;nn;){for(ti=Qe;ti=ti[nn];)if(Ce?ti.nodeName.toLowerCase()===rr:ti.nodeType===1)return!1;Gi=nn=_e==="only"&&!Gi&&"nextSibling"}return!0}if(Gi=[Rt?Ci.firstChild:Ci.lastChild],Rt&&sr){for(ti=Ci,vi=ti[_i]||(ti[_i]={}),oi=vi[ti.uniqueID]||(vi[ti.uniqueID]={}),Jt=oi[_e]||[],Ni=Jt[0]===Bi&&Jt[1],rn=Ni&&Jt[2],ti=Ni&&Ci.childNodes[Ni];ti=++Ni&&ti&&ti[nn]||(rn=Ni=0)||Gi.pop();)if(ti.nodeType===1&&++rn&&ti===Qe){oi[_e]=[Bi,Ni,rn];break}}else if(sr&&(ti=Qe,vi=ti[_i]||(ti[_i]={}),oi=vi[ti.uniqueID]||(vi[ti.uniqueID]={}),Jt=oi[_e]||[],Ni=Jt[0]===Bi&&Jt[1],rn=Ni),rn===!1)for(;(ti=++Ni&&ti&&ti[nn]||(rn=Ni=0)||Gi.pop())&&!((Ce?ti.nodeName.toLowerCase()===rr:ti.nodeType===1)&&++rn&&(sr&&(vi=ti[_i]||(ti[_i]={}),oi=vi[ti.uniqueID]||(vi[ti.uniqueID]={}),oi[_e]=[Bi,rn]),ti===Qe)););return rn-=Ge,rn===vt||rn%vt==0&&rn/vt>=0}}},PSEUDO:function(_e,Fe){var Ve,vt=F.pseudos[_e]||F.setFilters[_e.toLowerCase()]||fi.error("unsupported pseudo: "+_e);return vt[_i]?vt(Fe):vt.length>1?(Ve=[_e,_e,"",Fe],F.setFilters.hasOwnProperty(_e.toLowerCase())?Di(function(Ge,ft){for(var Rt,Ce=vt(Ge,Fe),Qe=Ce.length;Qe--;)Rt=bn(Ge,Ce[Qe]),Ge[Rt]=!(ft[Rt]=Ce[Qe])}):function(Ge){return vt(Ge,0,Ve)}):vt}},pseudos:{not:Di(function(_e){var Fe=[],Ve=[],vt=Le(_e.replace(On,"$1"));return vt[_i]?Di(function(Ge,ft,Rt,Ce){for(var Qe,At=vt(Ge,null,Ce,[]),Ht=Ge.length;Ht--;)(Qe=At[Ht])&&(Ge[Ht]=!(ft[Ht]=Qe))}):function(Ge,ft,Rt){return Fe[0]=Ge,vt(Fe,null,Rt,Ve),Fe[0]=null,!Ve.pop()}}),has:Di(function(_e){return function(Fe){return fi(_e,Fe).length>0}}),contains:Di(function(_e){return _e=_e.replace(on,Fi),function(Fe){return(Fe.textContent||X(Fe)).indexOf(_e)>-1}}),lang:Di(function(_e){return Jr.test(_e||"")||fi.error("unsupported lang: "+_e),_e=_e.replace(on,Fi).toLowerCase(),function(Fe){var Ve;do if(Ve=si?Fe.lang:Fe.getAttribute("xml:lang")||Fe.getAttribute("lang"))return Ve=Ve.toLowerCase(),Ve===_e||Ve.indexOf(_e+"-")===0;while((Fe=Fe.parentNode)&&Fe.nodeType===1);return!1}}),target:function(_e){var Fe=l.location&&l.location.hash;return Fe&&Fe.slice(1)===_e.id},root:function(_e){return _e===Kt},focus:function(_e){return _e===_t.activeElement&&(!_t.hasFocus||_t.hasFocus())&&!!(_e.type||_e.href||~_e.tabIndex)},enabled:gi(!1),disabled:gi(!0),checked:function(_e){var Fe=_e.nodeName.toLowerCase();return Fe==="input"&&!!_e.checked||Fe==="option"&&!!_e.selected},selected:function(_e){return _e.parentNode&&_e.parentNode.selectedIndex,_e.selected===!0},empty:function(_e){for(_e=_e.firstChild;_e;_e=_e.nextSibling)if(_e.nodeType<6)return!1;return!0},parent:function(_e){return!F.pseudos.empty(_e)},header:function(_e){return nr.test(_e.nodeName)},input:function(_e){return qn.test(_e.nodeName)},button:function(_e){var Fe=_e.nodeName.toLowerCase();return Fe==="input"&&_e.type==="button"||Fe==="button"},text:function(_e){var Fe;return _e.nodeName.toLowerCase()==="input"&&_e.type==="text"&&((Fe=_e.getAttribute("type"))==null||Fe.toLowerCase()==="text")},first:cn(function(){return[0]}),last:cn(function(_e,Fe){return[Fe-1]}),eq:cn(function(_e,Fe,Ve){return[Ve<0?Ve+Fe:Ve]}),even:cn(function(_e,Fe){for(var Ve=0;Ve<Fe;Ve+=2)_e.push(Ve);return _e}),odd:cn(function(_e,Fe){for(var Ve=1;Ve<Fe;Ve+=2)_e.push(Ve);return _e}),lt:cn(function(_e,Fe,Ve){for(var vt=Ve<0?Ve+Fe:Ve>Fe?Fe:Ve;--vt>=0;)_e.push(vt);return _e}),gt:cn(function(_e,Fe,Ve){for(var vt=Ve<0?Ve+Fe:Ve;++vt<Fe;)_e.push(vt);return _e})}},F.pseudos.nth=F.pseudos.eq;for(v in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})F.pseudos[v]=Ri(v);for(v in{submit:!0,reset:!0})F.pseudos[v]=Fn(v);function zi(){}zi.prototype=F.filters=F.pseudos,F.setFilters=new zi,ge=fi.tokenize=function(_e,Fe){var Ve,vt,Ge,ft,Rt,Ce,Qe,At=Nn[_e+" "];if(At)return Fe?0:At.slice(0);for(Rt=_e,Ce=[],Qe=F.preFilter;Rt;){(!Ve||(vt=Kr.exec(Rt)))&&(vt&&(Rt=Rt.slice(vt[0].length)||Rt),Ce.push(Ge=[])),Ve=!1,(vt=tr.exec(Rt))&&(Ve=vt.shift(),Ge.push({value:Ve,type:vt[0].replace(On," ")}),Rt=Rt.slice(Ve.length));for(ft in F.filter)(vt=vn[ft].exec(Rt))&&(!Qe[ft]||(vt=Qe[ft](vt)))&&(Ve=vt.shift(),Ge.push({value:Ve,type:ft,matches:vt}),Rt=Rt.slice(Ve.length));if(!Ve)break}return Fe?Rt.length:Rt?fi.error(_e):Nn(_e,Ce).slice(0)};function yn(_e){for(var Fe=0,Ve=_e.length,vt="";Fe<Ve;Fe++)vt+=_e[Fe].value;return vt}function xn(_e,Fe,Ve){var vt=Fe.dir,Ge=Fe.next,ft=Ge||vt,Rt=Ve&&ft==="parentNode",Ce=hi++;return Fe.first?function(Qe,At,Ht){for(;Qe=Qe[vt];)if(Qe.nodeType===1||Rt)return _e(Qe,At,Ht);return!1}:function(Qe,At,Ht){var Jt,oi,vi,ti=[Bi,Ce];if(Ht){for(;Qe=Qe[vt];)if((Qe.nodeType===1||Rt)&&_e(Qe,At,Ht))return!0}else for(;Qe=Qe[vt];)if(Qe.nodeType===1||Rt)if(vi=Qe[_i]||(Qe[_i]={}),oi=vi[Qe.uniqueID]||(vi[Qe.uniqueID]={}),Ge&&Ge===Qe.nodeName.toLowerCase())Qe=Qe[vt]||Qe;else{if((Jt=oi[ft])&&Jt[0]===Bi&&Jt[1]===Ce)return ti[2]=Jt[2];if(oi[ft]=ti,ti[2]=_e(Qe,At,Ht))return!0}return!1}}function Vi(_e){return _e.length>1?function(Fe,Ve,vt){for(var Ge=_e.length;Ge--;)if(!_e[Ge](Fe,Ve,vt))return!1;return!0}:_e[0]}function tn(_e,Fe,Ve){for(var vt=0,Ge=Fe.length;vt<Ge;vt++)fi(_e,Fe[vt],Ve);return Ve}function Zt(_e,Fe,Ve,vt,Ge){for(var ft,Rt=[],Ce=0,Qe=_e.length,At=Fe!=null;Ce<Qe;Ce++)(ft=_e[Ce])&&(!Ve||Ve(ft,vt,Ge))&&(Rt.push(ft),At&&Fe.push(Ce));return Rt}function an(_e,Fe,Ve,vt,Ge,ft){return vt&&!vt[_i]&&(vt=an(vt)),Ge&&!Ge[_i]&&(Ge=an(Ge,ft)),Di(function(Rt,Ce,Qe,At){var Ht,Jt,oi,vi=[],ti=[],Ni=Ce.length,Gi=Rt||tn(Fe||"*",Qe.nodeType?[Qe]:Qe,[]),nn=_e&&(Rt||!Fe)?Zt(Gi,vi,_e,Qe,At):Gi,Ci=Ve?Ge||(Rt?_e:Ni||vt)?[]:Ce:nn;if(Ve&&Ve(nn,Ci,Qe,At),vt)for(Ht=Zt(Ci,ti),vt(Ht,[],Qe,At),Jt=Ht.length;Jt--;)(oi=Ht[Jt])&&(Ci[ti[Jt]]=!(nn[ti[Jt]]=oi));if(Rt){if(Ge||_e){if(Ge){for(Ht=[],Jt=Ci.length;Jt--;)(oi=Ci[Jt])&&Ht.push(nn[Jt]=oi);Ge(null,Ci=[],Ht,At)}for(Jt=Ci.length;Jt--;)(oi=Ci[Jt])&&(Ht=Ge?bn(Rt,oi):vi[Jt])>-1&&(Rt[Ht]=!(Ce[Ht]=oi))}}else Ci=Zt(Ci===Ce?Ci.splice(Ni,Ci.length):Ci),Ge?Ge(null,Ce,Ci,At):mn.apply(Ce,Ci)})}function ln(_e){for(var Fe,Ve,vt,Ge=_e.length,ft=F.relative[_e[0].type],Rt=ft||F.relative[" "],Ce=ft?1:0,Qe=xn(function(Jt){return Jt===Fe},Rt,!0),At=xn(function(Jt){return bn(Fe,Jt)>-1},Rt,!0),Ht=[function(Jt,oi,vi){var ti=!ft&&(vi||oi!==$e)||((Fe=oi).nodeType?Qe(Jt,oi,vi):At(Jt,oi,vi));return Fe=null,ti}];Ce<Ge;Ce++)if(Ve=F.relative[_e[Ce].type])Ht=[xn(Vi(Ht),Ve)];else{if(Ve=F.filter[_e[Ce].type].apply(null,_e[Ce].matches),Ve[_i]){for(vt=++Ce;vt<Ge&&!F.relative[_e[vt].type];vt++);return an(Ce>1&&Vi(Ht),Ce>1&&yn(_e.slice(0,Ce-1).concat({value:_e[Ce-2].type===" "?"*":""})).replace(On,"$1"),Ve,Ce<vt&&ln(_e.slice(Ce,vt)),vt<Ge&&ln(_e=_e.slice(vt)),vt<Ge&&yn(_e))}Ht.push(Ve)}return Vi(Ht)}function Ei(_e,Fe){var Ve=Fe.length>0,vt=_e.length>0,Ge=function(ft,Rt,Ce,Qe,At){var Ht,Jt,oi,vi=0,ti="0",Ni=ft&&[],Gi=[],nn=$e,Ci=ft||vt&&F.find.TAG("*",At),rr=Bi+=nn==null?1:Math.random()||.1,sr=Ci.length;for(At&&($e=Rt==_t||Rt||At);ti!==sr&&(Ht=Ci[ti])!=null;ti++){if(vt&&Ht){for(Jt=0,!Rt&&Ht.ownerDocument!=_t&&(at(Ht),Ce=!si);oi=_e[Jt++];)if(oi(Ht,Rt||_t,Ce)){Qe.push(Ht);break}At&&(Bi=rr)}Ve&&((Ht=!oi&&Ht)&&vi--,ft&&Ni.push(Ht))}if(vi+=ti,Ve&&ti!==vi){for(Jt=0;oi=Fe[Jt++];)oi(Ni,Gi,Rt,Ce);if(ft){if(vi>0)for(;ti--;)Ni[ti]||Gi[ti]||(Gi[ti]=gn.call(Qe));Gi=Zt(Gi)}mn.apply(Qe,Gi),At&&!ft&&Gi.length>0&&vi+Fe.length>1&&fi.uniqueSort(Qe)}return At&&(Bi=rr,$e=nn),Ni};return Ve?Di(Ge):Ge}return Le=fi.compile=function(_e,Fe){var Ve,vt=[],Ge=[],ft=jn[_e+" "];if(!ft){for(Fe||(Fe=ge(_e)),Ve=Fe.length;Ve--;)ft=ln(Fe[Ve]),ft[_i]?vt.push(ft):Ge.push(ft);ft=jn(_e,Ei(Ge,vt)),ft.selector=_e}return ft},He=fi.select=function(_e,Fe,Ve,vt){var Ge,ft,Rt,Ce,Qe,At=typeof _e=="function"&&_e,Ht=!vt&&ge(_e=At.selector||_e);if(Ve=Ve||[],Ht.length===1){if(ft=Ht[0]=Ht[0].slice(0),ft.length>2&&(Rt=ft[0]).type==="ID"&&Fe.nodeType===9&&si&&F.relative[ft[1].type]){if(Fe=(F.find.ID(Rt.matches[0].replace(on,Fi),Fe)||[])[0],Fe)At&&(Fe=Fe.parentNode);else return Ve;_e=_e.slice(ft.shift().value.length)}for(Ge=vn.needsContext.test(_e)?0:ft.length;Ge--&&(Rt=ft[Ge],!F.relative[Ce=Rt.type]);)if((Qe=F.find[Ce])&&(vt=Qe(Rt.matches[0].replace(on,Fi),en.test(ft[0].type)&&Mi(Fe.parentNode)||Fe))){if(ft.splice(Ge,1),_e=vt.length&&yn(ft),!_e)return mn.apply(Ve,vt),Ve;break}}return(At||Le(_e,Ht))(vt,Fe,!si,Ve,!Fe||en.test(_e)&&Mi(Fe.parentNode)||Fe),Ve},D.sortStable=_i.split("").sort(En).join("")===_i,D.detectDuplicates=!!Nt,at(),D.sortDetached=Ui(function(_e){return _e.compareDocumentPosition(_t.createElement("fieldset"))&1}),Ui(function(_e){return _e.innerHTML="<a href='#'></a>",_e.firstChild.getAttribute("href")==="#"})||Ki("type|href|height|width",function(_e,Fe,Ve){if(!Ve)return _e.getAttribute(Fe,Fe.toLowerCase()==="type"?1:2)}),(!D.attributes||!Ui(function(_e){return _e.innerHTML="<input/>",_e.firstChild.setAttribute("value",""),_e.firstChild.getAttribute("value")===""}))&&Ki("value",function(_e,Fe,Ve){if(!Ve&&_e.nodeName.toLowerCase()==="input")return _e.defaultValue}),Ui(function(_e){return _e.getAttribute("disabled")==null})||Ki($n,function(_e,Fe,Ve){var vt;if(!Ve)return _e[Fe]===!0?Fe.toLowerCase():(vt=_e.getAttributeNode(Fe))&&vt.specified?vt.value:null}),fi}(t);o.find=I,o.expr=I.selectors,o.expr[":"]=o.expr.pseudos,o.uniqueSort=o.unique=I.uniqueSort,o.text=I.getText,o.isXMLDoc=I.isXML,o.contains=I.contains,o.escapeSelector=I.escape;var O=function(l,v,D){for(var F=[],X=D!==void 0;(l=l[v])&&l.nodeType!==9;)if(l.nodeType===1){if(X&&o(l).is(D))break;F.push(l)}return F},q=function(l,v){for(var D=[];l;l=l.nextSibling)l.nodeType===1&&l!==v&&D.push(l);return D},Q=o.expr.match.needsContext;function pe(l,v){return l.nodeName&&l.nodeName.toLowerCase()===v.toLowerCase()}var re=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function le(l,v,D){return R(v)?o.grep(l,function(F,X){return!!v.call(F,X,F)!==D}):v.nodeType?o.grep(l,function(F){return F===v!==D}):typeof v!="string"?o.grep(l,function(F){return _.call(v,F)>-1!==D}):o.filter(v,l,D)}o.filter=function(l,v,D){var F=v[0];return D&&(l=":not("+l+")"),v.length===1&&F.nodeType===1?o.find.matchesSelector(F,l)?[F]:[]:o.find.matches(l,o.grep(v,function(X){return X.nodeType===1}))},o.fn.extend({find:function(l){var v,D,F=this.length,X=this;if(typeof l!="string")return this.pushStack(o(l).filter(function(){for(v=0;v<F;v++)if(o.contains(X[v],this))return!0}));for(D=this.pushStack([]),v=0;v<F;v++)o.find(l,X[v],D);return F>1?o.uniqueSort(D):D},filter:function(l){return this.pushStack(le(this,l||[],!1))},not:function(l){return this.pushStack(le(this,l||[],!0))},is:function(l){return!!le(this,typeof l=="string"&&Q.test(l)?o(l):l||[],!1).length}});var ee,be=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,ie=o.fn.init=function(l,v,D){var F,X;if(!l)return this;if(D=D||ee,typeof l=="string")if(l[0]==="<"&&l[l.length-1]===">"&&l.length>=3?F=[null,l,null]:F=be.exec(l),F&&(F[1]||!v))if(F[1]){if(v=v instanceof o?v[0]:v,o.merge(this,o.parseHTML(F[1],v&&v.nodeType?v.ownerDocument||v:M,!0)),re.test(F[1])&&o.isPlainObject(v))for(F in v)R(this[F])?this[F](v[F]):this.attr(F,v[F]);return this}else return X=M.getElementById(F[2]),X&&(this[0]=X,this.length=1),this;else return!v||v.jquery?(v||D).find(l):this.constructor(v).find(l);else{if(l.nodeType)return this[0]=l,this.length=1,this;if(R(l))return D.ready!==void 0?D.ready(l):l(o)}return o.makeArray(l,this)};ie.prototype=o.fn,ee=o(M);var Te=/^(?:parents|prev(?:Until|All))/,ve={children:!0,contents:!0,next:!0,prev:!0};o.fn.extend({has:function(l){var v=o(l,this),D=v.length;return this.filter(function(){for(var F=0;F<D;F++)if(o.contains(this,v[F]))return!0})},closest:function(l,v){var D,F=0,X=this.length,te=[],ge=typeof l!="string"&&o(l);if(!Q.test(l)){for(;F<X;F++)for(D=this[F];D&&D!==v;D=D.parentNode)if(D.nodeType<11&&(ge?ge.index(D)>-1:D.nodeType===1&&o.find.matchesSelector(D,l))){te.push(D);break}}return this.pushStack(te.length>1?o.uniqueSort(te):te)},index:function(l){return l?typeof l=="string"?_.call(o(l),this[0]):_.call(this,l.jquery?l[0]:l):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(l,v){return this.pushStack(o.uniqueSort(o.merge(this.get(),o(l,v))))},addBack:function(l){return this.add(l==null?this.prevObject:this.prevObject.filter(l))}});function fe(l,v){for(;(l=l[v])&&l.nodeType!==1;);return l}o.each({parent:function(l){var v=l.parentNode;return v&&v.nodeType!==11?v:null},parents:function(l){return O(l,"parentNode")},parentsUntil:function(l,v,D){return O(l,"parentNode",D)},next:function(l){return fe(l,"nextSibling")},prev:function(l){return fe(l,"previousSibling")},nextAll:function(l){return O(l,"nextSibling")},prevAll:function(l){return O(l,"previousSibling")},nextUntil:function(l,v,D){return O(l,"nextSibling",D)},prevUntil:function(l,v,D){return O(l,"previousSibling",D)},siblings:function(l){return q((l.parentNode||{}).firstChild,l)},children:function(l){return q(l.firstChild)},contents:function(l){return l.contentDocument!=null&&f(l.contentDocument)?l.contentDocument:(pe(l,"template")&&(l=l.content||l),o.merge([],l.childNodes))}},function(l,v){o.fn[l]=function(D,F){var X=o.map(this,v,D);return l.slice(-5)!=="Until"&&(F=D),F&&typeof F=="string"&&(X=o.filter(F,X)),this.length>1&&(ve[l]||o.uniqueSort(X),Te.test(l)&&X.reverse()),this.pushStack(X)}});var Ee=/[^\x20\t\r\n\f]+/g;function Ae(l){var v={};return o.each(l.match(Ee)||[],function(D,F){v[F]=!0}),v}o.Callbacks=function(l){l=typeof l=="string"?Ae(l):o.extend({},l);var v,D,F,X,te=[],ge=[],Le=-1,He=function(){for(X=X||l.once,F=v=!0;ge.length;Le=-1)for(D=ge.shift();++Le<te.length;)te[Le].apply(D[0],D[1])===!1&&l.stopOnFalse&&(Le=te.length,D=!1);l.memory||(D=!1),v=!1,X&&(D?te=[]:te="")},$e={add:function(){return te&&(D&&!v&&(Le=te.length-1,ge.push(D)),function ct(Nt){o.each(Nt,function(at,_t){R(_t)?(!l.unique||!$e.has(_t))&&te.push(_t):_t&&_t.length&&j(_t)!=="string"&&ct(_t)})}(arguments),D&&!v&&He()),this},remove:function(){return o.each(arguments,function(ct,Nt){for(var at;(at=o.inArray(Nt,te,at))>-1;)te.splice(at,1),at<=Le&&Le--}),this},has:function(ct){return ct?o.inArray(ct,te)>-1:te.length>0},empty:function(){return te&&(te=[]),this},disable:function(){return X=ge=[],te=D="",this},disabled:function(){return!te},lock:function(){return X=ge=[],!D&&!v&&(te=D=""),this},locked:function(){return!!X},fireWith:function(ct,Nt){return X||(Nt=Nt||[],Nt=[ct,Nt.slice?Nt.slice():Nt],ge.push(Nt),v||He()),this},fire:function(){return $e.fireWith(this,arguments),this},fired:function(){return!!F}};return $e};function z(l){return l}function ce(l){throw l}function Se(l,v,D,F){var X;try{l&&R(X=l.promise)?X.call(l).done(v).fail(D):l&&R(X=l.then)?X.call(l,v,D):v.apply(void 0,[l].slice(F))}catch(te){D.apply(void 0,[te])}}o.extend({Deferred:function(l){var v=[["notify","progress",o.Callbacks("memory"),o.Callbacks("memory"),2],["resolve","done",o.Callbacks("once memory"),o.Callbacks("once memory"),0,"resolved"],["reject","fail",o.Callbacks("once memory"),o.Callbacks("once memory"),1,"rejected"]],D="pending",F={state:function(){return D},always:function(){return X.done(arguments).fail(arguments),this},catch:function(te){return F.then(null,te)},pipe:function(){var te=arguments;return o.Deferred(function(ge){o.each(v,function(Le,He){var $e=R(te[He[4]])&&te[He[4]];X[He[1]](function(){var ct=$e&&$e.apply(this,arguments);ct&&R(ct.promise)?ct.promise().progress(ge.notify).done(ge.resolve).fail(ge.reject):ge[He[0]+"With"](this,$e?[ct]:arguments)})}),te=null}).promise()},then:function(te,ge,Le){var He=0;function $e(ct,Nt,at,_t){return function(){var Kt=this,si=arguments,$t=function(){var xi,Yi;if(!(ct<He)){if(xi=at.apply(Kt,si),xi===Nt.promise())throw new TypeError("Thenable self-resolution");Yi=xi&&(typeof xi=="object"||typeof xi=="function")&&xi.then,R(Yi)?_t?Yi.call(xi,$e(He,Nt,z,_t),$e(He,Nt,ce,_t)):(He++,Yi.call(xi,$e(He,Nt,z,_t),$e(He,Nt,ce,_t),$e(He,Nt,z,Nt.notifyWith))):(at!==z&&(Kt=void 0,si=[xi]),(_t||Nt.resolveWith)(Kt,si))}},Si=_t?$t:function(){try{$t()}catch(xi){o.Deferred.exceptionHook&&o.Deferred.exceptionHook(xi,Si.stackTrace),ct+1>=He&&(at!==ce&&(Kt=void 0,si=[xi]),Nt.rejectWith(Kt,si))}};ct?Si():(o.Deferred.getStackHook&&(Si.stackTrace=o.Deferred.getStackHook()),t.setTimeout(Si))}}return o.Deferred(function(ct){v[0][3].add($e(0,ct,R(Le)?Le:z,ct.notifyWith)),v[1][3].add($e(0,ct,R(te)?te:z)),v[2][3].add($e(0,ct,R(ge)?ge:ce))}).promise()},promise:function(te){return te!=null?o.extend(te,F):F}},X={};return o.each(v,function(te,ge){var Le=ge[2],He=ge[5];F[ge[1]]=Le.add,He&&Le.add(function(){D=He},v[3-te][2].disable,v[3-te][3].disable,v[0][2].lock,v[0][3].lock),Le.add(ge[3].fire),X[ge[0]]=function(){return X[ge[0]+"With"](this===X?void 0:this,arguments),this},X[ge[0]+"With"]=Le.fireWith}),F.promise(X),l&&l.call(X,X),X},when:function(l){var v=arguments.length,D=v,F=Array(D),X=g.call(arguments),te=o.Deferred(),ge=function(Le){return function(He){F[Le]=this,X[Le]=arguments.length>1?g.call(arguments):He,--v||te.resolveWith(F,X)}};if(v<=1&&(Se(l,te.done(ge(D)).resolve,te.reject,!v),te.state()==="pending"||R(X[D]&&X[D].then)))return te.then();for(;D--;)Se(X[D],ge(D),te.reject);return te.promise()}});var De=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;o.Deferred.exceptionHook=function(l,v){t.console&&t.console.warn&&l&&De.test(l.name)&&t.console.warn("jQuery.Deferred exception: "+l.message,l.stack,v)},o.readyException=function(l){t.setTimeout(function(){throw l})};var ae=o.Deferred();o.fn.ready=function(l){return ae.then(l).catch(function(v){o.readyException(v)}),this},o.extend({isReady:!1,readyWait:1,ready:function(l){(l===!0?--o.readyWait:o.isReady)||(o.isReady=!0,!(l!==!0&&--o.readyWait>0)&&ae.resolveWith(M,[o]))}}),o.ready.then=ae.then;function me(){M.removeEventListener("DOMContentLoaded",me),t.removeEventListener("load",me),o.ready()}M.readyState==="complete"||M.readyState!=="loading"&&!M.documentElement.doScroll?t.setTimeout(o.ready):(M.addEventListener("DOMContentLoaded",me),t.addEventListener("load",me));var Ie=function(l,v,D,F,X,te,ge){var Le=0,He=l.length,$e=D==null;if(j(D)==="object"){X=!0;for(Le in D)Ie(l,v,Le,D[Le],!0,te,ge)}else if(F!==void 0&&(X=!0,R(F)||(ge=!0),$e&&(ge?(v.call(l,F),v=null):($e=v,v=function(ct,Nt,at){return $e.call(o(ct),at)})),v))for(;Le<He;Le++)v(l[Le],D,ge?F:F.call(l[Le],Le,v(l[Le],D)));return X?l:$e?v.call(l):He?v(l[0],D):te},xe=/^-ms-/,de=/-([a-z])/g;function Pe(l,v){return v.toUpperCase()}function P(l){return l.replace(xe,"ms-").replace(de,Pe)}var J=function(l){return l.nodeType===1||l.nodeType===9||!+l.nodeType};function L(){this.expando=o.expando+L.uid++}L.uid=1,L.prototype={cache:function(l){var v=l[this.expando];return v||(v=Object.create(null),J(l)&&(l.nodeType?l[this.expando]=v:Object.defineProperty(l,this.expando,{value:v,configurable:!0}))),v},set:function(l,v,D){var F,X=this.cache(l);if(typeof v=="string")X[P(v)]=D;else for(F in v)X[P(F)]=v[F];return X},get:function(l,v){return v===void 0?this.cache(l):l[this.expando]&&l[this.expando][P(v)]},access:function(l,v,D){return v===void 0||v&&typeof v=="string"&&D===void 0?this.get(l,v):(this.set(l,v,D),D!==void 0?D:v)},remove:function(l,v){var D,F=l[this.expando];if(F!==void 0){if(v!==void 0)for(Array.isArray(v)?v=v.map(P):(v=P(v),v=v in F?[v]:v.match(Ee)||[]),D=v.length;D--;)delete F[v[D]];(v===void 0||o.isEmptyObject(F))&&(l.nodeType?l[this.expando]=void 0:delete l[this.expando])}},hasData:function(l){var v=l[this.expando];return v!==void 0&&!o.isEmptyObject(v)}};var k=new L,ne=new L,K=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,he=/[A-Z]/g;function we(l){return l==="true"?!0:l==="false"?!1:l==="null"?null:l===+l+""?+l:K.test(l)?JSON.parse(l):l}function c(l,v,D){var F;if(D===void 0&&l.nodeType===1)if(F="data-"+v.replace(he,"-$&").toLowerCase(),D=l.getAttribute(F),typeof D=="string"){try{D=we(D)}catch{}ne.set(l,v,D)}else D=void 0;return D}o.extend({hasData:function(l){return ne.hasData(l)||k.hasData(l)},data:function(l,v,D){return ne.access(l,v,D)},removeData:function(l,v){ne.remove(l,v)},_data:function(l,v,D){return k.access(l,v,D)},_removeData:function(l,v){k.remove(l,v)}}),o.fn.extend({data:function(l,v){var D,F,X,te=this[0],ge=te&&te.attributes;if(l===void 0){if(this.length&&(X=ne.get(te),te.nodeType===1&&!k.get(te,"hasDataAttrs"))){for(D=ge.length;D--;)ge[D]&&(F=ge[D].name,F.indexOf("data-")===0&&(F=P(F.slice(5)),c(te,F,X[F])));k.set(te,"hasDataAttrs",!0)}return X}return typeof l=="object"?this.each(function(){ne.set(this,l)}):Ie(this,function(Le){var He;if(te&&Le===void 0)return He=ne.get(te,l),He!==void 0||(He=c(te,l),He!==void 0)?He:void 0;this.each(function(){ne.set(this,l,Le)})},null,v,arguments.length>1,null,!0)},removeData:function(l){return this.each(function(){ne.remove(this,l)})}}),o.extend({queue:function(l,v,D){var F;if(l)return v=(v||"fx")+"queue",F=k.get(l,v),D&&(!F||Array.isArray(D)?F=k.access(l,v,o.makeArray(D)):F.push(D)),F||[]},dequeue:function(l,v){v=v||"fx";var D=o.queue(l,v),F=D.length,X=D.shift(),te=o._queueHooks(l,v),ge=function(){o.dequeue(l,v)};X==="inprogress"&&(X=D.shift(),F--),X&&(v==="fx"&&D.unshift("inprogress"),delete te.stop,X.call(l,ge,te)),!F&&te&&te.empty.fire()},_queueHooks:function(l,v){var D=v+"queueHooks";return k.get(l,D)||k.access(l,D,{empty:o.Callbacks("once memory").add(function(){k.remove(l,[v+"queue",D])})})}}),o.fn.extend({queue:function(l,v){var D=2;return typeof l!="string"&&(v=l,l="fx",D--),arguments.length<D?o.queue(this[0],l):v===void 0?this:this.each(function(){var F=o.queue(this,l,v);o._queueHooks(this,l),l==="fx"&&F[0]!=="inprogress"&&o.dequeue(this,l)})},dequeue:function(l){return this.each(function(){o.dequeue(this,l)})},clearQueue:function(l){return this.queue(l||"fx",[])},promise:function(l,v){var D,F=1,X=o.Deferred(),te=this,ge=this.length,Le=function(){--F||X.resolveWith(te,[te])};for(typeof l!="string"&&(v=l,l=void 0),l=l||"fx";ge--;)D=k.get(te[ge],l+"queueHooks"),D&&D.empty&&(F++,D.empty.add(Le));return Le(),X.promise(v)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,U=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),W=["Top","Right","Bottom","Left"],Z=M.documentElement,ye=function(l){return o.contains(l.ownerDocument,l)},qe={composed:!0};Z.getRootNode&&(ye=function(l){return o.contains(l.ownerDocument,l)||l.getRootNode(qe)===l.ownerDocument});var ke=function(l,v){return l=v||l,l.style.display==="none"||l.style.display===""&&ye(l)&&o.css(l,"display")==="none"};function We(l,v,D,F){var X,te,ge=20,Le=F?function(){return F.cur()}:function(){return o.css(l,v,"")},He=Le(),$e=D&&D[3]||(o.cssNumber[v]?"":"px"),ct=l.nodeType&&(o.cssNumber[v]||$e!=="px"&&+He)&&U.exec(o.css(l,v));if(ct&&ct[3]!==$e){for(He=He/2,$e=$e||ct[3],ct=+He||1;ge--;)o.style(l,v,ct+$e),(1-te)*(1-(te=Le()/He||.5))<=0&&(ge=0),ct=ct/te;ct=ct*2,o.style(l,v,ct+$e),D=D||[]}return D&&(ct=+ct||+He||0,X=D[1]?ct+(D[1]+1)*D[2]:+D[2],F&&(F.unit=$e,F.start=ct,F.end=X)),X}var Ye={};function Xe(l){var v,D=l.ownerDocument,F=l.nodeName,X=Ye[F];return X||(v=D.body.appendChild(D.createElement(F)),X=o.css(v,"display"),v.parentNode.removeChild(v),X==="none"&&(X="block"),Ye[F]=X,X)}function ht(l,v){for(var D,F,X=[],te=0,ge=l.length;te<ge;te++)F=l[te],!!F.style&&(D=F.style.display,v?(D==="none"&&(X[te]=k.get(F,"display")||null,X[te]||(F.style.display="")),F.style.display===""&&ke(F)&&(X[te]=Xe(F))):D!=="none"&&(X[te]="none",k.set(F,"display",D)));for(te=0;te<ge;te++)X[te]!=null&&(l[te].style.display=X[te]);return l}o.fn.extend({show:function(){return ht(this,!0)},hide:function(){return ht(this)},toggle:function(l){return typeof l=="boolean"?l?this.show():this.hide():this.each(function(){ke(this)?o(this).show():o(this).hide()})}});var Ct=/^(?:checkbox|radio)$/i,Ke=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,pt=/^$|^module$|\/(?:java|ecma)script/i;(function(){var l=M.createDocumentFragment(),v=l.appendChild(M.createElement("div")),D=M.createElement("input");D.setAttribute("type","radio"),D.setAttribute("checked","checked"),D.setAttribute("name","t"),v.appendChild(D),C.checkClone=v.cloneNode(!0).cloneNode(!0).lastChild.checked,v.innerHTML="<textarea>x</textarea>",C.noCloneChecked=!!v.cloneNode(!0).lastChild.defaultValue,v.innerHTML="<option></option>",C.option=!!v.lastChild})();var dt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};dt.tbody=dt.tfoot=dt.colgroup=dt.caption=dt.thead,dt.th=dt.td,C.option||(dt.optgroup=dt.option=[1,"<select multiple='multiple'>","</select>"]);function nt(l,v){var D;return typeof l.getElementsByTagName!="undefined"?D=l.getElementsByTagName(v||"*"):typeof l.querySelectorAll!="undefined"?D=l.querySelectorAll(v||"*"):D=[],v===void 0||v&&pe(l,v)?o.merge([l],D):D}function Lt(l,v){for(var D=0,F=l.length;D<F;D++)k.set(l[D],"globalEval",!v||k.get(v[D],"globalEval"))}var Ut=/<|&#?\w+;/;function gt(l,v,D,F,X){for(var te,ge,Le,He,$e,ct,Nt=v.createDocumentFragment(),at=[],_t=0,Kt=l.length;_t<Kt;_t++)if(te=l[_t],te||te===0)if(j(te)==="object")o.merge(at,te.nodeType?[te]:te);else if(!Ut.test(te))at.push(v.createTextNode(te));else{for(ge=ge||Nt.appendChild(v.createElement("div")),Le=(Ke.exec(te)||["",""])[1].toLowerCase(),He=dt[Le]||dt._default,ge.innerHTML=He[1]+o.htmlPrefilter(te)+He[2],ct=He[0];ct--;)ge=ge.lastChild;o.merge(at,ge.childNodes),ge=Nt.firstChild,ge.textContent=""}for(Nt.textContent="",_t=0;te=at[_t++];){if(F&&o.inArray(te,F)>-1){X&&X.push(te);continue}if($e=ye(te),ge=nt(Nt.appendChild(te),"script"),$e&&Lt(ge),D)for(ct=0;te=ge[ct++];)pt.test(te.type||"")&&D.push(te)}return Nt}var Tt=/^key/,st=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Je=/^([^.]*)(?:\.(.+)|)/;function et(){return!0}function St(){return!1}function wt(l,v){return l===lt()==(v==="focus")}function lt(){try{return M.activeElement}catch{}}function ut(l,v,D,F,X,te){var ge,Le;if(typeof v=="object"){typeof D!="string"&&(F=F||D,D=void 0);for(Le in v)ut(l,Le,D,F,v[Le],te);return l}if(F==null&&X==null?(X=D,F=D=void 0):X==null&&(typeof D=="string"?(X=F,F=void 0):(X=F,F=D,D=void 0)),X===!1)X=St;else if(!X)return l;return te===1&&(ge=X,X=function(He){return o().off(He),ge.apply(this,arguments)},X.guid=ge.guid||(ge.guid=o.guid++)),l.each(function(){o.event.add(this,v,X,F,D)})}o.event={global:{},add:function(l,v,D,F,X){var te,ge,Le,He,$e,ct,Nt,at,_t,Kt,si,$t=k.get(l);if(!!J(l))for(D.handler&&(te=D,D=te.handler,X=te.selector),X&&o.find.matchesSelector(Z,X),D.guid||(D.guid=o.guid++),(He=$t.events)||(He=$t.events=Object.create(null)),(ge=$t.handle)||(ge=$t.handle=function(Si){return typeof o!="undefined"&&o.event.triggered!==Si.type?o.event.dispatch.apply(l,arguments):void 0}),v=(v||"").match(Ee)||[""],$e=v.length;$e--;)Le=Je.exec(v[$e])||[],_t=si=Le[1],Kt=(Le[2]||"").split(".").sort(),!!_t&&(Nt=o.event.special[_t]||{},_t=(X?Nt.delegateType:Nt.bindType)||_t,Nt=o.event.special[_t]||{},ct=o.extend({type:_t,origType:si,data:F,handler:D,guid:D.guid,selector:X,needsContext:X&&o.expr.match.needsContext.test(X),namespace:Kt.join(".")},te),(at=He[_t])||(at=He[_t]=[],at.delegateCount=0,(!Nt.setup||Nt.setup.call(l,F,Kt,ge)===!1)&&l.addEventListener&&l.addEventListener(_t,ge)),Nt.add&&(Nt.add.call(l,ct),ct.handler.guid||(ct.handler.guid=D.guid)),X?at.splice(at.delegateCount++,0,ct):at.push(ct),o.event.global[_t]=!0)},remove:function(l,v,D,F,X){var te,ge,Le,He,$e,ct,Nt,at,_t,Kt,si,$t=k.hasData(l)&&k.get(l);if(!(!$t||!(He=$t.events))){for(v=(v||"").match(Ee)||[""],$e=v.length;$e--;){if(Le=Je.exec(v[$e])||[],_t=si=Le[1],Kt=(Le[2]||"").split(".").sort(),!_t){for(_t in He)o.event.remove(l,_t+v[$e],D,F,!0);continue}for(Nt=o.event.special[_t]||{},_t=(F?Nt.delegateType:Nt.bindType)||_t,at=He[_t]||[],Le=Le[2]&&new RegExp("(^|\\.)"+Kt.join("\\.(?:.*\\.|)")+"(\\.|$)"),ge=te=at.length;te--;)ct=at[te],(X||si===ct.origType)&&(!D||D.guid===ct.guid)&&(!Le||Le.test(ct.namespace))&&(!F||F===ct.selector||F==="**"&&ct.selector)&&(at.splice(te,1),ct.selector&&at.delegateCount--,Nt.remove&&Nt.remove.call(l,ct));ge&&!at.length&&((!Nt.teardown||Nt.teardown.call(l,Kt,$t.handle)===!1)&&o.removeEvent(l,_t,$t.handle),delete He[_t])}o.isEmptyObject(He)&&k.remove(l,"handle events")}},dispatch:function(l){var v,D,F,X,te,ge,Le=new Array(arguments.length),He=o.event.fix(l),$e=(k.get(this,"events")||Object.create(null))[He.type]||[],ct=o.event.special[He.type]||{};for(Le[0]=He,v=1;v<arguments.length;v++)Le[v]=arguments[v];if(He.delegateTarget=this,!(ct.preDispatch&&ct.preDispatch.call(this,He)===!1)){for(ge=o.event.handlers.call(this,He,$e),v=0;(X=ge[v++])&&!He.isPropagationStopped();)for(He.currentTarget=X.elem,D=0;(te=X.handlers[D++])&&!He.isImmediatePropagationStopped();)(!He.rnamespace||te.namespace===!1||He.rnamespace.test(te.namespace))&&(He.handleObj=te,He.data=te.data,F=((o.event.special[te.origType]||{}).handle||te.handler).apply(X.elem,Le),F!==void 0&&(He.result=F)===!1&&(He.preventDefault(),He.stopPropagation()));return ct.postDispatch&&ct.postDispatch.call(this,He),He.result}},handlers:function(l,v){var D,F,X,te,ge,Le=[],He=v.delegateCount,$e=l.target;if(He&&$e.nodeType&&!(l.type==="click"&&l.button>=1)){for(;$e!==this;$e=$e.parentNode||this)if($e.nodeType===1&&!(l.type==="click"&&$e.disabled===!0)){for(te=[],ge={},D=0;D<He;D++)F=v[D],X=F.selector+" ",ge[X]===void 0&&(ge[X]=F.needsContext?o(X,this).index($e)>-1:o.find(X,this,null,[$e]).length),ge[X]&&te.push(F);te.length&&Le.push({elem:$e,handlers:te})}}return $e=this,He<v.length&&Le.push({elem:$e,handlers:v.slice(He)}),Le},addProp:function(l,v){Object.defineProperty(o.Event.prototype,l,{enumerable:!0,configurable:!0,get:R(v)?function(){if(this.originalEvent)return v(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[l]},set:function(D){Object.defineProperty(this,l,{enumerable:!0,configurable:!0,writable:!0,value:D})}})},fix:function(l){return l[o.expando]?l:new o.Event(l)},special:{load:{noBubble:!0},click:{setup:function(l){var v=this||l;return Ct.test(v.type)&&v.click&&pe(v,"input")&&bt(v,"click",et),!1},trigger:function(l){var v=this||l;return Ct.test(v.type)&&v.click&&pe(v,"input")&&bt(v,"click"),!0},_default:function(l){var v=l.target;return Ct.test(v.type)&&v.click&&pe(v,"input")&&k.get(v,"click")||pe(v,"a")}},beforeunload:{postDispatch:function(l){l.result!==void 0&&l.originalEvent&&(l.originalEvent.returnValue=l.result)}}}};function bt(l,v,D){if(!D){k.get(l,v)===void 0&&o.event.add(l,v,et);return}k.set(l,v,!1),o.event.add(l,v,{namespace:!1,handler:function(F){var X,te,ge=k.get(this,v);if(F.isTrigger&1&&this[v]){if(ge.length)(o.event.special[v]||{}).delegateType&&F.stopPropagation();else if(ge=g.call(arguments),k.set(this,v,ge),X=D(this,v),this[v](),te=k.get(this,v),ge!==te||X?k.set(this,v,!1):te={},ge!==te)return F.stopImmediatePropagation(),F.preventDefault(),te.value}else ge.length&&(k.set(this,v,{value:o.event.trigger(o.extend(ge[0],o.Event.prototype),ge.slice(1),this)}),F.stopImmediatePropagation())}})}o.removeEvent=function(l,v,D){l.removeEventListener&&l.removeEventListener(v,D)},o.Event=function(l,v){if(!(this instanceof o.Event))return new o.Event(l,v);l&&l.type?(this.originalEvent=l,this.type=l.type,this.isDefaultPrevented=l.defaultPrevented||l.defaultPrevented===void 0&&l.returnValue===!1?et:St,this.target=l.target&&l.target.nodeType===3?l.target.parentNode:l.target,this.currentTarget=l.currentTarget,this.relatedTarget=l.relatedTarget):this.type=l,v&&o.extend(this,v),this.timeStamp=l&&l.timeStamp||Date.now(),this[o.expando]=!0},o.Event.prototype={constructor:o.Event,isDefaultPrevented:St,isPropagationStopped:St,isImmediatePropagationStopped:St,isSimulated:!1,preventDefault:function(){var l=this.originalEvent;this.isDefaultPrevented=et,l&&!this.isSimulated&&l.preventDefault()},stopPropagation:function(){var l=this.originalEvent;this.isPropagationStopped=et,l&&!this.isSimulated&&l.stopPropagation()},stopImmediatePropagation:function(){var l=this.originalEvent;this.isImmediatePropagationStopped=et,l&&!this.isSimulated&&l.stopImmediatePropagation(),this.stopPropagation()}},o.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(l){var v=l.button;return l.which==null&&Tt.test(l.type)?l.charCode!=null?l.charCode:l.keyCode:!l.which&&v!==void 0&&st.test(l.type)?v&1?1:v&2?3:v&4?2:0:l.which}},o.event.addProp),o.each({focus:"focusin",blur:"focusout"},function(l,v){o.event.special[l]={setup:function(){return bt(this,l,wt),!1},trigger:function(){return bt(this,l),!0},delegateType:v}}),o.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(l,v){o.event.special[l]={delegateType:v,bindType:v,handle:function(D){var F,X=this,te=D.relatedTarget,ge=D.handleObj;return(!te||te!==X&&!o.contains(X,te))&&(D.type=ge.origType,F=ge.handler.apply(this,arguments),D.type=v),F}}}),o.fn.extend({on:function(l,v,D,F){return ut(this,l,v,D,F)},one:function(l,v,D,F){return ut(this,l,v,D,F,1)},off:function(l,v,D){var F,X;if(l&&l.preventDefault&&l.handleObj)return F=l.handleObj,o(l.delegateTarget).off(F.namespace?F.origType+"."+F.namespace:F.origType,F.selector,F.handler),this;if(typeof l=="object"){for(X in l)this.off(X,v,l[X]);return this}return(v===!1||typeof v=="function")&&(D=v,v=void 0),D===!1&&(D=St),this.each(function(){o.event.remove(this,l,D,v)})}});var kt=/<script|<style|<link/i,Mt=/checked\s*(?:[^=]|=\s*.checked.)/i,se=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Be(l,v){return pe(l,"table")&&pe(v.nodeType!==11?v:v.firstChild,"tr")&&o(l).children("tbody")[0]||l}function e(l){return l.type=(l.getAttribute("type")!==null)+"/"+l.type,l}function i(l){return(l.type||"").slice(0,5)==="true/"?l.type=l.type.slice(5):l.removeAttribute("type"),l}function n(l,v){var D,F,X,te,ge,Le,He;if(v.nodeType===1){if(k.hasData(l)&&(te=k.get(l),He=te.events,He)){k.remove(v,"handle events");for(X in He)for(D=0,F=He[X].length;D<F;D++)o.event.add(v,X,He[X][D])}ne.hasData(l)&&(ge=ne.access(l),Le=o.extend({},ge),ne.set(v,Le))}}function r(l,v){var D=v.nodeName.toLowerCase();D==="input"&&Ct.test(l.type)?v.checked=l.checked:(D==="input"||D==="textarea")&&(v.defaultValue=l.defaultValue)}function h(l,v,D,F){v=E(v);var X,te,ge,Le,He,$e,ct=0,Nt=l.length,at=Nt-1,_t=v[0],Kt=R(_t);if(Kt||Nt>1&&typeof _t=="string"&&!C.checkClone&&Mt.test(_t))return l.each(function(si){var $t=l.eq(si);Kt&&(v[0]=_t.call(this,si,$t.html())),h($t,v,D,F)});if(Nt&&(X=gt(v,l[0].ownerDocument,!1,l,F),te=X.firstChild,X.childNodes.length===1&&(X=te),te||F)){for(ge=o.map(nt(X,"script"),e),Le=ge.length;ct<Nt;ct++)He=X,ct!==at&&(He=o.clone(He,!0,!0),Le&&o.merge(ge,nt(He,"script"))),D.call(l[ct],He,ct);if(Le)for($e=ge[ge.length-1].ownerDocument,o.map(ge,i),ct=0;ct<Le;ct++)He=ge[ct],pt.test(He.type||"")&&!k.access(He,"globalEval")&&o.contains($e,He)&&(He.src&&(He.type||"").toLowerCase()!=="module"?o._evalUrl&&!He.noModule&&o._evalUrl(He.src,{nonce:He.nonce||He.getAttribute("nonce")},$e):Y(He.textContent.replace(se,""),He,$e))}return l}function w(l,v,D){for(var F,X=v?o.filter(v,l):l,te=0;(F=X[te])!=null;te++)!D&&F.nodeType===1&&o.cleanData(nt(F)),F.parentNode&&(D&&ye(F)&&Lt(nt(F,"script")),F.parentNode.removeChild(F));return l}o.extend({htmlPrefilter:function(l){return l},clone:function(l,v,D){var F,X,te,ge,Le=l.cloneNode(!0),He=ye(l);if(!C.noCloneChecked&&(l.nodeType===1||l.nodeType===11)&&!o.isXMLDoc(l))for(ge=nt(Le),te=nt(l),F=0,X=te.length;F<X;F++)r(te[F],ge[F]);if(v)if(D)for(te=te||nt(l),ge=ge||nt(Le),F=0,X=te.length;F<X;F++)n(te[F],ge[F]);else n(l,Le);return ge=nt(Le,"script"),ge.length>0&&Lt(ge,!He&&nt(l,"script")),Le},cleanData:function(l){for(var v,D,F,X=o.event.special,te=0;(D=l[te])!==void 0;te++)if(J(D)){if(v=D[k.expando]){if(v.events)for(F in v.events)X[F]?o.event.remove(D,F):o.removeEvent(D,F,v.handle);D[k.expando]=void 0}D[ne.expando]&&(D[ne.expando]=void 0)}}}),o.fn.extend({detach:function(l){return w(this,l,!0)},remove:function(l){return w(this,l)},text:function(l){return Ie(this,function(v){return v===void 0?o.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=v)})},null,l,arguments.length)},append:function(){return h(this,arguments,function(l){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var v=Be(this,l);v.appendChild(l)}})},prepend:function(){return h(this,arguments,function(l){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var v=Be(this,l);v.insertBefore(l,v.firstChild)}})},before:function(){return h(this,arguments,function(l){this.parentNode&&this.parentNode.insertBefore(l,this)})},after:function(){return h(this,arguments,function(l){this.parentNode&&this.parentNode.insertBefore(l,this.nextSibling)})},empty:function(){for(var l,v=0;(l=this[v])!=null;v++)l.nodeType===1&&(o.cleanData(nt(l,!1)),l.textContent="");return this},clone:function(l,v){return l=l??!1,v=v??l,this.map(function(){return o.clone(this,l,v)})},html:function(l){return Ie(this,function(v){var D=this[0]||{},F=0,X=this.length;if(v===void 0&&D.nodeType===1)return D.innerHTML;if(typeof v=="string"&&!kt.test(v)&&!dt[(Ke.exec(v)||["",""])[1].toLowerCase()]){v=o.htmlPrefilter(v);try{for(;F<X;F++)D=this[F]||{},D.nodeType===1&&(o.cleanData(nt(D,!1)),D.innerHTML=v);D=0}catch{}}D&&this.empty().append(v)},null,l,arguments.length)},replaceWith:function(){var l=[];return h(this,arguments,function(v){var D=this.parentNode;o.inArray(this,l)<0&&(o.cleanData(nt(this)),D&&D.replaceChild(v,this))},l)}}),o.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(l,v){o.fn[l]=function(D){for(var F,X=[],te=o(D),ge=te.length-1,Le=0;Le<=ge;Le++)F=Le===ge?this:this.clone(!0),o(te[Le])[v](F),d.apply(X,F.get());return this.pushStack(X)}});var B=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),V=function(l){var v=l.ownerDocument.defaultView;return(!v||!v.opener)&&(v=t),v.getComputedStyle(l)},oe=function(l,v,D){var F,X,te={};for(X in v)te[X]=l.style[X],l.style[X]=v[X];F=D.call(l);for(X in v)l.style[X]=te[X];return F},Me=new RegExp(W.join("|"),"i");(function(){function l(){if(!!$e){He.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",$e.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Z.appendChild(He).appendChild($e);var ct=t.getComputedStyle($e);D=ct.top!=="1%",Le=v(ct.marginLeft)===12,$e.style.right="60%",te=v(ct.right)===36,F=v(ct.width)===36,$e.style.position="absolute",X=v($e.offsetWidth/3)===12,Z.removeChild(He),$e=null}}function v(ct){return Math.round(parseFloat(ct))}var D,F,X,te,ge,Le,He=M.createElement("div"),$e=M.createElement("div");!$e.style||($e.style.backgroundClip="content-box",$e.cloneNode(!0).style.backgroundClip="",C.clearCloneStyle=$e.style.backgroundClip==="content-box",o.extend(C,{boxSizingReliable:function(){return l(),F},pixelBoxStyles:function(){return l(),te},pixelPosition:function(){return l(),D},reliableMarginLeft:function(){return l(),Le},scrollboxSize:function(){return l(),X},reliableTrDimensions:function(){var ct,Nt,at,_t;return ge==null&&(ct=M.createElement("table"),Nt=M.createElement("tr"),at=M.createElement("div"),ct.style.cssText="position:absolute;left:-11111px",Nt.style.height="1px",at.style.height="9px",Z.appendChild(ct).appendChild(Nt).appendChild(at),_t=t.getComputedStyle(Nt),ge=parseInt(_t.height)>3,Z.removeChild(ct)),ge}}))})();function Re(l,v,D){var F,X,te,ge,Le=l.style;return D=D||V(l),D&&(ge=D.getPropertyValue(v)||D[v],ge===""&&!ye(l)&&(ge=o.style(l,v)),!C.pixelBoxStyles()&&B.test(ge)&&Me.test(v)&&(F=Le.width,X=Le.minWidth,te=Le.maxWidth,Le.minWidth=Le.maxWidth=Le.width=ge,ge=D.width,Le.width=F,Le.minWidth=X,Le.maxWidth=te)),ge!==void 0?ge+"":ge}function je(l,v){return{get:function(){if(l()){delete this.get;return}return(this.get=v).apply(this,arguments)}}}var ze=["Webkit","Moz","ms"],Ne=M.createElement("div").style,Oe={};function tt(l){for(var v=l[0].toUpperCase()+l.slice(1),D=ze.length;D--;)if(l=ze[D]+v,l in Ne)return l}function it(l){var v=o.cssProps[l]||Oe[l];return v||(l in Ne?l:Oe[l]=tt(l)||l)}var xt=/^(none|table(?!-c[ea]).+)/,Ot=/^--/,Wt={position:"absolute",visibility:"hidden",display:"block"},zt={letterSpacing:"0",fontWeight:"400"};function qt(l,v,D){var F=U.exec(v);return F?Math.max(0,F[2]-(D||0))+(F[3]||"px"):v}function Bt(l,v,D,F,X,te){var ge=v==="width"?1:0,Le=0,He=0;if(D===(F?"border":"content"))return 0;for(;ge<4;ge+=2)D==="margin"&&(He+=o.css(l,D+W[ge],!0,X)),F?(D==="content"&&(He-=o.css(l,"padding"+W[ge],!0,X)),D!=="margin"&&(He-=o.css(l,"border"+W[ge]+"Width",!0,X))):(He+=o.css(l,"padding"+W[ge],!0,X),D!=="padding"?He+=o.css(l,"border"+W[ge]+"Width",!0,X):Le+=o.css(l,"border"+W[ge]+"Width",!0,X));return!F&&te>=0&&(He+=Math.max(0,Math.ceil(l["offset"+v[0].toUpperCase()+v.slice(1)]-te-He-Le-.5))||0),He}function rt(l,v,D){var F=V(l),X=!C.boxSizingReliable()||D,te=X&&o.css(l,"boxSizing",!1,F)==="border-box",ge=te,Le=Re(l,v,F),He="offset"+v[0].toUpperCase()+v.slice(1);if(B.test(Le)){if(!D)return Le;Le="auto"}return(!C.boxSizingReliable()&&te||!C.reliableTrDimensions()&&pe(l,"tr")||Le==="auto"||!parseFloat(Le)&&o.css(l,"display",!1,F)==="inline")&&l.getClientRects().length&&(te=o.css(l,"boxSizing",!1,F)==="border-box",ge=He in l,ge&&(Le=l[He])),Le=parseFloat(Le)||0,Le+Bt(l,v,D||(te?"border":"content"),ge,F,Le)+"px"}o.extend({cssHooks:{opacity:{get:function(l,v){if(v){var D=Re(l,"opacity");return D===""?"1":D}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(l,v,D,F){if(!(!l||l.nodeType===3||l.nodeType===8||!l.style)){var X,te,ge,Le=P(v),He=Ot.test(v),$e=l.style;if(He||(v=it(Le)),ge=o.cssHooks[v]||o.cssHooks[Le],D!==void 0){if(te=typeof D,te==="string"&&(X=U.exec(D))&&X[1]&&(D=We(l,v,X),te="number"),D==null||D!==D)return;te==="number"&&!He&&(D+=X&&X[3]||(o.cssNumber[Le]?"":"px")),!C.clearCloneStyle&&D===""&&v.indexOf("background")===0&&($e[v]="inherit"),(!ge||!("set"in ge)||(D=ge.set(l,D,F))!==void 0)&&(He?$e.setProperty(v,D):$e[v]=D)}else return ge&&"get"in ge&&(X=ge.get(l,!1,F))!==void 0?X:$e[v]}},css:function(l,v,D,F){var X,te,ge,Le=P(v),He=Ot.test(v);return He||(v=it(Le)),ge=o.cssHooks[v]||o.cssHooks[Le],ge&&"get"in ge&&(X=ge.get(l,!0,D)),X===void 0&&(X=Re(l,v,F)),X==="normal"&&v in zt&&(X=zt[v]),D===""||D?(te=parseFloat(X),D===!0||isFinite(te)?te||0:X):X}}),o.each(["height","width"],function(l,v){o.cssHooks[v]={get:function(D,F,X){if(F)return xt.test(o.css(D,"display"))&&(!D.getClientRects().length||!D.getBoundingClientRect().width)?oe(D,Wt,function(){return rt(D,v,X)}):rt(D,v,X)},set:function(D,F,X){var te,ge=V(D),Le=!C.scrollboxSize()&&ge.position==="absolute",He=Le||X,$e=He&&o.css(D,"boxSizing",!1,ge)==="border-box",ct=X?Bt(D,v,X,$e,ge):0;return $e&&Le&&(ct-=Math.ceil(D["offset"+v[0].toUpperCase()+v.slice(1)]-parseFloat(ge[v])-Bt(D,v,"border",!1,ge)-.5)),ct&&(te=U.exec(F))&&(te[3]||"px")!=="px"&&(D.style[v]=F,F=o.css(D,v)),qt(D,F,ct)}}}),o.cssHooks.marginLeft=je(C.reliableMarginLeft,function(l,v){if(v)return(parseFloat(Re(l,"marginLeft"))||l.getBoundingClientRect().left-oe(l,{marginLeft:0},function(){return l.getBoundingClientRect().left}))+"px"}),o.each({margin:"",padding:"",border:"Width"},function(l,v){o.cssHooks[l+v]={expand:function(D){for(var F=0,X={},te=typeof D=="string"?D.split(" "):[D];F<4;F++)X[l+W[F]+v]=te[F]||te[F-2]||te[0];return X}},l!=="margin"&&(o.cssHooks[l+v].set=qt)}),o.fn.extend({css:function(l,v){return Ie(this,function(D,F,X){var te,ge,Le={},He=0;if(Array.isArray(F)){for(te=V(D),ge=F.length;He<ge;He++)Le[F[He]]=o.css(D,F[He],!1,te);return Le}return X!==void 0?o.style(D,F,X):o.css(D,F)},l,v,arguments.length>1)}});function It(l,v,D,F,X){return new It.prototype.init(l,v,D,F,X)}o.Tween=It,It.prototype={constructor:It,init:function(l,v,D,F,X,te){this.elem=l,this.prop=D,this.easing=X||o.easing._default,this.options=v,this.start=this.now=this.cur(),this.end=F,this.unit=te||(o.cssNumber[D]?"":"px")},cur:function(){var l=It.propHooks[this.prop];return l&&l.get?l.get(this):It.propHooks._default.get(this)},run:function(l){var v,D=It.propHooks[this.prop];return this.options.duration?this.pos=v=o.easing[this.easing](l,this.options.duration*l,0,1,this.options.duration):this.pos=v=l,this.now=(this.end-this.start)*v+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),D&&D.set?D.set(this):It.propHooks._default.set(this),this}},It.prototype.init.prototype=It.prototype,It.propHooks={_default:{get:function(l){var v;return l.elem.nodeType!==1||l.elem[l.prop]!=null&&l.elem.style[l.prop]==null?l.elem[l.prop]:(v=o.css(l.elem,l.prop,""),!v||v==="auto"?0:v)},set:function(l){o.fx.step[l.prop]?o.fx.step[l.prop](l):l.elem.nodeType===1&&(o.cssHooks[l.prop]||l.elem.style[it(l.prop)]!=null)?o.style(l.elem,l.prop,l.now+l.unit):l.elem[l.prop]=l.now}}},It.propHooks.scrollTop=It.propHooks.scrollLeft={set:function(l){l.elem.nodeType&&l.elem.parentNode&&(l.elem[l.prop]=l.now)}},o.easing={linear:function(l){return l},swing:function(l){return .5-Math.cos(l*Math.PI)/2},_default:"swing"},o.fx=It.prototype.init,o.fx.step={};var Pt,Gt,Yt=/^(?:toggle|show|hide)$/,ei=/queueHooks$/;function Xt(){Gt&&(M.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(Xt):t.setTimeout(Xt,o.fx.interval),o.fx.tick())}function ni(){return t.setTimeout(function(){Pt=void 0}),Pt=Date.now()}function li(l,v){var D,F=0,X={height:l};for(v=v?1:0;F<4;F+=2-v)D=W[F],X["margin"+D]=X["padding"+D]=l;return v&&(X.opacity=X.width=l),X}function ai(l,v,D){for(var F,X=(Dt.tweeners[v]||[]).concat(Dt.tweeners["*"]),te=0,ge=X.length;te<ge;te++)if(F=X[te].call(D,v,l))return F}function di(l,v,D){var F,X,te,ge,Le,He,$e,ct,Nt="width"in v||"height"in v,at=this,_t={},Kt=l.style,si=l.nodeType&&ke(l),$t=k.get(l,"fxshow");D.queue||(ge=o._queueHooks(l,"fx"),ge.unqueued==null&&(ge.unqueued=0,Le=ge.empty.fire,ge.empty.fire=function(){ge.unqueued||Le()}),ge.unqueued++,at.always(function(){at.always(function(){ge.unqueued--,o.queue(l,"fx").length||ge.empty.fire()})}));for(F in v)if(X=v[F],Yt.test(X)){if(delete v[F],te=te||X==="toggle",X===(si?"hide":"show"))if(X==="show"&&$t&&$t[F]!==void 0)si=!0;else continue;_t[F]=$t&&$t[F]||o.style(l,F)}if(He=!o.isEmptyObject(v),!(!He&&o.isEmptyObject(_t))){Nt&&l.nodeType===1&&(D.overflow=[Kt.overflow,Kt.overflowX,Kt.overflowY],$e=$t&&$t.display,$e==null&&($e=k.get(l,"display")),ct=o.css(l,"display"),ct==="none"&&($e?ct=$e:(ht([l],!0),$e=l.style.display||$e,ct=o.css(l,"display"),ht([l]))),(ct==="inline"||ct==="inline-block"&&$e!=null)&&o.css(l,"float")==="none"&&(He||(at.done(function(){Kt.display=$e}),$e==null&&(ct=Kt.display,$e=ct==="none"?"":ct)),Kt.display="inline-block")),D.overflow&&(Kt.overflow="hidden",at.always(function(){Kt.overflow=D.overflow[0],Kt.overflowX=D.overflow[1],Kt.overflowY=D.overflow[2]})),He=!1;for(F in _t)He||($t?"hidden"in $t&&(si=$t.hidden):$t=k.access(l,"fxshow",{display:$e}),te&&($t.hidden=!si),si&&ht([l],!0),at.done(function(){si||ht([l]),k.remove(l,"fxshow");for(F in _t)o.style(l,F,_t[F])})),He=ai(si?$t[F]:0,F,at),F in $t||($t[F]=He.start,si&&(He.end=He.start,He.start=0))}}function Ze(l,v){var D,F,X,te,ge;for(D in l)if(F=P(D),X=v[F],te=l[D],Array.isArray(te)&&(X=te[1],te=l[D]=te[0]),D!==F&&(l[F]=te,delete l[D]),ge=o.cssHooks[F],ge&&"expand"in ge){te=ge.expand(te),delete l[F];for(D in te)D in l||(l[D]=te[D],v[D]=X)}else v[F]=X}function Dt(l,v,D){var F,X,te=0,ge=Dt.prefilters.length,Le=o.Deferred().always(function(){delete He.elem}),He=function(){if(X)return!1;for(var Nt=Pt||ni(),at=Math.max(0,$e.startTime+$e.duration-Nt),_t=at/$e.duration||0,Kt=1-_t,si=0,$t=$e.tweens.length;si<$t;si++)$e.tweens[si].run(Kt);return Le.notifyWith(l,[$e,Kt,at]),Kt<1&&$t?at:($t||Le.notifyWith(l,[$e,1,0]),Le.resolveWith(l,[$e]),!1)},$e=Le.promise({elem:l,props:o.extend({},v),opts:o.extend(!0,{specialEasing:{},easing:o.easing._default},D),originalProperties:v,originalOptions:D,startTime:Pt||ni(),duration:D.duration,tweens:[],createTween:function(Nt,at){var _t=o.Tween(l,$e.opts,Nt,at,$e.opts.specialEasing[Nt]||$e.opts.easing);return $e.tweens.push(_t),_t},stop:function(Nt){var at=0,_t=Nt?$e.tweens.length:0;if(X)return this;for(X=!0;at<_t;at++)$e.tweens[at].run(1);return Nt?(Le.notifyWith(l,[$e,1,0]),Le.resolveWith(l,[$e,Nt])):Le.rejectWith(l,[$e,Nt]),this}}),ct=$e.props;for(Ze(ct,$e.opts.specialEasing);te<ge;te++)if(F=Dt.prefilters[te].call($e,l,ct,$e.opts),F)return R(F.stop)&&(o._queueHooks($e.elem,$e.opts.queue).stop=F.stop.bind(F)),F;return o.map(ct,ai,$e),R($e.opts.start)&&$e.opts.start.call(l,$e),$e.progress($e.opts.progress).done($e.opts.done,$e.opts.complete).fail($e.opts.fail).always($e.opts.always),o.fx.timer(o.extend(He,{elem:l,anim:$e,queue:$e.opts.queue})),$e}o.Animation=o.extend(Dt,{tweeners:{"*":[function(l,v){var D=this.createTween(l,v);return We(D.elem,l,U.exec(v),D),D}]},tweener:function(l,v){R(l)?(v=l,l=["*"]):l=l.match(Ee);for(var D,F=0,X=l.length;F<X;F++)D=l[F],Dt.tweeners[D]=Dt.tweeners[D]||[],Dt.tweeners[D].unshift(v)},prefilters:[di],prefilter:function(l,v){v?Dt.prefilters.unshift(l):Dt.prefilters.push(l)}}),o.speed=function(l,v,D){var F=l&&typeof l=="object"?o.extend({},l):{complete:D||!D&&v||R(l)&&l,duration:l,easing:D&&v||v&&!R(v)&&v};return o.fx.off?F.duration=0:typeof F.duration!="number"&&(F.duration in o.fx.speeds?F.duration=o.fx.speeds[F.duration]:F.duration=o.fx.speeds._default),(F.queue==null||F.queue===!0)&&(F.queue="fx"),F.old=F.complete,F.complete=function(){R(F.old)&&F.old.call(this),F.queue&&o.dequeue(this,F.queue)},F},o.fn.extend({fadeTo:function(l,v,D,F){return this.filter(ke).css("opacity",0).show().end().animate({opacity:v},l,D,F)},animate:function(l,v,D,F){var X=o.isEmptyObject(l),te=o.speed(v,D,F),ge=function(){var Le=Dt(this,o.extend({},l),te);(X||k.get(this,"finish"))&&Le.stop(!0)};return ge.finish=ge,X||te.queue===!1?this.each(ge):this.queue(te.queue,ge)},stop:function(l,v,D){var F=function(X){var te=X.stop;delete X.stop,te(D)};return typeof l!="string"&&(D=v,v=l,l=void 0),v&&this.queue(l||"fx",[]),this.each(function(){var X=!0,te=l!=null&&l+"queueHooks",ge=o.timers,Le=k.get(this);if(te)Le[te]&&Le[te].stop&&F(Le[te]);else for(te in Le)Le[te]&&Le[te].stop&&ei.test(te)&&F(Le[te]);for(te=ge.length;te--;)ge[te].elem===this&&(l==null||ge[te].queue===l)&&(ge[te].anim.stop(D),X=!1,ge.splice(te,1));(X||!D)&&o.dequeue(this,l)})},finish:function(l){return l!==!1&&(l=l||"fx"),this.each(function(){var v,D=k.get(this),F=D[l+"queue"],X=D[l+"queueHooks"],te=o.timers,ge=F?F.length:0;for(D.finish=!0,o.queue(this,l,[]),X&&X.stop&&X.stop.call(this,!0),v=te.length;v--;)te[v].elem===this&&te[v].queue===l&&(te[v].anim.stop(!0),te.splice(v,1));for(v=0;v<ge;v++)F[v]&&F[v].finish&&F[v].finish.call(this);delete D.finish})}}),o.each(["toggle","show","hide"],function(l,v){var D=o.fn[v];o.fn[v]=function(F,X,te){return F==null||typeof F=="boolean"?D.apply(this,arguments):this.animate(li(v,!0),F,X,te)}}),o.each({slideDown:li("show"),slideUp:li("hide"),slideToggle:li("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(l,v){o.fn[l]=function(D,F,X){return this.animate(v,D,F,X)}}),o.timers=[],o.fx.tick=function(){var l,v=0,D=o.timers;for(Pt=Date.now();v<D.length;v++)l=D[v],!l()&&D[v]===l&&D.splice(v--,1);D.length||o.fx.stop(),Pt=void 0},o.fx.timer=function(l){o.timers.push(l),o.fx.start()},o.fx.interval=13,o.fx.start=function(){Gt||(Gt=!0,Xt())},o.fx.stop=function(){Gt=null},o.fx.speeds={slow:600,fast:200,_default:400},o.fn.delay=function(l,v){return l=o.fx&&o.fx.speeds[l]||l,v=v||"fx",this.queue(v,function(D,F){var X=t.setTimeout(D,l);F.stop=function(){t.clearTimeout(X)}})},function(){var l=M.createElement("input"),v=M.createElement("select"),D=v.appendChild(M.createElement("option"));l.type="checkbox",C.checkOn=l.value!=="",C.optSelected=D.selected,l=M.createElement("input"),l.value="t",l.type="radio",C.radioValue=l.value==="t"}();var ue,Ue=o.expr.attrHandle;o.fn.extend({attr:function(l,v){return Ie(this,o.attr,l,v,arguments.length>1)},removeAttr:function(l){return this.each(function(){o.removeAttr(this,l)})}}),o.extend({attr:function(l,v,D){var F,X,te=l.nodeType;if(!(te===3||te===8||te===2)){if(typeof l.getAttribute=="undefined")return o.prop(l,v,D);if((te!==1||!o.isXMLDoc(l))&&(X=o.attrHooks[v.toLowerCase()]||(o.expr.match.bool.test(v)?ue:void 0)),D!==void 0){if(D===null){o.removeAttr(l,v);return}return X&&"set"in X&&(F=X.set(l,D,v))!==void 0?F:(l.setAttribute(v,D+""),D)}return X&&"get"in X&&(F=X.get(l,v))!==null?F:(F=o.find.attr(l,v),F??void 0)}},attrHooks:{type:{set:function(l,v){if(!C.radioValue&&v==="radio"&&pe(l,"input")){var D=l.value;return l.setAttribute("type",v),D&&(l.value=D),v}}}},removeAttr:function(l,v){var D,F=0,X=v&&v.match(Ee);if(X&&l.nodeType===1)for(;D=X[F++];)l.removeAttribute(D)}}),ue={set:function(l,v,D){return v===!1?o.removeAttr(l,D):l.setAttribute(D,D),D}},o.each(o.expr.match.bool.source.match(/\w+/g),function(l,v){var D=Ue[v]||o.find.attr;Ue[v]=function(F,X,te){var ge,Le,He=X.toLowerCase();return te||(Le=Ue[He],Ue[He]=ge,ge=D(F,X,te)!=null?He:null,Ue[He]=Le),ge}});var ot=/^(?:input|select|textarea|button)$/i,mt=/^(?:a|area)$/i;o.fn.extend({prop:function(l,v){return Ie(this,o.prop,l,v,arguments.length>1)},removeProp:function(l){return this.each(function(){delete this[o.propFix[l]||l]})}}),o.extend({prop:function(l,v,D){var F,X,te=l.nodeType;if(!(te===3||te===8||te===2))return(te!==1||!o.isXMLDoc(l))&&(v=o.propFix[v]||v,X=o.propHooks[v]),D!==void 0?X&&"set"in X&&(F=X.set(l,D,v))!==void 0?F:l[v]=D:X&&"get"in X&&(F=X.get(l,v))!==null?F:l[v]},propHooks:{tabIndex:{get:function(l){var v=o.find.attr(l,"tabindex");return v?parseInt(v,10):ot.test(l.nodeName)||mt.test(l.nodeName)&&l.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),C.optSelected||(o.propHooks.selected={get:function(l){var v=l.parentNode;return v&&v.parentNode&&v.parentNode.selectedIndex,null},set:function(l){var v=l.parentNode;v&&(v.selectedIndex,v.parentNode&&v.parentNode.selectedIndex)}}),o.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){o.propFix[this.toLowerCase()]=this});function yt(l){var v=l.match(Ee)||[];return v.join(" ")}function Ft(l){return l.getAttribute&&l.getAttribute("class")||""}function Vt(l){return Array.isArray(l)?l:typeof l=="string"?l.match(Ee)||[]:[]}o.fn.extend({addClass:function(l){var v,D,F,X,te,ge,Le,He=0;if(R(l))return this.each(function($e){o(this).addClass(l.call(this,$e,Ft(this)))});if(v=Vt(l),v.length){for(;D=this[He++];)if(X=Ft(D),F=D.nodeType===1&&" "+yt(X)+" ",F){for(ge=0;te=v[ge++];)F.indexOf(" "+te+" ")<0&&(F+=te+" ");Le=yt(F),X!==Le&&D.setAttribute("class",Le)}}return this},removeClass:function(l){var v,D,F,X,te,ge,Le,He=0;if(R(l))return this.each(function($e){o(this).removeClass(l.call(this,$e,Ft(this)))});if(!arguments.length)return this.attr("class","");if(v=Vt(l),v.length){for(;D=this[He++];)if(X=Ft(D),F=D.nodeType===1&&" "+yt(X)+" ",F){for(ge=0;te=v[ge++];)for(;F.indexOf(" "+te+" ")>-1;)F=F.replace(" "+te+" "," ");Le=yt(F),X!==Le&&D.setAttribute("class",Le)}}return this},toggleClass:function(l,v){var D=typeof l,F=D==="string"||Array.isArray(l);return typeof v=="boolean"&&F?v?this.addClass(l):this.removeClass(l):R(l)?this.each(function(X){o(this).toggleClass(l.call(this,X,Ft(this),v),v)}):this.each(function(){var X,te,ge,Le;if(F)for(te=0,ge=o(this),Le=Vt(l);X=Le[te++];)ge.hasClass(X)?ge.removeClass(X):ge.addClass(X);else(l===void 0||D==="boolean")&&(X=Ft(this),X&&k.set(this,"__className__",X),this.setAttribute&&this.setAttribute("class",X||l===!1?"":k.get(this,"__className__")||""))})},hasClass:function(l){var v,D,F=0;for(v=" "+l+" ";D=this[F++];)if(D.nodeType===1&&(" "+yt(Ft(D))+" ").indexOf(v)>-1)return!0;return!1}});var ii=/\r/g;o.fn.extend({val:function(l){var v,D,F,X=this[0];return arguments.length?(F=R(l),this.each(function(te){var ge;this.nodeType===1&&(F?ge=l.call(this,te,o(this).val()):ge=l,ge==null?ge="":typeof ge=="number"?ge+="":Array.isArray(ge)&&(ge=o.map(ge,function(Le){return Le==null?"":Le+""})),v=o.valHooks[this.type]||o.valHooks[this.nodeName.toLowerCase()],(!v||!("set"in v)||v.set(this,ge,"value")===void 0)&&(this.value=ge))})):X?(v=o.valHooks[X.type]||o.valHooks[X.nodeName.toLowerCase()],v&&"get"in v&&(D=v.get(X,"value"))!==void 0?D:(D=X.value,typeof D=="string"?D.replace(ii,""):D??"")):void 0}}),o.extend({valHooks:{option:{get:function(l){var v=o.find.attr(l,"value");return v??yt(o.text(l))}},select:{get:function(l){var v,D,F,X=l.options,te=l.selectedIndex,ge=l.type==="select-one",Le=ge?null:[],He=ge?te+1:X.length;for(te<0?F=He:F=ge?te:0;F<He;F++)if(D=X[F],(D.selected||F===te)&&!D.disabled&&(!D.parentNode.disabled||!pe(D.parentNode,"optgroup"))){if(v=o(D).val(),ge)return v;Le.push(v)}return Le},set:function(l,v){for(var D,F,X=l.options,te=o.makeArray(v),ge=X.length;ge--;)F=X[ge],(F.selected=o.inArray(o.valHooks.option.get(F),te)>-1)&&(D=!0);return D||(l.selectedIndex=-1),te}}}}),o.each(["radio","checkbox"],function(){o.valHooks[this]={set:function(l,v){if(Array.isArray(v))return l.checked=o.inArray(o(l).val(),v)>-1}},C.checkOn||(o.valHooks[this].get=function(l){return l.getAttribute("value")===null?"on":l.value})}),C.focusin="onfocusin"in t;var Ti=/^(?:focusinfocus|focusoutblur)$/,pi=function(l){l.stopPropagation()};o.extend(o.event,{trigger:function(l,v,D,F){var X,te,ge,Le,He,$e,ct,Nt,at=[D||M],_t=m.call(l,"type")?l.type:l,Kt=m.call(l,"namespace")?l.namespace.split("."):[];if(te=Nt=ge=D=D||M,!(D.nodeType===3||D.nodeType===8)&&!Ti.test(_t+o.event.triggered)&&(_t.indexOf(".")>-1&&(Kt=_t.split("."),_t=Kt.shift(),Kt.sort()),He=_t.indexOf(":")<0&&"on"+_t,l=l[o.expando]?l:new o.Event(_t,typeof l=="object"&&l),l.isTrigger=F?2:3,l.namespace=Kt.join("."),l.rnamespace=l.namespace?new RegExp("(^|\\.)"+Kt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,l.result=void 0,l.target||(l.target=D),v=v==null?[l]:o.makeArray(v,[l]),ct=o.event.special[_t]||{},!(!F&&ct.trigger&&ct.trigger.apply(D,v)===!1))){if(!F&&!ct.noBubble&&!N(D)){for(Le=ct.delegateType||_t,Ti.test(Le+_t)||(te=te.parentNode);te;te=te.parentNode)at.push(te),ge=te;ge===(D.ownerDocument||M)&&at.push(ge.defaultView||ge.parentWindow||t)}for(X=0;(te=at[X++])&&!l.isPropagationStopped();)Nt=te,l.type=X>1?Le:ct.bindType||_t,$e=(k.get(te,"events")||Object.create(null))[l.type]&&k.get(te,"handle"),$e&&$e.apply(te,v),$e=He&&te[He],$e&&$e.apply&&J(te)&&(l.result=$e.apply(te,v),l.result===!1&&l.preventDefault());return l.type=_t,!F&&!l.isDefaultPrevented()&&(!ct._default||ct._default.apply(at.pop(),v)===!1)&&J(D)&&He&&R(D[_t])&&!N(D)&&(ge=D[He],ge&&(D[He]=null),o.event.triggered=_t,l.isPropagationStopped()&&Nt.addEventListener(_t,pi),D[_t](),l.isPropagationStopped()&&Nt.removeEventListener(_t,pi),o.event.triggered=void 0,ge&&(D[He]=ge)),l.result}},simulate:function(l,v,D){var F=o.extend(new o.Event,D,{type:l,isSimulated:!0});o.event.trigger(F,null,v)}}),o.fn.extend({trigger:function(l,v){return this.each(function(){o.event.trigger(l,v,this)})},triggerHandler:function(l,v){var D=this[0];if(D)return o.event.trigger(l,v,D,!0)}}),C.focusin||o.each({focus:"focusin",blur:"focusout"},function(l,v){var D=function(F){o.event.simulate(v,F.target,o.event.fix(F))};o.event.special[v]={setup:function(){var F=this.ownerDocument||this.document||this,X=k.access(F,v);X||F.addEventListener(l,D,!0),k.access(F,v,(X||0)+1)},teardown:function(){var F=this.ownerDocument||this.document||this,X=k.access(F,v)-1;X?k.access(F,v,X):(F.removeEventListener(l,D,!0),k.remove(F,v))}}});var ci=t.location,fn={guid:Date.now()},ki=/\?/;o.parseXML=function(l){var v;if(!l||typeof l!="string")return null;try{v=new t.DOMParser().parseFromString(l,"text/xml")}catch{v=void 0}return(!v||v.getElementsByTagName("parsererror").length)&&o.error("Invalid XML: "+l),v};var sn=/\[\]$/,Hi=/\r?\n/g,Ji=/^(?:submit|button|image|reset|file)$/i,ji=/^(?:input|select|textarea|keygen)/i;function Et(l,v,D,F){var X;if(Array.isArray(v))o.each(v,function(te,ge){D||sn.test(l)?F(l,ge):Et(l+"["+(typeof ge=="object"&&ge!=null?te:"")+"]",ge,D,F)});else if(!D&&j(v)==="object")for(X in v)Et(l+"["+X+"]",v[X],D,F);else F(l,v)}o.param=function(l,v){var D,F=[],X=function(te,ge){var Le=R(ge)?ge():ge;F[F.length]=encodeURIComponent(te)+"="+encodeURIComponent(Le??"")};if(l==null)return"";if(Array.isArray(l)||l.jquery&&!o.isPlainObject(l))o.each(l,function(){X(this.name,this.value)});else for(D in l)Et(D,l[D],v,X);return F.join("&")},o.fn.extend({serialize:function(){return o.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var l=o.prop(this,"elements");return l?o.makeArray(l):this}).filter(function(){var l=this.type;return this.name&&!o(this).is(":disabled")&&ji.test(this.nodeName)&&!Ji.test(l)&&(this.checked||!Ct.test(l))}).map(function(l,v){var D=o(this).val();return D==null?null:Array.isArray(D)?o.map(D,function(F){return{name:v.name,value:F.replace(Hi,`\r
`)}}):{name:v.name,value:D.replace(Hi,`\r
`)}}).get()}});var Qt=/%20/g,An=/#.*$/,Rn=/([?&])_=[^&]*/,Br=/^(.*?):[ \t]*([^\r\n]*)$/mg,Ur=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Hr=/^(?:GET|HEAD)$/,jr=/^\/\//,Tr={},Kn={},Er="*/".concat("*"),Qn=M.createElement("a");Qn.href=ci.href;function wr(l){return function(v,D){typeof v!="string"&&(D=v,v="*");var F,X=0,te=v.toLowerCase().match(Ee)||[];if(R(D))for(;F=te[X++];)F[0]==="+"?(F=F.slice(1)||"*",(l[F]=l[F]||[]).unshift(D)):(l[F]=l[F]||[]).push(D)}}function br(l,v,D,F){var X={},te=l===Kn;function ge(Le){var He;return X[Le]=!0,o.each(l[Le]||[],function($e,ct){var Nt=ct(v,D,F);if(typeof Nt=="string"&&!te&&!X[Nt])return v.dataTypes.unshift(Nt),ge(Nt),!1;if(te)return!(He=Nt)}),He}return ge(v.dataTypes[0])||!X["*"]&&ge("*")}function Jn(l,v){var D,F,X=o.ajaxSettings.flatOptions||{};for(D in v)v[D]!==void 0&&((X[D]?l:F||(F={}))[D]=v[D]);return F&&o.extend(!0,l,F),l}function qr(l,v,D){for(var F,X,te,ge,Le=l.contents,He=l.dataTypes;He[0]==="*";)He.shift(),F===void 0&&(F=l.mimeType||v.getResponseHeader("Content-Type"));if(F){for(X in Le)if(Le[X]&&Le[X].test(F)){He.unshift(X);break}}if(He[0]in D)te=He[0];else{for(X in D){if(!He[0]||l.converters[X+" "+He[0]]){te=X;break}ge||(ge=X)}te=te||ge}if(te)return te!==He[0]&&He.unshift(te),D[te]}function Wr(l,v,D,F){var X,te,ge,Le,He,$e={},ct=l.dataTypes.slice();if(ct[1])for(ge in l.converters)$e[ge.toLowerCase()]=l.converters[ge];for(te=ct.shift();te;)if(l.responseFields[te]&&(D[l.responseFields[te]]=v),!He&&F&&l.dataFilter&&(v=l.dataFilter(v,l.dataType)),He=te,te=ct.shift(),te){if(te==="*")te=He;else if(He!=="*"&&He!==te){if(ge=$e[He+" "+te]||$e["* "+te],!ge){for(X in $e)if(Le=X.split(" "),Le[1]===te&&(ge=$e[He+" "+Le[0]]||$e["* "+Le[0]],ge)){ge===!0?ge=$e[X]:$e[X]!==!0&&(te=Le[0],ct.unshift(Le[1]));break}}if(ge!==!0)if(ge&&l.throws)v=ge(v);else try{v=ge(v)}catch(Nt){return{state:"parsererror",error:ge?Nt:"No conversion from "+He+" to "+te}}}}return{state:"success",data:v}}o.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ci.href,type:"GET",isLocal:Ur.test(ci.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Er,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":o.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(l,v){return v?Jn(Jn(l,o.ajaxSettings),v):Jn(o.ajaxSettings,l)},ajaxPrefilter:wr(Tr),ajaxTransport:wr(Kn),ajax:function(l,v){typeof l=="object"&&(v=l,l=void 0),v=v||{};var D,F,X,te,ge,Le,He,$e,ct,Nt,at=o.ajaxSetup({},v),_t=at.context||at,Kt=at.context&&(_t.nodeType||_t.jquery)?o(_t):o.event,si=o.Deferred(),$t=o.Callbacks("once memory"),Si=at.statusCode||{},xi={},Yi={},_i="canceled",ri={readyState:0,getResponseHeader:function(hi){var bi;if(He){if(!te)for(te={};bi=Br.exec(X);)te[bi[1].toLowerCase()+" "]=(te[bi[1].toLowerCase()+" "]||[]).concat(bi[2]);bi=te[hi.toLowerCase()+" "]}return bi==null?null:bi.join(", ")},getAllResponseHeaders:function(){return He?X:null},setRequestHeader:function(hi,bi){return He==null&&(hi=Yi[hi.toLowerCase()]=Yi[hi.toLowerCase()]||hi,xi[hi]=bi),this},overrideMimeType:function(hi){return He==null&&(at.mimeType=hi),this},statusCode:function(hi){var bi;if(hi)if(He)ri.always(hi[ri.status]);else for(bi in hi)Si[bi]=[Si[bi],hi[bi]];return this},abort:function(hi){var bi=hi||_i;return D&&D.abort(bi),Bi(0,bi),this}};if(si.promise(ri),at.url=((l||at.url||ci.href)+"").replace(jr,ci.protocol+"//"),at.type=v.method||v.type||at.method||at.type,at.dataTypes=(at.dataType||"*").toLowerCase().match(Ee)||[""],at.crossDomain==null){Le=M.createElement("a");try{Le.href=at.url,Le.href=Le.href,at.crossDomain=Qn.protocol+"//"+Qn.host!=Le.protocol+"//"+Le.host}catch{at.crossDomain=!0}}if(at.data&&at.processData&&typeof at.data!="string"&&(at.data=o.param(at.data,at.traditional)),br(Tr,at,v,ri),He)return ri;$e=o.event&&at.global,$e&&o.active++==0&&o.event.trigger("ajaxStart"),at.type=at.type.toUpperCase(),at.hasContent=!Hr.test(at.type),F=at.url.replace(An,""),at.hasContent?at.data&&at.processData&&(at.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(at.data=at.data.replace(Qt,"+")):(Nt=at.url.slice(F.length),at.data&&(at.processData||typeof at.data=="string")&&(F+=(ki.test(F)?"&":"?")+at.data,delete at.data),at.cache===!1&&(F=F.replace(Rn,"$1"),Nt=(ki.test(F)?"&":"?")+"_="+fn.guid+++Nt),at.url=F+Nt),at.ifModified&&(o.lastModified[F]&&ri.setRequestHeader("If-Modified-Since",o.lastModified[F]),o.etag[F]&&ri.setRequestHeader("If-None-Match",o.etag[F])),(at.data&&at.hasContent&&at.contentType!==!1||v.contentType)&&ri.setRequestHeader("Content-Type",at.contentType),ri.setRequestHeader("Accept",at.dataTypes[0]&&at.accepts[at.dataTypes[0]]?at.accepts[at.dataTypes[0]]+(at.dataTypes[0]!=="*"?", "+Er+"; q=0.01":""):at.accepts["*"]);for(ct in at.headers)ri.setRequestHeader(ct,at.headers[ct]);if(at.beforeSend&&(at.beforeSend.call(_t,ri,at)===!1||He))return ri.abort();if(_i="abort",$t.add(at.complete),ri.done(at.success),ri.fail(at.error),D=br(Kn,at,v,ri),!D)Bi(-1,"No Transport");else{if(ri.readyState=1,$e&&Kt.trigger("ajaxSend",[ri,at]),He)return ri;at.async&&at.timeout>0&&(ge=t.setTimeout(function(){ri.abort("timeout")},at.timeout));try{He=!1,D.send(xi,Bi)}catch(hi){if(He)throw hi;Bi(-1,hi)}}function Bi(hi,bi,Nn,jn){var Xi,En,wn,qi,gn,Zi=bi;He||(He=!0,ge&&t.clearTimeout(ge),D=void 0,X=jn||"",ri.readyState=hi>0?4:0,Xi=hi>=200&&hi<300||hi===304,Nn&&(qi=qr(at,ri,Nn)),!Xi&&o.inArray("script",at.dataTypes)>-1&&(at.converters["text script"]=function(){}),qi=Wr(at,qi,ri,Xi),Xi?(at.ifModified&&(gn=ri.getResponseHeader("Last-Modified"),gn&&(o.lastModified[F]=gn),gn=ri.getResponseHeader("etag"),gn&&(o.etag[F]=gn)),hi===204||at.type==="HEAD"?Zi="nocontent":hi===304?Zi="notmodified":(Zi=qi.state,En=qi.data,wn=qi.error,Xi=!wn)):(wn=Zi,(hi||!Zi)&&(Zi="error",hi<0&&(hi=0))),ri.status=hi,ri.statusText=(bi||Zi)+"",Xi?si.resolveWith(_t,[En,Zi,ri]):si.rejectWith(_t,[ri,Zi,wn]),ri.statusCode(Si),Si=void 0,$e&&Kt.trigger(Xi?"ajaxSuccess":"ajaxError",[ri,at,Xi?En:wn]),$t.fireWith(_t,[ri,Zi]),$e&&(Kt.trigger("ajaxComplete",[ri,at]),--o.active||o.event.trigger("ajaxStop")))}return ri},getJSON:function(l,v,D){return o.get(l,v,D,"json")},getScript:function(l,v){return o.get(l,void 0,v,"script")}}),o.each(["get","post"],function(l,v){o[v]=function(D,F,X,te){return R(F)&&(te=te||X,X=F,F=void 0),o.ajax(o.extend({url:D,type:v,dataType:te,data:F,success:X},o.isPlainObject(D)&&D))}}),o.ajaxPrefilter(function(l){var v;for(v in l.headers)v.toLowerCase()==="content-type"&&(l.contentType=l.headers[v]||"")}),o._evalUrl=function(l,v,D){return o.ajax({url:l,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(F){o.globalEval(F,v,D)}})},o.fn.extend({wrapAll:function(l){var v;return this[0]&&(R(l)&&(l=l.call(this[0])),v=o(l,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&v.insertBefore(this[0]),v.map(function(){for(var D=this;D.firstElementChild;)D=D.firstElementChild;return D}).append(this)),this},wrapInner:function(l){return R(l)?this.each(function(v){o(this).wrapInner(l.call(this,v))}):this.each(function(){var v=o(this),D=v.contents();D.length?D.wrapAll(l):v.append(l)})},wrap:function(l){var v=R(l);return this.each(function(D){o(this).wrapAll(v?l.call(this,D):l)})},unwrap:function(l){return this.parent(l).not("body").each(function(){o(this).replaceWith(this.childNodes)}),this}}),o.expr.pseudos.hidden=function(l){return!o.expr.pseudos.visible(l)},o.expr.pseudos.visible=function(l){return!!(l.offsetWidth||l.offsetHeight||l.getClientRects().length)},o.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var zr={0:200,1223:204},Pn=o.ajaxSettings.xhr();C.cors=!!Pn&&"withCredentials"in Pn,C.ajax=Pn=!!Pn,o.ajaxTransport(function(l){var v,D;if(C.cors||Pn&&!l.crossDomain)return{send:function(F,X){var te,ge=l.xhr();if(ge.open(l.type,l.url,l.async,l.username,l.password),l.xhrFields)for(te in l.xhrFields)ge[te]=l.xhrFields[te];l.mimeType&&ge.overrideMimeType&&ge.overrideMimeType(l.mimeType),!l.crossDomain&&!F["X-Requested-With"]&&(F["X-Requested-With"]="XMLHttpRequest");for(te in F)ge.setRequestHeader(te,F[te]);v=function(Le){return function(){v&&(v=D=ge.onload=ge.onerror=ge.onabort=ge.ontimeout=ge.onreadystatechange=null,Le==="abort"?ge.abort():Le==="error"?typeof ge.status!="number"?X(0,"error"):X(ge.status,ge.statusText):X(zr[ge.status]||ge.status,ge.statusText,(ge.responseType||"text")!=="text"||typeof ge.responseText!="string"?{binary:ge.response}:{text:ge.responseText},ge.getAllResponseHeaders()))}},ge.onload=v(),D=ge.onerror=ge.ontimeout=v("error"),ge.onabort!==void 0?ge.onabort=D:ge.onreadystatechange=function(){ge.readyState===4&&t.setTimeout(function(){v&&D()})},v=v("abort");try{ge.send(l.hasContent&&l.data||null)}catch(Le){if(v)throw Le}},abort:function(){v&&v()}}}),o.ajaxPrefilter(function(l){l.crossDomain&&(l.contents.script=!1)}),o.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(l){return o.globalEval(l),l}}}),o.ajaxPrefilter("script",function(l){l.cache===void 0&&(l.cache=!1),l.crossDomain&&(l.type="GET")}),o.ajaxTransport("script",function(l){if(l.crossDomain||l.scriptAttrs){var v,D;return{send:function(F,X){v=o("<script>").attr(l.scriptAttrs||{}).prop({charset:l.scriptCharset,src:l.url}).on("load error",D=function(te){v.remove(),D=null,te&&X(te.type==="error"?404:200,te.type)}),M.head.appendChild(v[0])},abort:function(){D&&D()}}}});var Cr=[],Zn=/(=)\?(?=&|$)|\?\?/;o.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var l=Cr.pop()||o.expando+"_"+fn.guid++;return this[l]=!0,l}}),o.ajaxPrefilter("json jsonp",function(l,v,D){var F,X,te,ge=l.jsonp!==!1&&(Zn.test(l.url)?"url":typeof l.data=="string"&&(l.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Zn.test(l.data)&&"data");if(ge||l.dataTypes[0]==="jsonp")return F=l.jsonpCallback=R(l.jsonpCallback)?l.jsonpCallback():l.jsonpCallback,ge?l[ge]=l[ge].replace(Zn,"$1"+F):l.jsonp!==!1&&(l.url+=(ki.test(l.url)?"&":"?")+l.jsonp+"="+F),l.converters["script json"]=function(){return te||o.error(F+" was not called"),te[0]},l.dataTypes[0]="json",X=t[F],t[F]=function(){te=arguments},D.always(function(){X===void 0?o(t).removeProp(F):t[F]=X,l[F]&&(l.jsonpCallback=v.jsonpCallback,Cr.push(F)),te&&R(X)&&X(te[0]),te=X=void 0}),"script"}),C.createHTMLDocument=function(){var l=M.implementation.createHTMLDocument("").body;return l.innerHTML="<form></form><form></form>",l.childNodes.length===2}(),o.parseHTML=function(l,v,D){if(typeof l!="string")return[];typeof v=="boolean"&&(D=v,v=!1);var F,X,te;return v||(C.createHTMLDocument?(v=M.implementation.createHTMLDocument(""),F=v.createElement("base"),F.href=M.location.href,v.head.appendChild(F)):v=M),X=re.exec(l),te=!D&&[],X?[v.createElement(X[1])]:(X=gt([l],v,te),te&&te.length&&o(te).remove(),o.merge([],X.childNodes))},o.fn.load=function(l,v,D){var F,X,te,ge=this,Le=l.indexOf(" ");return Le>-1&&(F=yt(l.slice(Le)),l=l.slice(0,Le)),R(v)?(D=v,v=void 0):v&&typeof v=="object"&&(X="POST"),ge.length>0&&o.ajax({url:l,type:X||"GET",dataType:"html",data:v}).done(function(He){te=arguments,ge.html(F?o("<div>").append(o.parseHTML(He)).find(F):He)}).always(D&&function(He,$e){ge.each(function(){D.apply(this,te||[He.responseText,$e,He])})}),this},o.expr.pseudos.animated=function(l){return o.grep(o.timers,function(v){return l===v.elem}).length},o.offset={setOffset:function(l,v,D){var F,X,te,ge,Le,He,$e,ct=o.css(l,"position"),Nt=o(l),at={};ct==="static"&&(l.style.position="relative"),Le=Nt.offset(),te=o.css(l,"top"),He=o.css(l,"left"),$e=(ct==="absolute"||ct==="fixed")&&(te+He).indexOf("auto")>-1,$e?(F=Nt.position(),ge=F.top,X=F.left):(ge=parseFloat(te)||0,X=parseFloat(He)||0),R(v)&&(v=v.call(l,D,o.extend({},Le))),v.top!=null&&(at.top=v.top-Le.top+ge),v.left!=null&&(at.left=v.left-Le.left+X),"using"in v?v.using.call(l,at):(typeof at.top=="number"&&(at.top+="px"),typeof at.left=="number"&&(at.left+="px"),Nt.css(at))}},o.fn.extend({offset:function(l){if(arguments.length)return l===void 0?this:this.each(function(X){o.offset.setOffset(this,l,X)});var v,D,F=this[0];if(!!F)return F.getClientRects().length?(v=F.getBoundingClientRect(),D=F.ownerDocument.defaultView,{top:v.top+D.pageYOffset,left:v.left+D.pageXOffset}):{top:0,left:0}},position:function(){if(!!this[0]){var l,v,D,F=this[0],X={top:0,left:0};if(o.css(F,"position")==="fixed")v=F.getBoundingClientRect();else{for(v=this.offset(),D=F.ownerDocument,l=F.offsetParent||D.documentElement;l&&(l===D.body||l===D.documentElement)&&o.css(l,"position")==="static";)l=l.parentNode;l&&l!==F&&l.nodeType===1&&(X=o(l).offset(),X.top+=o.css(l,"borderTopWidth",!0),X.left+=o.css(l,"borderLeftWidth",!0))}return{top:v.top-X.top-o.css(F,"marginTop",!0),left:v.left-X.left-o.css(F,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var l=this.offsetParent;l&&o.css(l,"position")==="static";)l=l.offsetParent;return l||Z})}}),o.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(l,v){var D=v==="pageYOffset";o.fn[l]=function(F){return Ie(this,function(X,te,ge){var Le;if(N(X)?Le=X:X.nodeType===9&&(Le=X.defaultView),ge===void 0)return Le?Le[v]:X[te];Le?Le.scrollTo(D?Le.pageXOffset:ge,D?ge:Le.pageYOffset):X[te]=ge},l,F,arguments.length)}}),o.each(["top","left"],function(l,v){o.cssHooks[v]=je(C.pixelPosition,function(D,F){if(F)return F=Re(D,v),B.test(F)?o(D).position()[v]+"px":F})}),o.each({Height:"height",Width:"width"},function(l,v){o.each({padding:"inner"+l,content:v,"":"outer"+l},function(D,F){o.fn[F]=function(X,te){var ge=arguments.length&&(D||typeof X!="boolean"),Le=D||(X===!0||te===!0?"margin":"border");return Ie(this,function(He,$e,ct){var Nt;return N(He)?F.indexOf("outer")===0?He["inner"+l]:He.document.documentElement["client"+l]:He.nodeType===9?(Nt=He.documentElement,Math.max(He.body["scroll"+l],Nt["scroll"+l],He.body["offset"+l],Nt["offset"+l],Nt["client"+l])):ct===void 0?o.css(He,$e,Le):o.style(He,$e,ct,Le)},v,ge?X:void 0,ge)}})}),o.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(l,v){o.fn[v]=function(D){return this.on(v,D)}}),o.fn.extend({bind:function(l,v,D){return this.on(l,null,v,D)},unbind:function(l,v){return this.off(l,null,v)},delegate:function(l,v,D,F){return this.on(v,l,D,F)},undelegate:function(l,v,D){return arguments.length===1?this.off(l,"**"):this.off(v,l||"**",D)},hover:function(l,v){return this.mouseenter(l).mouseleave(v||l)}}),o.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(l,v){o.fn[v]=function(D,F){return arguments.length>0?this.on(v,null,D,F):this.trigger(v)}});var Vr=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;o.proxy=function(l,v){var D,F,X;if(typeof v=="string"&&(D=l[v],v=l,l=D),!!R(l))return F=g.call(arguments,2),X=function(){return l.apply(v||this,F.concat(g.call(arguments)))},X.guid=l.guid=l.guid||o.guid++,X},o.holdReady=function(l){l?o.readyWait++:o.ready(!0)},o.isArray=Array.isArray,o.parseJSON=JSON.parse,o.nodeName=pe,o.isFunction=R,o.isWindow=N,o.camelCase=P,o.type=j,o.now=Date.now,o.isNumeric=function(l){var v=o.type(l);return(v==="number"||v==="string")&&!isNaN(l-parseFloat(l))},o.trim=function(l){return l==null?"":(l+"").replace(Vr,"")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return o});var Gr=t.jQuery,Yr=t.$;return o.noConflict=function(l){return t.$===o&&(t.$=Yr),l&&t.jQuery===o&&(t.jQuery=Gr),o},typeof p=="undefined"&&(t.jQuery=t.$=o),o})});var Ws=Tn((Da,qs)=>{"use strict";function js(t,p,u){this.context=t,this.start=p,this.end=u}js.prototype={get offset_start(){return this.start<this.context.offset_start&&this.end>this.context.offset_start?this.context.offset_start:this.start>=this.context.offset_start&&this.start<this.context.offset_end?this.start:null},get offset_end(){return this.end>this.context.offset_start&&this.end<=this.context.offset_end?this.end:this.end>this.context.offset_end&&this.start<this.context.offset_end?this.context.offset_end:null},get offset_length(){return this.offset_end-this.offset_start},get length(){return this.end-this.start},get visible(){return this.context.in_offset(this.start)||this.context.in_offset(this.end)||this.context.offset_start>this.start&&this.context.offset_start<this.end},get min(){return this.visible?this.context.offsetValues(this.offset_start,this.offset_length,0):[]},get max(){return this.visible?this.context.offsetValues(this.offset_start,this.offset_length,1):[]}};qs.exports=js});var Gs=Tn((Ma,Vs)=>{"use strict";function zs(t,p){this.context=t,this.timeStamp=p}zs.prototype={get visible(){return this.context.in_offset(this.timeStamp)}};Vs.exports=zs});var Xs=Tn((Ra,Ys)=>{"use strict";var po=Ws(),go=Gs();function pn(t,p){this.adapter=p.fromResponseData(t),this.segments={},this.points={},this.offset(0,this.adapter.length)}pn.create=function(p){var u=null,f=null;if(p&&typeof p=="object"&&("responseText"in p||"response"in p)&&(f="responseType"in p?p.response:p.responseText||p.response),Object.keys(pn.adapters).some(function(g){if(pn.adapters[g].isCompatible(f||p))return u=pn.adapters[g],!0}),u===null)throw new TypeError("Could not detect a WaveformData adapter from the input.");return new pn(f||p,u)};pn.prototype={offset:function(t,p){var u=this.adapter.length;if(p<0)throw new RangeError("End point must be non-negative ["+Number(p)+" < 0]");if(p<t)throw new RangeError("End point must not be before the start point ["+Number(p)+" < "+Number(t)+"]");if(t<0)throw new RangeError("Start point must be non-negative ["+Number(t)+" < 0]");if(t>=u)throw new RangeError("Start point must be within range ["+Number(t)+" >= "+u+"]");p>u&&(p=u),this.offset_start=t,this.offset_end=p,this.offset_length=p-t},set_segment:function(p,u,f){return(f==null||f.length===0)&&(f="default"),this.segments[f]=new po(this,p,u),this.segments[f]},set_point:function(p,u){return(u==null||u.length===0)&&(u="default"),this.points[u]=new go(this,p),this.points[u]},remove_point:function(p){this.points[p]&&delete this.points[p]},resample:function(t){typeof t=="number"&&(t={width:t}),t.input_index=typeof t.input_index=="number"?t.input_index:null,t.output_index=typeof t.output_index=="number"?t.output_index:null,t.scale=typeof t.scale=="number"?t.scale:null,t.width=typeof t.width=="number"?t.width:null;var p=Boolean(t.input_index)||Boolean(t.output_index);if(t.input_index!=null&&t.input_index<0)throw new RangeError("options.input_index should be a positive integer value. ["+t.input_index+"]");if(t.output_index!=null&&t.output_index<0)throw new RangeError("options.output_index should be a positive integer value. ["+t.output_index+"]");if(t.width!=null&&t.width<=0)throw new RangeError("options.width should be a strictly positive integer value. ["+t.width+"]");if(t.scale!=null&&t.scale<=0)throw new RangeError("options.scale should be a strictly positive integer value. ["+t.scale+"]");if(!t.scale&&!t.width)throw new RangeError("You should provide either a resampling scale or a width in pixel the data should fit in.");var u=["width","scale","output_index","input_index"].reduce(function(o,G){return o+(t[G]===null?0:1)},0);if(p&&u!==4)throw new Error("Some partial resampling options are missing. You provided "+u+" of them over 4.");var f=[],g=t.scale||Math.floor(this.duration*this.adapter.sample_rate/t.width),E=this.adapter.scale,d=2,_=this.adapter.length,y=t.input_index||0,T=t.output_index||0,m=_?this.min_sample(y):0,b=_?this.max_sample(y):0,A=-128,C=127;if(g<E)throw new Error("Zoom level "+g+" too low, minimum: "+E);var R,N,M,H,Y;function j(o){return Math.floor(o*g)}function x(o,G){f.push(o,G)}for(;y<_;){for(;Math.floor(j(T)/E)<=y;)T&&x(m,b),Y=y,T++,R=j(T),N=j(T-1),R!==N&&(m=C,b=A);for(R=j(T),M=Math.floor(R/E),M>_&&(M=_);y<M;)H=this.min_sample(y),H<m&&(m=H),H=this.max_sample(y),H>b&&(b=H),y++;if(p&&f.length/d>=t.width)break}return p?f.length/d>t.width&&y!==Y&&x(m,b):y!==Y&&x(m,b),new pn({version:this.adapter.version,samples_per_pixel:g,length:f.length/d,data:f,sample_rate:this.adapter.sample_rate},pn.adapters.object)},get min(){return this.offsetValues(this.offset_start,this.offset_length,0)},get max(){return this.offsetValues(this.offset_start,this.offset_length,1)},offsetValues:function(p,u,f){var g=this.adapter,E=[];f+=p*2;for(var d=0;d<u;d++)E.push(g.at(d*2+f));return E},get duration(){return this.adapter.length*this.adapter.scale/this.adapter.sample_rate},get offset_duration(){return this.offset_length*this.adapter.scale/this.adapter.sample_rate},get pixels_per_second(){return this.adapter.sample_rate/this.adapter.scale},get seconds_per_pixel(){return this.adapter.scale/this.adapter.sample_rate},at:function(p){return this.adapter.at(p)},at_time:function(p){return Math.floor(p*this.adapter.sample_rate/this.adapter.scale)},time:function(p){return p*this.adapter.scale/this.adapter.sample_rate},in_offset:function(p){return p>=this.offset_start&&p<this.offset_end},min_sample:function(p){return this.adapter.at(p*2)},max_sample:function(p){return this.adapter.at(p*2+1)}};pn.adapters={};pn.adapter=function(p){this.data=p};Ys.exports=pn});var Qs=Tn((Pa,Ks)=>{"use strict";function gr(t){this.data=t}gr.isCompatible=function(p){return p&&typeof p=="object"&&"byteLength"in p};gr.fromResponseData=function(p){return new gr(new DataView(p))};gr.prototype={get version(){return this.data.getInt32(0,!0)},get is_8_bit(){return Boolean(this.data.getUint32(4,!0))},get is_16_bit(){return!this.is_8_bit},get sample_rate(){return this.data.getInt32(8,!0)},get scale(){return this.data.getInt32(12,!0)},get length(){return this.data.getUint32(16,!0)},at:function(p){return this.data.getInt8(20+p)}};Ks.exports=gr});var Zs=Tn((Na,Js)=>{"use strict";function Xn(t){this.data=t}Xn.isCompatible=function(p){return p&&(typeof p=="object"&&"sample_rate"in p||typeof p=="string"&&"sample_rate"in JSON.parse(p))};Xn.fromResponseData=function(p){return typeof p=="string"?new Xn(JSON.parse(p)):new Xn(p)};Xn.prototype={get version(){return this.data.version||1},get is_8_bit(){return this.data.bits===8},get is_16_bit(){return!this.is_8_bit},get sample_rate(){return this.data.sample_rate},get scale(){return this.data.samples_per_pixel},get length(){return this.data.length},at:function(p){return this.data.data[p]}};Js.exports=Xn});var eo=Tn((Oa,$s)=>{"use strict";$s.exports={arraybuffer:Qs(),object:Zs()}});var no=Tn((ka,io)=>{"use strict";var to=Xs();to.adapters=eo();io.exports=to});var oo=Tn(()=>{(function(t){"use strict";typeof define=="function"&&define.amd?define(["jquery"],t):t(jQuery)})(function(t){"use strict";t.ui=t.ui||{};var p=t.ui.version="1.13.1";var u=0,f=Array.prototype.hasOwnProperty,g=Array.prototype.slice;t.cleanData=function(e){return function(i){var n,r,h;for(h=0;(r=i[h])!=null;h++)n=t._data(r,"events"),n&&n.remove&&t(r).triggerHandler("remove");e(i)}}(t.cleanData),t.widget=function(e,i,n){var r,h,w,B={},V=e.split(".")[0];e=e.split(".")[1];var oe=V+"-"+e;return n||(n=i,i=t.Widget),Array.isArray(n)&&(n=t.extend.apply(null,[{}].concat(n))),t.expr.pseudos[oe.toLowerCase()]=function(Me){return!!t.data(Me,oe)},t[V]=t[V]||{},r=t[V][e],h=t[V][e]=function(Me,Re){if(!this||!this._createWidget)return new h(Me,Re);arguments.length&&this._createWidget(Me,Re)},t.extend(h,r,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),w=new i,w.options=t.widget.extend({},w.options),t.each(n,function(Me,Re){if(typeof Re!="function"){B[Me]=Re;return}B[Me]=function(){function je(){return i.prototype[Me].apply(this,arguments)}function ze(Ne){return i.prototype[Me].apply(this,Ne)}return function(){var Ne=this._super,Oe=this._superApply,tt;return this._super=je,this._superApply=ze,tt=Re.apply(this,arguments),this._super=Ne,this._superApply=Oe,tt}}()}),h.prototype=t.widget.extend(w,{widgetEventPrefix:r&&w.widgetEventPrefix||e},B,{constructor:h,namespace:V,widgetName:e,widgetFullName:oe}),r?(t.each(r._childConstructors,function(Me,Re){var je=Re.prototype;t.widget(je.namespace+"."+je.widgetName,h,Re._proto)}),delete r._childConstructors):i._childConstructors.push(h),t.widget.bridge(e,h),h},t.widget.extend=function(e){for(var i=g.call(arguments,1),n=0,r=i.length,h,w;n<r;n++)for(h in i[n])w=i[n][h],f.call(i[n],h)&&w!==void 0&&(t.isPlainObject(w)?e[h]=t.isPlainObject(e[h])?t.widget.extend({},e[h],w):t.widget.extend({},w):e[h]=w);return e},t.widget.bridge=function(e,i){var n=i.prototype.widgetFullName||e;t.fn[e]=function(r){var h=typeof r=="string",w=g.call(arguments,1),B=this;return h?!this.length&&r==="instance"?B=void 0:this.each(function(){var V,oe=t.data(this,n);if(r==="instance")return B=oe,!1;if(!oe)return t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+r+"'");if(typeof oe[r]!="function"||r.charAt(0)==="_")return t.error("no such method '"+r+"' for "+e+" widget instance");if(V=oe[r].apply(oe,w),V!==oe&&V!==void 0)return B=V&&V.jquery?B.pushStack(V.get()):V,!1}):(w.length&&(r=t.widget.extend.apply(null,[r].concat(w))),this.each(function(){var V=t.data(this,n);V?(V.option(r||{}),V._init&&V._init()):t.data(this,n,new i(r,this))})),B}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=u++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(n){n.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(i,n){e._removeClass(n,i)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var n=e,r,h,w;if(arguments.length===0)return t.widget.extend({},this.options);if(typeof e=="string")if(n={},r=e.split("."),e=r.shift(),r.length){for(h=n[e]=t.widget.extend({},this.options[e]),w=0;w<r.length-1;w++)h[r[w]]=h[r[w]]||{},h=h[r[w]];if(e=r.pop(),arguments.length===1)return h[e]===void 0?null:h[e];h[e]=i}else{if(arguments.length===1)return this.options[e]===void 0?null:this.options[e];n[e]=i}return this._setOptions(n),this},_setOptions:function(e){var i;for(i in e)this._setOption(i,e[i]);return this},_setOption:function(e,i){return e==="classes"&&this._setOptionClasses(i),this.options[e]=i,e==="disabled"&&this._setOptionDisabled(i),this},_setOptionClasses:function(e){var i,n,r;for(i in e)r=this.classesElementLookup[i],!(e[i]===this.options.classes[i]||!r||!r.length)&&(n=t(r.get()),this._removeClass(r,i),n.addClass(this._classes({element:n,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){var i=[],n=this;e=t.extend({element:this.element,classes:this.options.classes||{}},e);function r(){var w=[];e.element.each(function(B,V){var oe=t.map(n.classesElementLookup,function(Me){return Me}).some(function(Me){return Me.is(V)});oe||w.push(V)}),n._on(t(w),{remove:"_untrackClassesElement"})}function h(w,B){var V,oe;for(oe=0;oe<w.length;oe++)V=n.classesElementLookup[w[oe]]||t(),e.add?(r(),V=t(t.uniqueSort(V.get().concat(e.element.get())))):V=t(V.not(e.element).get()),n.classesElementLookup[w[oe]]=V,i.push(w[oe]),B&&e.classes[w[oe]]&&i.push(e.classes[w[oe]])}return e.keys&&h(e.keys.match(/\S+/g)||[],!0),e.extra&&h(e.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,function(n,r){t.inArray(e.target,r)!==-1&&(i.classesElementLookup[n]=t(r.not(e.target).get()))}),this._off(t(e.target))},_removeClass:function(e,i,n){return this._toggleClass(e,i,n,!1)},_addClass:function(e,i,n){return this._toggleClass(e,i,n,!0)},_toggleClass:function(e,i,n,r){r=typeof r=="boolean"?r:n;var h=typeof e=="string"||e===null,w={extra:h?i:n,keys:h?e:i,element:h?this.element:e,add:r};return w.element.toggleClass(this._classes(w),r),this},_on:function(e,i,n){var r,h=this;typeof e!="boolean"&&(n=i,i=e,e=!1),n?(i=r=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,r=this.widget()),t.each(n,function(w,B){function V(){if(!(!e&&(h.options.disabled===!0||t(this).hasClass("ui-state-disabled"))))return(typeof B=="string"?h[B]:B).apply(h,arguments)}typeof B!="string"&&(V.guid=B.guid=B.guid||V.guid||t.guid++);var oe=w.match(/^([\w:-]*)\s*(.*)$/),Me=oe[1]+h.eventNamespace,Re=oe[2];Re?r.on(Me,Re,V):i.on(Me,V)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(e,i){function n(){return(typeof e=="string"?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,i||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(i){this._addClass(t(i.currentTarget),null,"ui-state-hover")},mouseleave:function(i){this._removeClass(t(i.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(i){this._addClass(t(i.currentTarget),null,"ui-state-focus")},focusout:function(i){this._removeClass(t(i.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,n){var r,h,w=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],h=i.originalEvent,h)for(r in h)r in i||(i[r]=h[r]);return this.element.trigger(i,n),!(typeof w=="function"&&w.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,r,h){typeof r=="string"&&(r={effect:r});var w,B=r?r===!0||typeof r=="number"?i:r.effect||i:e;r=r||{},typeof r=="number"?r={duration:r}:r===!0&&(r={}),w=!t.isEmptyObject(r),r.complete=h,r.delay&&n.delay(r.delay),w&&t.effects&&t.effects.effect[B]?n[e](r):B!==e&&n[B]?n[B](r.duration,r.easing,h):n.queue(function(V){t(this)[e](),h&&h.call(n[0]),V()})}});var E=t.widget;(function(){var e,i=Math.max,n=Math.abs,r=/left|center|right/,h=/top|center|bottom/,w=/[\+\-]\d+(\.[\d]+)?%?/,B=/^\w+/,V=/%$/,oe=t.fn.position;function Me(Ne,Oe,tt){return[parseFloat(Ne[0])*(V.test(Ne[0])?Oe/100:1),parseFloat(Ne[1])*(V.test(Ne[1])?tt/100:1)]}function Re(Ne,Oe){return parseInt(t.css(Ne,Oe),10)||0}function je(Ne){return Ne!=null&&Ne===Ne.window}function ze(Ne){var Oe=Ne[0];return Oe.nodeType===9?{width:Ne.width(),height:Ne.height(),offset:{top:0,left:0}}:je(Oe)?{width:Ne.width(),height:Ne.height(),offset:{top:Ne.scrollTop(),left:Ne.scrollLeft()}}:Oe.preventDefault?{width:0,height:0,offset:{top:Oe.pageY,left:Oe.pageX}}:{width:Ne.outerWidth(),height:Ne.outerHeight(),offset:Ne.offset()}}t.position={scrollbarWidth:function(){if(e!==void 0)return e;var Ne,Oe,tt=t("<div style='display:block;position:absolute;width:200px;height:200px;overflow:hidden;'><div style='height:300px;width:auto;'></div></div>"),it=tt.children()[0];return t("body").append(tt),Ne=it.offsetWidth,tt.css("overflow","scroll"),Oe=it.offsetWidth,Ne===Oe&&(Oe=tt[0].clientWidth),tt.remove(),e=Ne-Oe},getScrollInfo:function(Ne){var Oe=Ne.isWindow||Ne.isDocument?"":Ne.element.css("overflow-x"),tt=Ne.isWindow||Ne.isDocument?"":Ne.element.css("overflow-y"),it=Oe==="scroll"||Oe==="auto"&&Ne.width<Ne.element[0].scrollWidth,xt=tt==="scroll"||tt==="auto"&&Ne.height<Ne.element[0].scrollHeight;return{width:xt?t.position.scrollbarWidth():0,height:it?t.position.scrollbarWidth():0}},getWithinInfo:function(Ne){var Oe=t(Ne||window),tt=je(Oe[0]),it=!!Oe[0]&&Oe[0].nodeType===9,xt=!tt&&!it;return{element:Oe,isWindow:tt,isDocument:it,offset:xt?t(Ne).offset():{left:0,top:0},scrollLeft:Oe.scrollLeft(),scrollTop:Oe.scrollTop(),width:Oe.outerWidth(),height:Oe.outerHeight()}}},t.fn.position=function(Ne){if(!Ne||!Ne.of)return oe.apply(this,arguments);Ne=t.extend({},Ne);var Oe,tt,it,xt,Ot,Wt,zt=typeof Ne.of=="string"?t(document).find(Ne.of):t(Ne.of),qt=t.position.getWithinInfo(Ne.within),Bt=t.position.getScrollInfo(qt),rt=(Ne.collision||"flip").split(" "),It={};return Wt=ze(zt),zt[0].preventDefault&&(Ne.at="left top"),tt=Wt.width,it=Wt.height,xt=Wt.offset,Ot=t.extend({},xt),t.each(["my","at"],function(){var Pt=(Ne[this]||"").split(" "),Gt,Yt;Pt.length===1&&(Pt=r.test(Pt[0])?Pt.concat(["center"]):h.test(Pt[0])?["center"].concat(Pt):["center","center"]),Pt[0]=r.test(Pt[0])?Pt[0]:"center",Pt[1]=h.test(Pt[1])?Pt[1]:"center",Gt=w.exec(Pt[0]),Yt=w.exec(Pt[1]),It[this]=[Gt?Gt[0]:0,Yt?Yt[0]:0],Ne[this]=[B.exec(Pt[0])[0],B.exec(Pt[1])[0]]}),rt.length===1&&(rt[1]=rt[0]),Ne.at[0]==="right"?Ot.left+=tt:Ne.at[0]==="center"&&(Ot.left+=tt/2),Ne.at[1]==="bottom"?Ot.top+=it:Ne.at[1]==="center"&&(Ot.top+=it/2),Oe=Me(It.at,tt,it),Ot.left+=Oe[0],Ot.top+=Oe[1],this.each(function(){var Pt,Gt,Yt=t(this),ei=Yt.outerWidth(),Xt=Yt.outerHeight(),ni=Re(this,"marginLeft"),li=Re(this,"marginTop"),ai=ei+ni+Re(this,"marginRight")+Bt.width,di=Xt+li+Re(this,"marginBottom")+Bt.height,Ze=t.extend({},Ot),Dt=Me(It.my,Yt.outerWidth(),Yt.outerHeight());Ne.my[0]==="right"?Ze.left-=ei:Ne.my[0]==="center"&&(Ze.left-=ei/2),Ne.my[1]==="bottom"?Ze.top-=Xt:Ne.my[1]==="center"&&(Ze.top-=Xt/2),Ze.left+=Dt[0],Ze.top+=Dt[1],Pt={marginLeft:ni,marginTop:li},t.each(["left","top"],function(ue,Ue){t.ui.position[rt[ue]]&&t.ui.position[rt[ue]][Ue](Ze,{targetWidth:tt,targetHeight:it,elemWidth:ei,elemHeight:Xt,collisionPosition:Pt,collisionWidth:ai,collisionHeight:di,offset:[Oe[0]+Dt[0],Oe[1]+Dt[1]],my:Ne.my,at:Ne.at,within:qt,elem:Yt})}),Ne.using&&(Gt=function(ue){var Ue=xt.left-Ze.left,ot=Ue+tt-ei,mt=xt.top-Ze.top,yt=mt+it-Xt,Ft={target:{element:zt,left:xt.left,top:xt.top,width:tt,height:it},element:{element:Yt,left:Ze.left,top:Ze.top,width:ei,height:Xt},horizontal:ot<0?"left":Ue>0?"right":"center",vertical:yt<0?"top":mt>0?"bottom":"middle"};tt<ei&&n(Ue+ot)<tt&&(Ft.horizontal="center"),it<Xt&&n(mt+yt)<it&&(Ft.vertical="middle"),i(n(Ue),n(ot))>i(n(mt),n(yt))?Ft.important="horizontal":Ft.important="vertical",Ne.using.call(this,ue,Ft)}),Yt.offset(t.extend(Ze,{using:Gt}))})},t.ui.position={fit:{left:function(Ne,Oe){var tt=Oe.within,it=tt.isWindow?tt.scrollLeft:tt.offset.left,xt=tt.width,Ot=Ne.left-Oe.collisionPosition.marginLeft,Wt=it-Ot,zt=Ot+Oe.collisionWidth-xt-it,qt;Oe.collisionWidth>xt?Wt>0&&zt<=0?(qt=Ne.left+Wt+Oe.collisionWidth-xt-it,Ne.left+=Wt-qt):zt>0&&Wt<=0?Ne.left=it:Wt>zt?Ne.left=it+xt-Oe.collisionWidth:Ne.left=it:Wt>0?Ne.left+=Wt:zt>0?Ne.left-=zt:Ne.left=i(Ne.left-Ot,Ne.left)},top:function(Ne,Oe){var tt=Oe.within,it=tt.isWindow?tt.scrollTop:tt.offset.top,xt=Oe.within.height,Ot=Ne.top-Oe.collisionPosition.marginTop,Wt=it-Ot,zt=Ot+Oe.collisionHeight-xt-it,qt;Oe.collisionHeight>xt?Wt>0&&zt<=0?(qt=Ne.top+Wt+Oe.collisionHeight-xt-it,Ne.top+=Wt-qt):zt>0&&Wt<=0?Ne.top=it:Wt>zt?Ne.top=it+xt-Oe.collisionHeight:Ne.top=it:Wt>0?Ne.top+=Wt:zt>0?Ne.top-=zt:Ne.top=i(Ne.top-Ot,Ne.top)}},flip:{left:function(Ne,Oe){var tt=Oe.within,it=tt.offset.left+tt.scrollLeft,xt=tt.width,Ot=tt.isWindow?tt.scrollLeft:tt.offset.left,Wt=Ne.left-Oe.collisionPosition.marginLeft,zt=Wt-Ot,qt=Wt+Oe.collisionWidth-xt-Ot,Bt=Oe.my[0]==="left"?-Oe.elemWidth:Oe.my[0]==="right"?Oe.elemWidth:0,rt=Oe.at[0]==="left"?Oe.targetWidth:Oe.at[0]==="right"?-Oe.targetWidth:0,It=-2*Oe.offset[0],Pt,Gt;zt<0?(Pt=Ne.left+Bt+rt+It+Oe.collisionWidth-xt-it,(Pt<0||Pt<n(zt))&&(Ne.left+=Bt+rt+It)):qt>0&&(Gt=Ne.left-Oe.collisionPosition.marginLeft+Bt+rt+It-Ot,(Gt>0||n(Gt)<qt)&&(Ne.left+=Bt+rt+It))},top:function(Ne,Oe){var tt=Oe.within,it=tt.offset.top+tt.scrollTop,xt=tt.height,Ot=tt.isWindow?tt.scrollTop:tt.offset.top,Wt=Ne.top-Oe.collisionPosition.marginTop,zt=Wt-Ot,qt=Wt+Oe.collisionHeight-xt-Ot,Bt=Oe.my[1]==="top",rt=Bt?-Oe.elemHeight:Oe.my[1]==="bottom"?Oe.elemHeight:0,It=Oe.at[1]==="top"?Oe.targetHeight:Oe.at[1]==="bottom"?-Oe.targetHeight:0,Pt=-2*Oe.offset[1],Gt,Yt;zt<0?(Yt=Ne.top+rt+It+Pt+Oe.collisionHeight-xt-it,(Yt<0||Yt<n(zt))&&(Ne.top+=rt+It+Pt)):qt>0&&(Gt=Ne.top-Oe.collisionPosition.marginTop+rt+It+Pt-Ot,(Gt>0||n(Gt)<qt)&&(Ne.top+=rt+It+Pt))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}})();var d=t.ui.position;var _=t.extend(t.expr.pseudos,{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])}});var y=t.fn.extend({disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(e+".ui-disableSelection",function(i){i.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}}),T=t;var m="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",b={},A=b.toString,C=/^([\-+])=\s*(\d+\.?\d*)/,R=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1]*2.55,e[2]*2.55,e[3]*2.55,e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),e[4]?(parseInt(e[4],16)/255).toFixed(2):1]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),e[4]?(parseInt(e[4]+e[4],16)/255).toFixed(2):1]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],N=T.Color=function(e,i,n,r){return new T.Color.fn.parse(e,i,n,r)},M={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},H={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},Y=N.support={},j=T("<p>")[0],x,o=T.each;j.style.cssText="background-color:rgba(1,1,1,.5)",Y.rgba=j.style.backgroundColor.indexOf("rgba")>-1,o(M,function(e,i){i.cache="_"+e,i.props.alpha={idx:3,type:"percent",def:1}}),T.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,i){b["[object "+i+"]"]=i.toLowerCase()});function G(e){return e==null?e+"":typeof e=="object"?b[A.call(e)]||"object":typeof e}function I(e,i,n){var r=H[i.type]||{};return e==null?n||!i.def?null:i.def:(e=r.floor?~~e:parseFloat(e),isNaN(e)?i.def:r.mod?(e+r.mod)%r.mod:Math.min(r.max,Math.max(0,e)))}function O(e){var i=N(),n=i._rgba=[];return e=e.toLowerCase(),o(R,function(r,h){var w,B=h.re.exec(e),V=B&&h.parse(B),oe=h.space||"rgba";if(V)return w=i[oe](V),i[M[oe].cache]=w[M[oe].cache],n=i._rgba=w._rgba,!1}),n.length?(n.join()==="0,0,0,0"&&T.extend(n,x.transparent),i):x[e]}N.fn=T.extend(N.prototype,{parse:function(e,i,n,r){if(e===void 0)return this._rgba=[null,null,null,null],this;(e.jquery||e.nodeType)&&(e=T(e).css(i),i=void 0);var h=this,w=G(e),B=this._rgba=[];if(i!==void 0&&(e=[e,i,n,r],w="array"),w==="string")return this.parse(O(e)||x._default);if(w==="array")return o(M.rgba.props,function(V,oe){B[oe.idx]=I(e[oe.idx],oe)}),this;if(w==="object")return e instanceof N?o(M,function(V,oe){e[oe.cache]&&(h[oe.cache]=e[oe.cache].slice())}):o(M,function(V,oe){var Me=oe.cache;o(oe.props,function(Re,je){if(!h[Me]&&oe.to){if(Re==="alpha"||e[Re]==null)return;h[Me]=oe.to(h._rgba)}h[Me][je.idx]=I(e[Re],je,!0)}),h[Me]&&T.inArray(null,h[Me].slice(0,3))<0&&(h[Me][3]==null&&(h[Me][3]=1),oe.from&&(h._rgba=oe.from(h[Me])))}),this},is:function(e){var i=N(e),n=!0,r=this;return o(M,function(h,w){var B,V=i[w.cache];return V&&(B=r[w.cache]||w.to&&w.to(r._rgba)||[],o(w.props,function(oe,Me){if(V[Me.idx]!=null)return n=V[Me.idx]===B[Me.idx],n})),n}),n},_space:function(){var e=[],i=this;return o(M,function(n,r){i[r.cache]&&e.push(n)}),e.pop()},transition:function(e,i){var n=N(e),r=n._space(),h=M[r],w=this.alpha()===0?N("transparent"):this,B=w[h.cache]||h.to(w._rgba),V=B.slice();return n=n[h.cache],o(h.props,function(oe,Me){var Re=Me.idx,je=B[Re],ze=n[Re],Ne=H[Me.type]||{};ze!==null&&(je===null?V[Re]=ze:(Ne.mod&&(ze-je>Ne.mod/2?je+=Ne.mod:je-ze>Ne.mod/2&&(je-=Ne.mod)),V[Re]=I((ze-je)*i+je,Me)))}),this[r](V)},blend:function(e){if(this._rgba[3]===1)return this;var i=this._rgba.slice(),n=i.pop(),r=N(e)._rgba;return N(T.map(i,function(h,w){return(1-n)*r[w]+n*h}))},toRgbaString:function(){var e="rgba(",i=T.map(this._rgba,function(n,r){return n??(r>2?1:0)});return i[3]===1&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=T.map(this.hsla(),function(n,r){return n==null&&(n=r>2?1:0),r&&r<3&&(n=Math.round(n*100)+"%"),n});return i[3]===1&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),n=i.pop();return e&&i.push(~~(n*255)),"#"+T.map(i,function(r){return r=(r||0).toString(16),r.length===1?"0"+r:r}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}}),N.fn.parse.prototype=N.fn;function q(e,i,n){return n=(n+1)%1,n*6<1?e+(i-e)*n*6:n*2<1?i:n*3<2?e+(i-e)*(2/3-n)*6:e}M.hsla.to=function(e){if(e[0]==null||e[1]==null||e[2]==null)return[null,null,null,e[3]];var i=e[0]/255,n=e[1]/255,r=e[2]/255,h=e[3],w=Math.max(i,n,r),B=Math.min(i,n,r),V=w-B,oe=w+B,Me=oe*.5,Re,je;return B===w?Re=0:i===w?Re=60*(n-r)/V+360:n===w?Re=60*(r-i)/V+120:Re=60*(i-n)/V+240,V===0?je=0:Me<=.5?je=V/oe:je=V/(2-oe),[Math.round(Re)%360,je,Me,h??1]},M.hsla.from=function(e){if(e[0]==null||e[1]==null||e[2]==null)return[null,null,null,e[3]];var i=e[0]/360,n=e[1],r=e[2],h=e[3],w=r<=.5?r*(1+n):r+n-r*n,B=2*r-w;return[Math.round(q(B,w,i+1/3)*255),Math.round(q(B,w,i)*255),Math.round(q(B,w,i-1/3)*255),h]},o(M,function(e,i){var n=i.props,r=i.cache,h=i.to,w=i.from;N.fn[e]=function(B){if(h&&!this[r]&&(this[r]=h(this._rgba)),B===void 0)return this[r].slice();var V,oe=G(B),Me=oe==="array"||oe==="object"?B:arguments,Re=this[r].slice();return o(n,function(je,ze){var Ne=Me[oe==="object"?je:ze.idx];Ne==null&&(Ne=Re[ze.idx]),Re[ze.idx]=I(Ne,ze)}),w?(V=N(w(Re)),V[r]=Re,V):N(Re)},o(n,function(B,V){N.fn[B]||(N.fn[B]=function(oe){var Me,Re,je,ze,Ne=G(oe);return B==="alpha"?ze=this._hsla?"hsla":"rgba":ze=e,Me=this[ze](),Re=Me[V.idx],Ne==="undefined"?Re:(Ne==="function"&&(oe=oe.call(this,Re),Ne=G(oe)),oe==null&&V.empty?this:(Ne==="string"&&(je=C.exec(oe),je&&(oe=Re+parseFloat(je[2])*(je[1]==="+"?1:-1))),Me[V.idx]=oe,this[ze](Me)))})})}),N.hook=function(e){var i=e.split(" ");o(i,function(n,r){T.cssHooks[r]={set:function(h,w){var B,V,oe="";if(w!=="transparent"&&(G(w)!=="string"||(B=O(w)))){if(w=N(B||w),!Y.rgba&&w._rgba[3]!==1){for(V=r==="backgroundColor"?h.parentNode:h;(oe===""||oe==="transparent")&&V&&V.style;)try{oe=T.css(V,"backgroundColor"),V=V.parentNode}catch{}w=w.blend(oe&&oe!=="transparent"?oe:"_default")}w=w.toRgbaString()}try{h.style[r]=w}catch{}}},T.fx.step[r]=function(h){h.colorInit||(h.start=N(h.elem,r),h.end=N(h.end),h.colorInit=!0),T.cssHooks[r].set(h.elem,h.start.transition(h.end,h.pos))}})},N.hook(m),T.cssHooks.borderColor={expand:function(e){var i={};return o(["Top","Right","Bottom","Left"],function(n,r){i["border"+r+"Color"]=e}),i}},x=T.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"};var Q="ui-effects-",pe="ui-effects-style",re="ui-effects-animated";t.effects={effect:{}},function(){var e=["add","remove","toggle"],i={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(w,B){t.fx.step[B]=function(V){(V.end!=="none"&&!V.setAttr||V.pos===1&&!V.setAttr)&&(T.style(V.elem,B,V.end),V.setAttr=!0)}});function n(w){return w.replace(/-([\da-z])/gi,function(B,V){return V.toUpperCase()})}function r(w){var B,V,oe=w.ownerDocument.defaultView?w.ownerDocument.defaultView.getComputedStyle(w,null):w.currentStyle,Me={};if(oe&&oe.length&&oe[0]&&oe[oe[0]])for(V=oe.length;V--;)B=oe[V],typeof oe[B]=="string"&&(Me[n(B)]=oe[B]);else for(B in oe)typeof oe[B]=="string"&&(Me[B]=oe[B]);return Me}function h(w,B){var V={},oe,Me;for(oe in B)Me=B[oe],w[oe]!==Me&&(i[oe]||(t.fx.step[oe]||!isNaN(parseFloat(Me)))&&(V[oe]=Me));return V}t.fn.addBack||(t.fn.addBack=function(w){return this.add(w==null?this.prevObject:this.prevObject.filter(w))}),t.effects.animateClass=function(w,B,V,oe){var Me=t.speed(B,V,oe);return this.queue(function(){var Re=t(this),je=Re.attr("class")||"",ze,Ne=Me.children?Re.find("*").addBack():Re;Ne=Ne.map(function(){var Oe=t(this);return{el:Oe,start:r(this)}}),ze=function(){t.each(e,function(Oe,tt){w[tt]&&Re[tt+"Class"](w[tt])})},ze(),Ne=Ne.map(function(){return this.end=r(this.el[0]),this.diff=h(this.start,this.end),this}),Re.attr("class",je),Ne=Ne.map(function(){var Oe=this,tt=t.Deferred(),it=t.extend({},Me,{queue:!1,complete:function(){tt.resolve(Oe)}});return this.el.animate(this.diff,it),tt.promise()}),t.when.apply(t,Ne.get()).done(function(){ze(),t.each(arguments,function(){var Oe=this.el;t.each(this.diff,function(tt){Oe.css(tt,"")})}),Me.complete.call(Re[0])})})},t.fn.extend({addClass:function(w){return function(B,V,oe,Me){return V?t.effects.animateClass.call(this,{add:B},V,oe,Me):w.apply(this,arguments)}}(t.fn.addClass),removeClass:function(w){return function(B,V,oe,Me){return arguments.length>1?t.effects.animateClass.call(this,{remove:B},V,oe,Me):w.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(w){return function(B,V,oe,Me,Re){return typeof V=="boolean"||V===void 0?oe?t.effects.animateClass.call(this,V?{add:B}:{remove:B},oe,Me,Re):w.apply(this,arguments):t.effects.animateClass.call(this,{toggle:B},V,oe,Me)}}(t.fn.toggleClass),switchClass:function(w,B,V,oe,Me){return t.effects.animateClass.call(this,{add:B,remove:w},V,oe,Me)}})}(),function(){t.expr&&t.expr.pseudos&&t.expr.pseudos.animated&&(t.expr.pseudos.animated=function(r){return function(h){return!!t(h).data(re)||r(h)}}(t.expr.pseudos.animated)),t.uiBackCompat!==!1&&t.extend(t.effects,{save:function(r,h){for(var w=0,B=h.length;w<B;w++)h[w]!==null&&r.data(Q+h[w],r[0].style[h[w]])},restore:function(r,h){for(var w,B=0,V=h.length;B<V;B++)h[B]!==null&&(w=r.data(Q+h[B]),r.css(h[B],w))},setMode:function(r,h){return h==="toggle"&&(h=r.is(":hidden")?"show":"hide"),h},createWrapper:function(r){if(r.parent().is(".ui-effects-wrapper"))return r.parent();var h={width:r.outerWidth(!0),height:r.outerHeight(!0),float:r.css("float")},w=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),B={width:r.width(),height:r.height()},V=document.activeElement;try{V.id}catch{V=document.body}return r.wrap(w),(r[0]===V||t.contains(r[0],V))&&t(V).trigger("focus"),w=r.parent(),r.css("position")==="static"?(w.css({position:"relative"}),r.css({position:"relative"})):(t.extend(h,{position:r.css("position"),zIndex:r.css("z-index")}),t.each(["top","left","bottom","right"],function(oe,Me){h[Me]=r.css(Me),isNaN(parseInt(h[Me],10))&&(h[Me]="auto")}),r.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),r.css(B),w.css(h).show()},removeWrapper:function(r){var h=document.activeElement;return r.parent().is(".ui-effects-wrapper")&&(r.parent().replaceWith(r),(r[0]===h||t.contains(r[0],h))&&t(h).trigger("focus")),r}}),t.extend(t.effects,{version:"1.13.1",define:function(r,h,w){return w||(w=h,h="effect"),t.effects.effect[r]=w,t.effects.effect[r].mode=h,w},scaledDimensions:function(r,h,w){if(h===0)return{height:0,width:0,outerHeight:0,outerWidth:0};var B=w!=="horizontal"?(h||100)/100:1,V=w!=="vertical"?(h||100)/100:1;return{height:r.height()*V,width:r.width()*B,outerHeight:r.outerHeight()*V,outerWidth:r.outerWidth()*B}},clipToBox:function(r){return{width:r.clip.right-r.clip.left,height:r.clip.bottom-r.clip.top,left:r.clip.left,top:r.clip.top}},unshift:function(r,h,w){var B=r.queue();h>1&&B.splice.apply(B,[1,0].concat(B.splice(h,w))),r.dequeue()},saveStyle:function(r){r.data(pe,r[0].style.cssText)},restoreStyle:function(r){r[0].style.cssText=r.data(pe)||"",r.removeData(pe)},mode:function(r,h){var w=r.is(":hidden");return h==="toggle"&&(h=w?"show":"hide"),(w?h==="hide":h==="show")&&(h="none"),h},getBaseline:function(r,h){var w,B;switch(r[0]){case"top":w=0;break;case"middle":w=.5;break;case"bottom":w=1;break;default:w=r[0]/h.height}switch(r[1]){case"left":B=0;break;case"center":B=.5;break;case"right":B=1;break;default:B=r[1]/h.width}return{x:B,y:w}},createPlaceholder:function(r){var h,w=r.css("position"),B=r.position();return r.css({marginTop:r.css("marginTop"),marginBottom:r.css("marginBottom"),marginLeft:r.css("marginLeft"),marginRight:r.css("marginRight")}).outerWidth(r.outerWidth()).outerHeight(r.outerHeight()),/^(static|relative)/.test(w)&&(w="absolute",h=t("<"+r[0].nodeName+">").insertAfter(r).css({display:/^(inline|ruby)/.test(r.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:r.css("marginTop"),marginBottom:r.css("marginBottom"),marginLeft:r.css("marginLeft"),marginRight:r.css("marginRight"),float:r.css("float")}).outerWidth(r.outerWidth()).outerHeight(r.outerHeight()).addClass("ui-effects-placeholder"),r.data(Q+"placeholder",h)),r.css({position:w,left:B.left,top:B.top}),h},removePlaceholder:function(r){var h=Q+"placeholder",w=r.data(h);w&&(w.remove(),r.removeData(h))},cleanUp:function(r){t.effects.restoreStyle(r),t.effects.removePlaceholder(r)},setTransition:function(r,h,w,B){return B=B||{},t.each(h,function(V,oe){var Me=r.cssUnit(oe);Me[0]>0&&(B[oe]=Me[0]*w+Me[1])}),B}});function e(r,h,w,B){return t.isPlainObject(r)&&(h=r,r=r.effect),r={effect:r},h==null&&(h={}),typeof h=="function"&&(B=h,w=null,h={}),(typeof h=="number"||t.fx.speeds[h])&&(B=w,w=h,h={}),typeof w=="function"&&(B=w,w=null),h&&t.extend(r,h),w=w||h.duration,r.duration=t.fx.off?0:typeof w=="number"?w:w in t.fx.speeds?t.fx.speeds[w]:t.fx.speeds._default,r.complete=B||h.complete,r}function i(r){return!!(!r||typeof r=="number"||t.fx.speeds[r]||typeof r=="string"&&!t.effects.effect[r]||typeof r=="function"||typeof r=="object"&&!r.effect)}t.fn.extend({effect:function(){var r=e.apply(this,arguments),h=t.effects.effect[r.effect],w=h.mode,B=r.queue,V=B||"fx",oe=r.complete,Me=r.mode,Re=[],je=function(Ne){var Oe=t(this),tt=t.effects.mode(Oe,Me)||w;Oe.data(re,!0),Re.push(tt),w&&(tt==="show"||tt===w&&tt==="hide")&&Oe.show(),(!w||tt!=="none")&&t.effects.saveStyle(Oe),typeof Ne=="function"&&Ne()};if(t.fx.off||!h)return Me?this[Me](r.duration,oe):this.each(function(){oe&&oe.call(this)});function ze(Ne){var Oe=t(this);function tt(){Oe.removeData(re),t.effects.cleanUp(Oe),r.mode==="hide"&&Oe.hide(),it()}function it(){typeof oe=="function"&&oe.call(Oe[0]),typeof Ne=="function"&&Ne()}r.mode=Re.shift(),t.uiBackCompat!==!1&&!w?(Oe.is(":hidden")?Me==="hide":Me==="show")?(Oe[Me](),it()):h.call(Oe[0],r,it):r.mode==="none"?(Oe[Me](),it()):h.call(Oe[0],r,tt)}return B===!1?this.each(je).each(ze):this.queue(V,je).queue(V,ze)},show:function(r){return function(h){if(i(h))return r.apply(this,arguments);var w=e.apply(this,arguments);return w.mode="show",this.effect.call(this,w)}}(t.fn.show),hide:function(r){return function(h){if(i(h))return r.apply(this,arguments);var w=e.apply(this,arguments);return w.mode="hide",this.effect.call(this,w)}}(t.fn.hide),toggle:function(r){return function(h){if(i(h)||typeof h=="boolean")return r.apply(this,arguments);var w=e.apply(this,arguments);return w.mode="toggle",this.effect.call(this,w)}}(t.fn.toggle),cssUnit:function(r){var h=this.css(r),w=[];return t.each(["em","px","%","pt"],function(B,V){h.indexOf(V)>0&&(w=[parseFloat(h),V])}),w},cssClip:function(r){return r?this.css("clip","rect("+r.top+"px "+r.right+"px "+r.bottom+"px "+r.left+"px)"):n(this.css("clip"),this)},transfer:function(r,h){var w=t(this),B=t(r.to),V=B.css("position")==="fixed",oe=t("body"),Me=V?oe.scrollTop():0,Re=V?oe.scrollLeft():0,je=B.offset(),ze={top:je.top-Me,left:je.left-Re,height:B.innerHeight(),width:B.innerWidth()},Ne=w.offset(),Oe=t("<div class='ui-effects-transfer'></div>");Oe.appendTo("body").addClass(r.className).css({top:Ne.top-Me,left:Ne.left-Re,height:w.innerHeight(),width:w.innerWidth(),position:V?"fixed":"absolute"}).animate(ze,r.duration,r.easing,function(){Oe.remove(),typeof h=="function"&&h()})}});function n(r,h){var w=h.outerWidth(),B=h.outerHeight(),V=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,oe=V.exec(r)||["",0,w,B,0];return{top:parseFloat(oe[1])||0,right:oe[2]==="auto"?w:parseFloat(oe[2]),bottom:oe[3]==="auto"?B:parseFloat(oe[3]),left:parseFloat(oe[4])||0}}t.fx.step.clip=function(r){r.clipInit||(r.start=t(r.elem).cssClip(),typeof r.end=="string"&&(r.end=n(r.end,r.elem)),r.clipInit=!0),t(r.elem).cssClip({top:r.pos*(r.end.top-r.start.top)+r.start.top,right:r.pos*(r.end.right-r.start.right)+r.start.right,bottom:r.pos*(r.end.bottom-r.start.bottom)+r.start.bottom,left:r.pos*(r.end.left-r.start.left)+r.start.left})}}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(i,n){e[n]=function(r){return Math.pow(r,i+2)}}),t.extend(e,{Sine:function(i){return 1-Math.cos(i*Math.PI/2)},Circ:function(i){return 1-Math.sqrt(1-i*i)},Elastic:function(i){return i===0||i===1?i:-Math.pow(2,8*(i-1))*Math.sin(((i-1)*80-7.5)*Math.PI/15)},Back:function(i){return i*i*(3*i-2)},Bounce:function(i){for(var n,r=4;i<((n=Math.pow(2,--r))-1)/11;);return 1/Math.pow(4,3-r)-7.5625*Math.pow((n*3-2)/22-i,2)}}),t.each(e,function(i,n){t.easing["easeIn"+i]=n,t.easing["easeOut"+i]=function(r){return 1-n(1-r)},t.easing["easeInOut"+i]=function(r){return r<.5?n(r*2)/2:1-n(r*-2+2)/2}})}();var le=t.effects;var ee=t.effects.define("blind","hide",function(e,i){var n={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},r=t(this),h=e.direction||"up",w=r.cssClip(),B={clip:t.extend({},w)},V=t.effects.createPlaceholder(r);B.clip[n[h][0]]=B.clip[n[h][1]],e.mode==="show"&&(r.cssClip(B.clip),V&&V.css(t.effects.clipToBox(B)),B.clip=w),V&&V.animate(t.effects.clipToBox(B),e.duration,e.easing),r.animate(B,{queue:!1,duration:e.duration,easing:e.easing,complete:i})});var be=t.effects.define("bounce",function(e,i){var n,r,h,w=t(this),B=e.mode,V=B==="hide",oe=B==="show",Me=e.direction||"up",Re=e.distance,je=e.times||5,ze=je*2+(oe||V?1:0),Ne=e.duration/ze,Oe=e.easing,tt=Me==="up"||Me==="down"?"top":"left",it=Me==="up"||Me==="left",xt=0,Ot=w.queue().length;for(t.effects.createPlaceholder(w),h=w.css(tt),Re||(Re=w[tt==="top"?"outerHeight":"outerWidth"]()/3),oe&&(r={opacity:1},r[tt]=h,w.css("opacity",0).css(tt,it?-Re*2:Re*2).animate(r,Ne,Oe)),V&&(Re=Re/Math.pow(2,je-1)),r={},r[tt]=h;xt<je;xt++)n={},n[tt]=(it?"-=":"+=")+Re,w.animate(n,Ne,Oe).animate(r,Ne,Oe),Re=V?Re*2:Re/2;V&&(n={opacity:0},n[tt]=(it?"-=":"+=")+Re,w.animate(n,Ne,Oe)),w.queue(i),t.effects.unshift(w,Ot,ze+1)});var ie=t.effects.define("clip","hide",function(e,i){var n,r={},h=t(this),w=e.direction||"vertical",B=w==="both",V=B||w==="horizontal",oe=B||w==="vertical";n=h.cssClip(),r.clip={top:oe?(n.bottom-n.top)/2:n.top,right:V?(n.right-n.left)/2:n.right,bottom:oe?(n.bottom-n.top)/2:n.bottom,left:V?(n.right-n.left)/2:n.left},t.effects.createPlaceholder(h),e.mode==="show"&&(h.cssClip(r.clip),r.clip=n),h.animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:i})});var Te=t.effects.define("drop","hide",function(e,i){var n,r=t(this),h=e.mode,w=h==="show",B=e.direction||"left",V=B==="up"||B==="down"?"top":"left",oe=B==="up"||B==="left"?"-=":"+=",Me=oe==="+="?"-=":"+=",Re={opacity:0};t.effects.createPlaceholder(r),n=e.distance||r[V==="top"?"outerHeight":"outerWidth"](!0)/2,Re[V]=oe+n,w&&(r.css(Re),Re[V]=Me+n,Re.opacity=1),r.animate(Re,{queue:!1,duration:e.duration,easing:e.easing,complete:i})});var ve=t.effects.define("explode","hide",function(e,i){var n,r,h,w,B,V,oe=e.pieces?Math.round(Math.sqrt(e.pieces)):3,Me=oe,Re=t(this),je=e.mode,ze=je==="show",Ne=Re.show().css("visibility","hidden").offset(),Oe=Math.ceil(Re.outerWidth()/Me),tt=Math.ceil(Re.outerHeight()/oe),it=[];function xt(){it.push(this),it.length===oe*Me&&Ot()}for(n=0;n<oe;n++)for(w=Ne.top+n*tt,V=n-(oe-1)/2,r=0;r<Me;r++)h=Ne.left+r*Oe,B=r-(Me-1)/2,Re.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-r*Oe,top:-n*tt}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:Oe,height:tt,left:h+(ze?B*Oe:0),top:w+(ze?V*tt:0),opacity:ze?0:1}).animate({left:h+(ze?0:B*Oe),top:w+(ze?0:V*tt),opacity:ze?1:0},e.duration||500,e.easing,xt);function Ot(){Re.css({visibility:"visible"}),t(it).remove(),i()}});var fe=t.effects.define("fade","toggle",function(e,i){var n=e.mode==="show";t(this).css("opacity",n?0:1).animate({opacity:n?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:i})});var Ee=t.effects.define("fold","hide",function(e,i){var n=t(this),r=e.mode,h=r==="show",w=r==="hide",B=e.size||15,V=/([0-9]+)%/.exec(B),oe=!!e.horizFirst,Me=oe?["right","bottom"]:["bottom","right"],Re=e.duration/2,je=t.effects.createPlaceholder(n),ze=n.cssClip(),Ne={clip:t.extend({},ze)},Oe={clip:t.extend({},ze)},tt=[ze[Me[0]],ze[Me[1]]],it=n.queue().length;V&&(B=parseInt(V[1],10)/100*tt[w?0:1]),Ne.clip[Me[0]]=B,Oe.clip[Me[0]]=B,Oe.clip[Me[1]]=0,h&&(n.cssClip(Oe.clip),je&&je.css(t.effects.clipToBox(Oe)),Oe.clip=ze),n.queue(function(xt){je&&je.animate(t.effects.clipToBox(Ne),Re,e.easing).animate(t.effects.clipToBox(Oe),Re,e.easing),xt()}).animate(Ne,Re,e.easing).animate(Oe,Re,e.easing).queue(i),t.effects.unshift(n,it,4)});var Ae=t.effects.define("highlight","show",function(e,i){var n=t(this),r={backgroundColor:n.css("backgroundColor")};e.mode==="hide"&&(r.opacity=0),t.effects.saveStyle(n),n.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:i})});var z=t.effects.define("size",function(e,i){var n,r,h,w=t(this),B=["fontSize"],V=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],oe=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],Me=e.mode,Re=Me!=="effect",je=e.scale||"both",ze=e.origin||["middle","center"],Ne=w.css("position"),Oe=w.position(),tt=t.effects.scaledDimensions(w),it=e.from||tt,xt=e.to||t.effects.scaledDimensions(w,0);t.effects.createPlaceholder(w),Me==="show"&&(h=it,it=xt,xt=h),r={from:{y:it.height/tt.height,x:it.width/tt.width},to:{y:xt.height/tt.height,x:xt.width/tt.width}},(je==="box"||je==="both")&&(r.from.y!==r.to.y&&(it=t.effects.setTransition(w,V,r.from.y,it),xt=t.effects.setTransition(w,V,r.to.y,xt)),r.from.x!==r.to.x&&(it=t.effects.setTransition(w,oe,r.from.x,it),xt=t.effects.setTransition(w,oe,r.to.x,xt))),(je==="content"||je==="both")&&r.from.y!==r.to.y&&(it=t.effects.setTransition(w,B,r.from.y,it),xt=t.effects.setTransition(w,B,r.to.y,xt)),ze&&(n=t.effects.getBaseline(ze,tt),it.top=(tt.outerHeight-it.outerHeight)*n.y+Oe.top,it.left=(tt.outerWidth-it.outerWidth)*n.x+Oe.left,xt.top=(tt.outerHeight-xt.outerHeight)*n.y+Oe.top,xt.left=(tt.outerWidth-xt.outerWidth)*n.x+Oe.left),delete it.outerHeight,delete it.outerWidth,w.css(it),(je==="content"||je==="both")&&(V=V.concat(["marginTop","marginBottom"]).concat(B),oe=oe.concat(["marginLeft","marginRight"]),w.find("*[width]").each(function(){var Ot=t(this),Wt=t.effects.scaledDimensions(Ot),zt={height:Wt.height*r.from.y,width:Wt.width*r.from.x,outerHeight:Wt.outerHeight*r.from.y,outerWidth:Wt.outerWidth*r.from.x},qt={height:Wt.height*r.to.y,width:Wt.width*r.to.x,outerHeight:Wt.height*r.to.y,outerWidth:Wt.width*r.to.x};r.from.y!==r.to.y&&(zt=t.effects.setTransition(Ot,V,r.from.y,zt),qt=t.effects.setTransition(Ot,V,r.to.y,qt)),r.from.x!==r.to.x&&(zt=t.effects.setTransition(Ot,oe,r.from.x,zt),qt=t.effects.setTransition(Ot,oe,r.to.x,qt)),Re&&t.effects.saveStyle(Ot),Ot.css(zt),Ot.animate(qt,e.duration,e.easing,function(){Re&&t.effects.restoreStyle(Ot)})})),w.animate(xt,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var Ot=w.offset();xt.opacity===0&&w.css("opacity",it.opacity),Re||(w.css("position",Ne==="static"?"relative":Ne).offset(Ot),t.effects.saveStyle(w)),i()}})});var ce=t.effects.define("scale",function(e,i){var n=t(this),r=e.mode,h=parseInt(e.percent,10)||(parseInt(e.percent,10)===0||r!=="effect"?0:100),w=t.extend(!0,{from:t.effects.scaledDimensions(n),to:t.effects.scaledDimensions(n,h,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(w.from.opacity=1,w.to.opacity=0),t.effects.effect.size.call(this,w,i)});var Se=t.effects.define("puff","hide",function(e,i){var n=t.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});t.effects.effect.scale.call(this,n,i)});var De=t.effects.define("pulsate","show",function(e,i){var n=t(this),r=e.mode,h=r==="show",w=r==="hide",B=h||w,V=(e.times||5)*2+(B?1:0),oe=e.duration/V,Me=0,Re=1,je=n.queue().length;for((h||!n.is(":visible"))&&(n.css("opacity",0).show(),Me=1);Re<V;Re++)n.animate({opacity:Me},oe,e.easing),Me=1-Me;n.animate({opacity:Me},oe,e.easing),n.queue(i),t.effects.unshift(n,je,V+1)});var ae=t.effects.define("shake",function(e,i){var n=1,r=t(this),h=e.direction||"left",w=e.distance||20,B=e.times||3,V=B*2+1,oe=Math.round(e.duration/V),Me=h==="up"||h==="down"?"top":"left",Re=h==="up"||h==="left",je={},ze={},Ne={},Oe=r.queue().length;for(t.effects.createPlaceholder(r),je[Me]=(Re?"-=":"+=")+w,ze[Me]=(Re?"+=":"-=")+w*2,Ne[Me]=(Re?"-=":"+=")+w*2,r.animate(je,oe,e.easing);n<B;n++)r.animate(ze,oe,e.easing).animate(Ne,oe,e.easing);r.animate(ze,oe,e.easing).animate(je,oe/2,e.easing).queue(i),t.effects.unshift(r,Oe,V+1)});var me=t.effects.define("slide","show",function(e,i){var n,r,h=t(this),w={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},B=e.mode,V=e.direction||"left",oe=V==="up"||V==="down"?"top":"left",Me=V==="up"||V==="left",Re=e.distance||h[oe==="top"?"outerHeight":"outerWidth"](!0),je={};t.effects.createPlaceholder(h),n=h.cssClip(),r=h.position()[oe],je[oe]=(Me?-1:1)*Re+r,je.clip=h.cssClip(),je.clip[w[V][1]]=je.clip[w[V][0]],B==="show"&&(h.cssClip(je.clip),h.css(oe,je[oe]),je.clip=n,je[oe]=r),h.animate(je,{queue:!1,duration:e.duration,easing:e.easing,complete:i})});var le;t.uiBackCompat!==!1&&(le=t.effects.define("transfer",function(e,i){t(this).transfer(e,i)}));var Ie=le;t.ui.focusable=function(e,i){var n,r,h,w,B,V=e.nodeName.toLowerCase();return V==="area"?(n=e.parentNode,r=n.name,!e.href||!r||n.nodeName.toLowerCase()!=="map"?!1:(h=t("img[usemap='#"+r+"']"),h.length>0&&h.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(V)?(w=!e.disabled,w&&(B=t(e).closest("fieldset")[0],B&&(w=!B.disabled))):V==="a"?w=e.href||i:w=i,w&&t(e).is(":visible")&&xe(t(e)))};function xe(e){for(var i=e.css("visibility");i==="inherit";)e=e.parent(),i=e.css("visibility");return i==="visible"}t.extend(t.expr.pseudos,{focusable:function(e){return t.ui.focusable(e,t.attr(e,"tabindex")!=null)}});var de=t.ui.focusable,Pe=t.fn._form=function(){return typeof this[0].form=="string"?this.closest("form"):t(this[0].form)};var P=t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout(function(){var i=e.data("ui-form-reset-instances");t.each(i,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element._form(),!!this.form.length){var e=this.form.data("ui-form-reset-instances")||[];e.length||this.form.on("reset.ui-form-reset",this._formResetHandler),e.push(this),this.form.data("ui-form-reset-instances",e)}},_unbindFormResetHandler:function(){if(!!this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}};if(t.expr.pseudos||(t.expr.pseudos=t.expr[":"]),t.uniqueSort||(t.uniqueSort=t.unique),!t.escapeSelector){var J=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,L=function(e,i){return i?e==="\0"?"\uFFFD":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e};t.escapeSelector=function(e){return(e+"").replace(J,L)}}(!t.fn.even||!t.fn.odd)&&t.fn.extend({even:function(){return this.filter(function(e){return e%2==0})},odd:function(){return this.filter(function(e){return e%2==1})}});var k=t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38};var ne=t.fn.labels=function(){var e,i,n,r,h;return this.length?this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(r=this.eq(0).parents("label"),n=this.attr("id"),n&&(e=this.eq(0).parents().last(),h=e.add(e.length?e.siblings():this.siblings()),i="label[for='"+t.escapeSelector(n)+"']",r=r.add(h.find(i).addBack(i))),this.pushStack(r)):this.pushStack([])};var K=t.fn.scrollParent=function(e){var i=this.css("position"),n=i==="absolute",r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,h=this.parents().filter(function(){var w=t(this);return n&&w.css("position")==="static"?!1:r.test(w.css("overflow")+w.css("overflow-y")+w.css("overflow-x"))}).eq(0);return i==="fixed"||!h.length?t(this[0].ownerDocument||document):h};var he=t.extend(t.expr.pseudos,{tabbable:function(e){var i=t.attr(e,"tabindex"),n=i!=null;return(!n||i>=0)&&t.ui.focusable(e,n)}});var we=t.fn.extend({uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}});var c=t.widget("ui.accordion",{version:"1.13.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:function(e){return e.find("> li > :first-child").add(e.find("> :not(li)").even())},heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),!e.collapsible&&(e.active===!1||e.active==null)&&(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e,i,n=this.options.icons;n&&(e=t("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+n.header),e.prependTo(this.headers),i=this.active.children(".ui-accordion-header-icon"),this._removeClass(i,n.header)._addClass(i,null,n.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),this.options.heightStyle!=="content"&&e.css("height","")},_setOption:function(e,i){if(e==="active"){this._activate(i);return}e==="event"&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(i)),this._super(e,i),e==="collapsible"&&!i&&this.options.active===!1&&this._activate(0),e==="icons"&&(this._destroyIcons(),i&&this._createIcons())},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e),this._toggleClass(null,"ui-state-disabled",!!e),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!e)},_keydown:function(e){if(!(e.altKey||e.ctrlKey)){var i=t.ui.keyCode,n=this.headers.length,r=this.headers.index(e.target),h=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:h=this.headers[(r+1)%n];break;case i.LEFT:case i.UP:h=this.headers[(r-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:h=this.headers[0];break;case i.END:h=this.headers[n-1];break}h&&(t(e.target).attr("tabIndex",-1),t(h).attr("tabIndex",0),t(h).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,i=this.panels;typeof this.options.header=="function"?this.headers=this.options.header(this.element):this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),i&&(this._off(e.not(this.headers)),this._off(i.not(this.panels)))},_refresh:function(){var e,i=this.options,n=i.heightStyle,r=this.element.parent();this.active=this._findActive(i.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var h=t(this),w=h.uniqueId().attr("id"),B=h.next(),V=B.uniqueId().attr("id");h.attr("aria-controls",V),B.attr("aria-labelledby",w)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),n==="fill"?(e=r.height(),this.element.siblings(":visible").each(function(){var h=t(this),w=h.css("position");w==="absolute"||w==="fixed"||(e-=h.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):n==="auto"&&(e=0,this.headers.next().each(function(){var h=t(this).is(":visible");h||t(this).show(),e=Math.max(e,t(this).css("height","").height()),h||t(this).hide()}).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return typeof e=="number"?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(n,r){i[r]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i,n,r=this.options,h=this.active,w=t(e.currentTarget),B=w[0]===h[0],V=B&&r.collapsible,oe=V?t():w.next(),Me=h.next(),Re={oldHeader:h,oldPanel:Me,newHeader:V?t():w,newPanel:oe};e.preventDefault(),!(B&&!r.collapsible||this._trigger("beforeActivate",e,Re)===!1)&&(r.active=V?!1:this.headers.index(w),this.active=B?t():w,this._toggle(Re),this._removeClass(h,"ui-accordion-header-active","ui-state-active"),r.icons&&(i=h.children(".ui-accordion-header-icon"),this._removeClass(i,null,r.icons.activeHeader)._addClass(i,null,r.icons.header)),B||(this._removeClass(w,"ui-accordion-header-collapsed")._addClass(w,"ui-accordion-header-active","ui-state-active"),r.icons&&(n=w.children(".ui-accordion-header-icon"),this._removeClass(n,null,r.icons.header)._addClass(n,null,r.icons.activeHeader)),this._addClass(w.next(),"ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,n=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,e):(n.hide(),i.show(),this._toggleComplete(e)),n.attr({"aria-hidden":"true"}),n.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return parseInt(t(this).attr("tabIndex"),10)===0}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,i,n){var r,h,w,B=this,V=0,oe=e.css("box-sizing"),Me=e.length&&(!i.length||e.index()<i.index()),Re=this.options.animate||{},je=Me&&Re.down||Re,ze=function(){B._toggleComplete(n)};if(typeof je=="number"&&(w=je),typeof je=="string"&&(h=je),h=h||je.easing||Re.easing,w=w||je.duration||Re.duration,!i.length)return e.animate(this.showProps,w,h,ze);if(!e.length)return i.animate(this.hideProps,w,h,ze);r=e.show().outerHeight(),i.animate(this.hideProps,{duration:w,easing:h,step:function(Ne,Oe){Oe.now=Math.round(Ne)}}),e.hide().animate(this.showProps,{duration:w,easing:h,complete:ze,step:function(Ne,Oe){Oe.now=Math.round(Ne),Oe.prop!=="height"?oe==="content-box"&&(V+=Oe.now):B.options.heightStyle!=="content"&&(Oe.now=Math.round(r-i.outerHeight()-V),V=0)}})},_toggleComplete:function(e){var i=e.oldPanel,n=i.prev();this._removeClass(i,"ui-accordion-content-active"),this._removeClass(n,"ui-accordion-header-active")._addClass(n,"ui-accordion-header-collapsed"),i.length&&(i.parent()[0].className=i.parent()[0].className),this._trigger("activate",null,e)}}),S=t.ui.safeActiveElement=function(e){var i;try{i=e.activeElement}catch{i=e.body}return i||(i=e.body),i.nodeName||(i=e.body),i};var U=t.widget("ui.menu",{version:"1.13.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.lastMousePosition={x:null,y:null},this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault(),this._activateItem(e)},"click .ui-menu-item":function(e){var i=t(e.target),n=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&n.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&this.active.parents(".ui-menu").length===1&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":"_activateItem","mousemove .ui-menu-item":"_activateItem",mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,i){var n=this.active||this._menuItems().first();i||this.focus(e,n)},blur:function(e){this._delay(function(){var i=!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]));i&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e,!0),this.mouseHandled=!1}})},_activateItem:function(e){if(!this.previousFilter&&!(e.clientX===this.lastMousePosition.x&&e.clientY===this.lastMousePosition.y)){this.lastMousePosition={x:e.clientX,y:e.clientY};var i=t(e.target).closest(".ui-menu-item"),n=t(e.currentTarget);i[0]===n[0]&&(n.is(".ui-state-active")||(this._removeClass(n.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,n)))}},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),i=e.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),i.children().each(function(){var n=t(this);n.data("ui-menu-submenu-caret")&&n.remove()})},_keydown:function(e){var i,n,r,h,w=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:w=!1,n=this.previousFilter||"",h=!1,r=e.keyCode>=96&&e.keyCode<=105?(e.keyCode-96).toString():String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),r===n?h=!0:r=n+r,i=this._filterMenuItems(r),i=h&&i.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):i,i.length||(r=String.fromCharCode(e.keyCode),i=this._filterMenuItems(r)),i.length?(this.focus(e,i),this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}w&&e.preventDefault()},_activate:function(e){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var e,i,n,r,h,w=this,B=this.options.icons.submenu,V=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),n=V.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var oe=t(this),Me=oe.prev(),Re=t("<span>").data("ui-menu-submenu-caret",!0);w._addClass(Re,"ui-menu-icon","ui-icon "+B),Me.attr("aria-haspopup","true").prepend(Re),oe.attr("aria-labelledby",Me.attr("id"))}),this._addClass(n,"ui-menu","ui-widget ui-widget-content ui-front"),e=V.add(this.element),i=e.find(this.options.items),i.not(".ui-menu-item").each(function(){var oe=t(this);w._isDivider(oe)&&w._addClass(oe,"ui-menu-divider","ui-widget-content")}),r=i.not(".ui-menu-item, .ui-menu-divider"),h=r.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(r,"ui-menu-item")._addClass(h,"ui-menu-item-wrapper"),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,i){if(e==="icons"){var n=this.element.find(".ui-menu-icon");this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,i.submenu)}this._super(e,i)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",String(e)),this._toggleClass(null,"ui-state-disabled",!!e)},focus:function(e,i){var n,r,h;this.blur(e,e&&e.type==="focus"),this._scrollIntoView(i),this.active=i.first(),r=this.active.children(".ui-menu-item-wrapper"),this._addClass(r,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",r.attr("id")),h=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(h,null,"ui-state-active"),e&&e.type==="keydown"?this._close():this.timer=this._delay(function(){this._close()},this.delay),n=i.children(".ui-menu"),n.length&&e&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=i.parent(),this._trigger("focus",e,{item:i})},_scrollIntoView:function(e){var i,n,r,h,w,B;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,r=e.offset().top-this.activeMenu.offset().top-i-n,h=this.activeMenu.scrollTop(),w=this.activeMenu.height(),B=e.outerHeight(),r<0?this.activeMenu.scrollTop(h+r):r+B>w&&this.activeMenu.scrollTop(h+r-w+B))},blur:function(e,i){i||clearTimeout(this.timer),!!this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",e,{item:this.active}),this.active=null)},_startOpening:function(e){clearTimeout(this.timer),e.attr("aria-hidden")==="true"&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(e),this._removeClass(n.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=n},i?0:this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var i=this.active&&this.active.parent().closest(".ui-menu-item",this.element);i&&i.length&&(this._close(),this.focus(e,i))},expand:function(e){var i=this.active&&this._menuItems(this.active.children(".ui-menu")).first();i&&i.length&&(this._open(i.parent()),this._delay(function(){this.focus(e,i)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_menuItems:function(e){return(e||this.element).find(this.options.items).filter(".ui-menu-item")},_move:function(e,i,n){var r;this.active&&(e==="first"||e==="last"?r=this.active[e==="first"?"prevAll":"nextAll"](".ui-menu-item").last():r=this.active[e+"All"](".ui-menu-item").first()),(!r||!r.length||!this.active)&&(r=this._menuItems(this.activeMenu)[i]()),this.focus(n,r)},nextPage:function(e){var i,n,r;if(!this.active){this.next(e);return}this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.innerHeight(),t.fn.jquery.indexOf("3.2.")===0&&(r+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n-r<0}),this.focus(e,i)):this.focus(e,this._menuItems(this.activeMenu)[this.active?"last":"first"]()))},previousPage:function(e){var i,n,r;if(!this.active){this.next(e);return}this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.innerHeight(),t.fn.jquery.indexOf("3.2.")===0&&(r+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n+r>0}),this.focus(e,i)):this.focus(e,this._menuItems(this.activeMenu).first()))},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)},_filterMenuItems:function(e){var i=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n=new RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return n.test(String.prototype.trim.call(t(this).children(".ui-menu-item-wrapper").text()))})}});t.widget("ui.autocomplete",{version:"1.13.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,liveRegionTimer:null,_create:function(){var e,i,n,r=this.element[0].nodeName.toLowerCase(),h=r==="textarea",w=r==="input";this.isMultiLine=h||!w&&this._isContentEditable(this.element),this.valueMethod=this.element[h||w?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(B){if(this.element.prop("readOnly")){e=!0,n=!0,i=!0;return}e=!1,n=!1,i=!1;var V=t.ui.keyCode;switch(B.keyCode){case V.PAGE_UP:e=!0,this._move("previousPage",B);break;case V.PAGE_DOWN:e=!0,this._move("nextPage",B);break;case V.UP:e=!0,this._keyEvent("previous",B);break;case V.DOWN:e=!0,this._keyEvent("next",B);break;case V.ENTER:this.menu.active&&(e=!0,B.preventDefault(),this.menu.select(B));break;case V.TAB:this.menu.active&&this.menu.select(B);break;case V.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(B),B.preventDefault());break;default:i=!0,this._searchTimeout(B);break}},keypress:function(B){if(e){e=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&B.preventDefault();return}if(!i){var V=t.ui.keyCode;switch(B.keyCode){case V.PAGE_UP:this._move("previousPage",B);break;case V.PAGE_DOWN:this._move("nextPage",B);break;case V.UP:this._keyEvent("previous",B);break;case V.DOWN:this._keyEvent("next",B);break}}},input:function(B){if(n){n=!1,B.preventDefault();return}this._searchTimeout(B)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(B){clearTimeout(this.searching),this.close(B),this._change(B)}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().attr({unselectable:"on"}).menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(B){B.preventDefault()},menufocus:function(B,V){var oe,Me;if(this.isNewMenu&&(this.isNewMenu=!1,B.originalEvent&&/^mouse/.test(B.originalEvent.type))){this.menu.blur(),this.document.one("mousemove",function(){t(B.target).trigger(B.originalEvent)});return}Me=V.item.data("ui-autocomplete-item"),this._trigger("focus",B,{item:Me})!==!1&&B.originalEvent&&/^key/.test(B.originalEvent.type)&&this._value(Me.value),oe=V.item.attr("aria-label")||Me.value,oe&&String.prototype.trim.call(oe).length&&(clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(t("<div>").text(oe))},100))},menuselect:function(B,V){var oe=V.item.data("ui-autocomplete-item"),Me=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=Me,this._delay(function(){this.previous=Me,this.selectedItem=oe})),this._trigger("select",B,{item:oe})!==!1&&this._value(oe.value),this.term=this._value(),this.close(B),this.selectedItem=oe}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,i){this._super(e,i),e==="source"&&this._initSource(),e==="appendTo"&&this.menu.element.appendTo(this._appendTo()),e==="disabled"&&i&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var i=this.menu.element[0];return e.target===this.element[0]||e.target===i||t.contains(i,e.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),(!e||!e[0])&&(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,n=this;Array.isArray(this.options.source)?(e=this.options.source,this.source=function(r,h){h(t.ui.autocomplete.filter(e,r.term))}):typeof this.options.source=="string"?(i=this.options.source,this.source=function(r,h){n.xhr&&n.xhr.abort(),n.xhr=t.ajax({url:i,data:r,dataType:"json",success:function(w){h(w)},error:function(){h([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var i=this.term===this._value(),n=this.menu.element.is(":visible"),r=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!i||i&&!n&&!r)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,i){if(e=e??this._value(),this.term=this._value(),e.length<this.options.minLength)return this.close(i);if(this._trigger("search",i)!==!1)return this._search(e)},_search:function(e){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=++this.requestIndex;return function(i){e===this.requestIndex&&this.__response(i),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}.bind(this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(i){return typeof i=="string"?{label:i,value:i}:t.extend({},i,{label:i.label||i.value,value:i.value||i.label})})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var n=this;t.each(i,function(r,h){n._renderItemData(e,h)})},_renderItemData:function(e,i){return this._renderItem(e,i).data("ui-autocomplete-item",i)},_renderItem:function(e,i){return t("<li>").append(t("<div>").text(i.label)).appendTo(e)},_move:function(e,i){if(!this.menu.element.is(":visible")){this.search(null,i);return}if(this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)){this.isMultiLine||this._value(this.term),this.menu.blur();return}this.menu[e](i)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,i){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,i),i.preventDefault())},_isContentEditable:function(e){if(!e.length)return!1;var i=e.prop("contentEditable");return i==="inherit"?this._isContentEditable(e.parent()):i==="true"}}),t.extend(t.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var n=new RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(r){return n.test(r.label||r.value||r)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var i;this._superApply(arguments),!(this.options.disabled||this.cancelSearch)&&(e&&e.length?i=this.options.messages.results(e.length):i=this.options.messages.noResults,clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(t("<div>").text(i))},100))}});var W=t.ui.autocomplete;var Z=/ui-corner-([a-z]){2,6}/g,ye=t.widget("ui.controlgroup",{version:"1.13.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,i=[];t.each(this.options.items,function(n,r){var h,w={};if(!!r){if(n==="controlgroupLabel"){h=e.element.find(r),h.each(function(){var B=t(this);B.children(".ui-controlgroup-label-contents").length||B.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),e._addClass(h,null,"ui-widget ui-widget-content ui-state-default"),i=i.concat(h.get());return}!t.fn[n]||(e["_"+n+"Options"]?w=e["_"+n+"Options"]("middle"):w={classes:{}},e.element.find(r).each(function(){var B=t(this),V=B[n]("instance"),oe=t.widget.extend({},w);if(!(n==="button"&&B.parent(".ui-spinner").length)){V||(V=B[n]()[n]("instance")),V&&(oe.classes=e._resolveClassesValues(oe.classes,V)),B[n](oe);var Me=B[n]("widget");t.data(Me[0],"ui-controlgroup-data",V||B[n]("instance")),i.push(Me[0])}}))}}),this.childWidgets=t(t.uniqueSort(i)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var i=t(this),n=i.data("ui-controlgroup-data");n&&n[e]&&n[e]()})},_updateCornerClass:function(e,i){var n="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all",r=this._buildSimpleOptions(i,"label").classes.label;this._removeClass(e,null,n),this._addClass(e,null,r)},_buildSimpleOptions:function(e,i){var n=this.options.direction==="vertical",r={classes:{}};return r.classes[i]={middle:"",first:"ui-corner-"+(n?"top":"left"),last:"ui-corner-"+(n?"bottom":"right"),only:"ui-corner-all"}[e],r},_spinnerOptions:function(e){var i=this._buildSimpleOptions(e,"ui-spinner");return i.classes["ui-spinner-up"]="",i.classes["ui-spinner-down"]="",i},_buttonOptions:function(e){return this._buildSimpleOptions(e,"ui-button")},_checkboxradioOptions:function(e){return this._buildSimpleOptions(e,"ui-checkboxradio-label")},_selectmenuOptions:function(e){var i=this.options.direction==="vertical";return{width:i?"auto":!1,classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(i?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(i?"top":"left")},last:{"ui-selectmenu-button-open":i?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(i?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[e]}},_resolveClassesValues:function(e,i){var n={};return t.each(e,function(r){var h=i.options.classes[r]||"";h=String.prototype.trim.call(h.replace(Z,"")),n[r]=(h+" "+e[r]).replace(/\s+/g," ")}),n},_setOption:function(e,i){if(e==="direction"&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(e,i),e==="disabled"){this._callChildMethod(i?"disable":"enable");return}this.refresh()},refresh:function(){var e,i=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),this.options.direction==="horizontal"&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],function(n,r){var h=e[r]().data("ui-controlgroup-data");if(h&&i["_"+h.widgetName+"Options"]){var w=i["_"+h.widgetName+"Options"](e.length===1?"only":r);w.classes=i._resolveClassesValues(w.classes,h),h.element[h.widgetName](w)}else i._updateCornerClass(e[r](),r)}),this._callChildMethod("refresh"))}});t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.13.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,i,n=this,r=this._super()||{};return this._readType(),i=this.element.labels(),this.label=t(i[i.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){n.originalLabel+=this.nodeType===3?t(this).text():this.outerHTML}),this.originalLabel&&(r.label=this.originalLabel),e=this.element[0].disabled,e!=null&&(r.disabled=e),r},_create:function(){var e=this.element[0].checked;this._bindFormResetHandler(),this.options.disabled==null&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),this.type==="radio"&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),e&&this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,(e!=="input"||!/radio|checkbox/.test(this.type))&&t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e,i=this.element[0].name,n="input[name='"+t.escapeSelector(i)+"']";return i?(this.form.length?e=t(this.form[0].elements).filter(n):e=t(n).filter(function(){return t(this)._form().length===0}),e.not(this.element)):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&this.type==="checkbox"&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),this.type==="radio"&&this._getRadioGroup().each(function(){var i=t(this).checkboxradio("instance");i&&i._removeClass(i.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(e,i){if(!(e==="label"&&!i)){if(this._super(e,i),e==="disabled"){this._toggleClass(this.label,null,"ui-state-disabled",i),this.element[0].disabled=i;return}this.refresh()}},_updateIcon:function(e){var i="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),this.type==="checkbox"?(i+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):i+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",i),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):this.icon!==void 0&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var e=this.label.contents().not(this.element[0]);this.icon&&(e=e.not(this.icon[0])),this.iconSpace&&(e=e.not(this.iconSpace[0])),e.remove(),this.label.append(this.options.label)},refresh:function(){var e=this.element[0].checked,i=this.element[0].disabled;this._updateIcon(e),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.label!==null&&this._updateLabel(),i!==this.options.disabled&&this._setOptions({disabled:i})}}]);var qe=t.ui.checkboxradio;t.widget("ui.button",{version:"1.13.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var e,i=this._super()||{};return this.isInput=this.element.is("input"),e=this.element[0].disabled,e!=null&&(i.disabled=e),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(i.label=this.originalLabel),i},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),this.options.disabled==null&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),!this.options.showLabel&&!this.title&&this.element.attr("title",this.options.label)},_updateIcon:function(e,i){var n=e!=="iconPosition",r=n?this.options.iconPosition:i,h=r==="top"||r==="bottom";this.icon?n&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),n&&this._addClass(this.icon,null,i),this._attachIcon(r),h?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(r))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(e){this.icon[/^(?:end|bottom)/.test(e)?"before":"after"](this.iconSpace)},_attachIcon:function(e){this.element[/^(?:end|bottom)/.test(e)?"append":"prepend"](this.icon)},_setOptions:function(e){var i=e.showLabel===void 0?this.options.showLabel:e.showLabel,n=e.icon===void 0?this.options.icon:e.icon;!i&&!n&&(e.showLabel=!0),this._super(e)},_setOption:function(e,i){e==="icon"&&(i?this._updateIcon(e,i):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),e==="iconPosition"&&this._updateIcon(e,i),e==="showLabel"&&(this._toggleClass("ui-button-icon-only",null,!i),this._updateTooltip()),e==="label"&&(this.isInput?this.element.val(i):(this.element.html(i),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(e,i),e==="disabled"&&(this._toggleClass(null,"ui-state-disabled",i),this.element[0].disabled=i,i&&this.element.trigger("blur"))},refresh:function(){var e=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOptions({disabled:e}),this._updateTooltip()}}),t.uiBackCompat!==!1&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),!this.options.icon&&(this.options.icons.primary||this.options.icons.secondary)?this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"):this.options.icon&&(this.options.icons.primary=this.options.icon),this._super()},_setOption:function(e,i){if(e==="text"){this._super("showLabel",i);return}e==="showLabel"&&(this.options.text=i),e==="icon"&&(this.options.icons.primary=i),e==="icons"&&(i.primary?(this._super("icon",i.primary),this._super("iconPosition","beginning")):i.secondary&&(this._super("icon",i.secondary),this._super("iconPosition","end"))),this._superApply(arguments)}}),t.fn.button=function(e){return function(i){var n=typeof i=="string",r=Array.prototype.slice.call(arguments,1),h=this;return n?!this.length&&i==="instance"?h=void 0:this.each(function(){var w,B=t(this).attr("type"),V=B!=="checkbox"&&B!=="radio"?"button":"checkboxradio",oe=t.data(this,"ui-"+V);if(i==="instance")return h=oe,!1;if(!oe)return t.error("cannot call methods on button prior to initialization; attempted to call method '"+i+"'");if(typeof oe[i]!="function"||i.charAt(0)==="_")return t.error("no such method '"+i+"' for button widget instance");if(w=oe[i].apply(oe,r),w!==oe&&w!==void 0)return h=w&&w.jquery?h.pushStack(w.get()):w,!1}):(r.length&&(i=t.widget.extend.apply(null,[i].concat(r))),this.each(function(){var w=t(this).attr("type"),B=w!=="checkbox"&&w!=="radio"?"button":"checkboxradio",V=t.data(this,"ui-"+B);if(V)V.option(i||{}),V._init&&V._init();else{if(B==="button"){e.call(t(this),i);return}t(this).checkboxradio(t.extend({icon:!1},i))}})),h}}(t.fn.button),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),arguments[0]==="option"&&arguments[1]==="items"&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):arguments[0]==="option"&&arguments[1]==="items"?this.controlgroup.apply(this,[arguments[0],"items.button"]):(typeof arguments[0]=="object"&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))});var ke=t.ui.button;t.extend(t.ui,{datepicker:{version:"1.13.1"}});var We;function Ye(e){for(var i,n;e.length&&e[0]!==document;){if(i=e.css("position"),(i==="absolute"||i==="relative"||i==="fixed")&&(n=parseInt(e.css("zIndex"),10),!isNaN(n)&&n!==0))return n;e=e.parent()}return 0}function Xe(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",selectMonthLabel:"Select month",selectYearLabel:"Select year"},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,onUpdateDatepicker:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=ht(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}t.extend(Xe.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return Ke(this._defaults,e||{}),this},_attachDatepicker:function(e,i){var n,r,h;n=e.nodeName.toLowerCase(),r=n==="div"||n==="span",e.id||(this.uuid+=1,e.id="dp"+this.uuid),h=this._newInst(t(e),r),h.settings=t.extend({},i||{}),n==="input"?this._connectDatepicker(e,h):r&&this._inlineDatepicker(e,h)},_newInst:function(e,i){var n=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:n,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?ht(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var n=t(e);i.append=t([]),i.trigger=t([]),!n.hasClass(this.markerClassName)&&(this._attachments(n,i),n.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var n,r,h,w=this._get(i,"appendText"),B=this._get(i,"isRTL");i.append&&i.append.remove(),w&&(i.append=t("<span>").addClass(this._appendClass).text(w),e[B?"before":"after"](i.append)),e.off("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),n=this._get(i,"showOn"),(n==="focus"||n==="both")&&e.on("focus",this._showDatepicker),(n==="button"||n==="both")&&(r=this._get(i,"buttonText"),h=this._get(i,"buttonImage"),this._get(i,"buttonImageOnly")?i.trigger=t("<img>").addClass(this._triggerClass).attr({src:h,alt:r,title:r}):(i.trigger=t("<button type='button'>").addClass(this._triggerClass),h?i.trigger.html(t("<img>").attr({src:h,alt:r,title:r})):i.trigger.text(r)),e[B?"before":"after"](i.trigger),i.trigger.on("click",function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():(t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]&&t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var i,n,r,h,w=new Date(2009,12-1,20),B=this._get(e,"dateFormat");B.match(/[DM]/)&&(i=function(V){for(n=0,r=0,h=0;h<V.length;h++)V[h].length>n&&(n=V[h].length,r=h);return r},w.setMonth(i(this._get(e,B.match(/MM/)?"monthNames":"monthNamesShort"))),w.setDate(i(this._get(e,B.match(/DD/)?"dayNames":"dayNamesShort"))+20-w.getDay())),e.input.attr("size",this._formatDate(e,w).length)}},_inlineDatepicker:function(e,i){var n=t(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,n,r,h){var w,B,V,oe,Me,Re=this._dialogInst;return Re||(this.uuid+=1,w="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+w+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),Re=this._dialogInst=this._newInst(this._dialogInput,!1),Re.settings={},t.data(this._dialogInput[0],"datepicker",Re)),Ke(Re.settings,r||{}),i=i&&i.constructor===Date?this._formatDate(Re,i):i,this._dialogInput.val(i),this._pos=h?h.length?h:[h.pageX,h.pageY]:null,this._pos||(B=document.documentElement.clientWidth,V=document.documentElement.clientHeight,oe=document.documentElement.scrollLeft||document.body.scrollLeft,Me=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[B/2-100+oe,V/2-150+Me]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),Re.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",Re),this},_destroyDatepicker:function(e){var i,n=t(e),r=t.data(e,"datepicker");!n.hasClass(this.markerClassName)||(i=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),i==="input"?(r.append.remove(),r.trigger.remove(),n.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):(i==="div"||i==="span")&&n.removeClass(this.markerClassName).empty(),We===r&&(We=null,this._curInst=null))},_enableDatepicker:function(e){var i,n,r=t(e),h=t.data(e,"datepicker");!r.hasClass(this.markerClassName)||(i=e.nodeName.toLowerCase(),i==="input"?(e.disabled=!1,h.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):(i==="div"||i==="span")&&(n=r.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(w){return w===e?null:w}))},_disableDatepicker:function(e){var i,n,r=t(e),h=t.data(e,"datepicker");!r.hasClass(this.markerClassName)||(i=e.nodeName.toLowerCase(),i==="input"?(e.disabled=!0,h.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):(i==="div"||i==="span")&&(n=r.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(w){return w===e?null:w}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var i=0;i<this._disabledInputs.length;i++)if(this._disabledInputs[i]===e)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch{throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,n){var r,h,w,B,V=this._getInst(e);if(arguments.length===2&&typeof i=="string")return i==="defaults"?t.extend({},t.datepicker._defaults):V?i==="all"?t.extend({},V.settings):this._get(V,i):null;r=i||{},typeof i=="string"&&(r={},r[i]=n),V&&(this._curInst===V&&this._hideDatepicker(),h=this._getDateDatepicker(e,!0),w=this._getMinMaxDate(V,"min"),B=this._getMinMaxDate(V,"max"),Ke(V.settings,r),w!==null&&r.dateFormat!==void 0&&r.minDate===void 0&&(V.settings.minDate=this._formatDate(V,w)),B!==null&&r.dateFormat!==void 0&&r.maxDate===void 0&&(V.settings.maxDate=this._formatDate(V,B)),"disabled"in r&&(r.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),V),this._autoSize(V),this._setDate(V,h),this._updateAlternate(V),this._updateDatepicker(V))},_changeDatepicker:function(e,i,n){this._optionDatepicker(e,i,n)},_refreshDatepicker:function(e){var i=this._getInst(e);i&&this._updateDatepicker(i)},_setDateDatepicker:function(e,i){var n=this._getInst(e);n&&(this._setDate(n,i),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,i){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,i),n?this._getDate(n):null},_doKeyDown:function(e){var i,n,r,h=t.datepicker._getInst(e.target),w=!0,B=h.dpDiv.is(".ui-datepicker-rtl");if(h._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),w=!1;break;case 13:return r=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",h.dpDiv),r[0]&&t.datepicker._selectDay(e.target,h.selectedMonth,h.selectedYear,r[0]),i=t.datepicker._get(h,"onSelect"),i?(n=t.datepicker._formatDate(h),i.apply(h.input?h.input[0]:null,[n,h])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(h,"stepBigMonths"):-t.datepicker._get(h,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(h,"stepBigMonths"):+t.datepicker._get(h,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),w=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),w=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,B?1:-1,"D"),w=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(h,"stepBigMonths"):-t.datepicker._get(h,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),w=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,B?-1:1,"D"),w=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(h,"stepBigMonths"):+t.datepicker._get(h,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),w=e.ctrlKey||e.metaKey;break;default:w=!1}else e.keyCode===36&&e.ctrlKey?t.datepicker._showDatepicker(this):w=!1;w&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,n,r=t.datepicker._getInst(e.target);if(t.datepicker._get(r,"constrainInput"))return i=t.datepicker._possibleChars(t.datepicker._get(r,"dateFormat")),n=String.fromCharCode(e.charCode==null?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||n<" "||!i||i.indexOf(n)>-1},_doKeyUp:function(e){var i,n=t.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,t.datepicker._getFormatConfig(n)),i&&(t.datepicker._setDateFromField(n),t.datepicker._updateAlternate(n),t.datepicker._updateDatepicker(n))}catch{}return!0},_showDatepicker:function(e){if(e=e.target||e,e.nodeName.toLowerCase()!=="input"&&(e=t("input",e.parentNode)[0]),!(t.datepicker._isDisabledDatepicker(e)||t.datepicker._lastInput===e)){var i,n,r,h,w,B,V;i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),n=t.datepicker._get(i,"beforeShow"),r=n?n.apply(e,[e,i]):{},r!==!1&&(Ke(i.settings,r),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),h=!1,t(e).parents().each(function(){return h|=t(this).css("position")==="fixed",!h}),w={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),w=t.datepicker._checkOffset(i,w,h),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":h?"fixed":"absolute",display:"none",left:w.left+"px",top:w.top+"px"}),i.inline||(B=t.datepicker._get(i,"showAnim"),V=t.datepicker._get(i,"duration"),i.dpDiv.css("z-index",Ye(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[B]?i.dpDiv.show(B,t.datepicker._get(i,"showOptions"),V):i.dpDiv[B||"show"](B?V:null),t.datepicker._shouldFocusInput(i)&&i.input.trigger("focus"),t.datepicker._curInst=i))}},_updateDatepicker:function(e){this.maxRows=4,We=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i,n=this._getNumberOfMonths(e),r=n[1],h=17,w=e.dpDiv.find("."+this._dayOverClass+" a"),B=t.datepicker._get(e,"onUpdateDatepicker");w.length>0&&Ct.apply(w.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&e.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",h*r+"em"),e.dpDiv[(n[0]!==1||n[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year").first().replaceWith(e.yearshtml),i=e.yearshtml=null},0)),B&&B.apply(e.input?e.input[0]:null,[e])},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(e,i,n){var r=e.dpDiv.outerWidth(),h=e.dpDiv.outerHeight(),w=e.input?e.input.outerWidth():0,B=e.input?e.input.outerHeight():0,V=document.documentElement.clientWidth+(n?0:t(document).scrollLeft()),oe=document.documentElement.clientHeight+(n?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?r-w:0,i.left-=n&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=n&&i.top===e.input.offset().top+B?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+r>V&&V>r?Math.abs(i.left+r-V):0),i.top-=Math.min(i.top,i.top+h>oe&&oe>h?Math.abs(h+B):0),i},_findPos:function(e){for(var i,n=this._getInst(e),r=this._get(n,"isRTL");e&&(e.type==="hidden"||e.nodeType!==1||t.expr.pseudos.hidden(e));)e=e[r?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,n,r,h,w=this._curInst;!w||e&&w!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(w,"showAnim"),n=this._get(w,"duration"),r=function(){t.datepicker._tidyDialog(w)},t.effects&&(t.effects.effect[i]||t.effects[i])?w.dpDiv.hide(i,t.datepicker._get(w,"showOptions"),n,r):w.dpDiv[i==="slideDown"?"slideUp":i==="fadeIn"?"fadeOut":"hide"](i?n:null,r),i||r(),this._datepickerShowing=!1,h=this._get(w,"onClose"),h&&h.apply(w.input?w.input[0]:null,[w.input?w.input.val():"",w]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(!!t.datepicker._curInst){var i=t(e.target),n=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&i.parents("#"+t.datepicker._mainDivId).length===0&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&!(t.datepicker._inDialog&&t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==n)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,n){var r=t(e),h=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(h,i,n),this._updateDatepicker(h))},_gotoToday:function(e){var i,n=t(e),r=this._getInst(n[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(i=new Date,r.selectedDay=i.getDate(),r.drawMonth=r.selectedMonth=i.getMonth(),r.drawYear=r.selectedYear=i.getFullYear()),this._notifyChange(r),this._adjustDate(n)},_selectMonthYear:function(e,i,n){var r=t(e),h=this._getInst(r[0]);h["selected"+(n==="M"?"Month":"Year")]=h["draw"+(n==="M"?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(h),this._adjustDate(r)},_selectDay:function(e,i,n,r){var h,w=t(e);t(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(w[0])||(h=this._getInst(w[0]),h.selectedDay=h.currentDay=parseInt(t("a",r).attr("data-date")),h.selectedMonth=h.currentMonth=i,h.selectedYear=h.currentYear=n,this._selectDate(e,this._formatDate(h,h.currentDay,h.currentMonth,h.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var n,r=t(e),h=this._getInst(r[0]);i=i??this._formatDate(h),h.input&&h.input.val(i),this._updateAlternate(h),n=this._get(h,"onSelect"),n?n.apply(h.input?h.input[0]:null,[i,h]):h.input&&h.input.trigger("change"),h.inline?this._updateDatepicker(h):(this._hideDatepicker(),this._lastInput=h.input[0],typeof h.input[0]!="object"&&h.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var i,n,r,h=this._get(e,"altField");h&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),r=this.formatDate(i,n,this._getFormatConfig(e)),t(document).find(h).val(r))},noWeekends:function(e){var i=e.getDay();return[i>0&&i<6,""]},iso8601Week:function(e){var i,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),i=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((i-n)/864e5)/7)+1},parseDate:function(e,i,n){if(e==null||i==null)throw"Invalid arguments";if(i=typeof i=="object"?i.toString():i+"",i==="")return null;var r,h,w,B=0,V=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,oe=typeof V!="string"?V:new Date().getFullYear()%100+parseInt(V,10),Me=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,Re=(n?n.dayNames:null)||this._defaults.dayNames,je=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,ze=(n?n.monthNames:null)||this._defaults.monthNames,Ne=-1,Oe=-1,tt=-1,it=-1,xt=!1,Ot,Wt=function(rt){var It=r+1<e.length&&e.charAt(r+1)===rt;return It&&r++,It},zt=function(rt){var It=Wt(rt),Pt=rt==="@"?14:rt==="!"?20:rt==="y"&&It?4:rt==="o"?3:2,Gt=rt==="y"?Pt:1,Yt=new RegExp("^\\d{"+Gt+","+Pt+"}"),ei=i.substring(B).match(Yt);if(!ei)throw"Missing number at position "+B;return B+=ei[0].length,parseInt(ei[0],10)},qt=function(rt,It,Pt){var Gt=-1,Yt=t.map(Wt(rt)?Pt:It,function(ei,Xt){return[[Xt,ei]]}).sort(function(ei,Xt){return-(ei[1].length-Xt[1].length)});if(t.each(Yt,function(ei,Xt){var ni=Xt[1];if(i.substr(B,ni.length).toLowerCase()===ni.toLowerCase())return Gt=Xt[0],B+=ni.length,!1}),Gt!==-1)return Gt+1;throw"Unknown name at position "+B},Bt=function(){if(i.charAt(B)!==e.charAt(r))throw"Unexpected literal at position "+B;B++};for(r=0;r<e.length;r++)if(xt)e.charAt(r)==="'"&&!Wt("'")?xt=!1:Bt();else switch(e.charAt(r)){case"d":tt=zt("d");break;case"D":qt("D",Me,Re);break;case"o":it=zt("o");break;case"m":Oe=zt("m");break;case"M":Oe=qt("M",je,ze);break;case"y":Ne=zt("y");break;case"@":Ot=new Date(zt("@")),Ne=Ot.getFullYear(),Oe=Ot.getMonth()+1,tt=Ot.getDate();break;case"!":Ot=new Date((zt("!")-this._ticksTo1970)/1e4),Ne=Ot.getFullYear(),Oe=Ot.getMonth()+1,tt=Ot.getDate();break;case"'":Wt("'")?Bt():xt=!0;break;default:Bt()}if(B<i.length&&(w=i.substr(B),!/^\s+/.test(w)))throw"Extra/unparsed characters found in date: "+w;if(Ne===-1?Ne=new Date().getFullYear():Ne<100&&(Ne+=new Date().getFullYear()-new Date().getFullYear()%100+(Ne<=oe?0:-100)),it>-1){Oe=1,tt=it;do{if(h=this._getDaysInMonth(Ne,Oe-1),tt<=h)break;Oe++,tt-=h}while(!0)}if(Ot=this._daylightSavingAdjust(new Date(Ne,Oe-1,tt)),Ot.getFullYear()!==Ne||Ot.getMonth()+1!==Oe||Ot.getDate()!==tt)throw"Invalid date";return Ot},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*1e7,formatDate:function(e,i,n){if(!i)return"";var r,h=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,w=(n?n.dayNames:null)||this._defaults.dayNames,B=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,V=(n?n.monthNames:null)||this._defaults.monthNames,oe=function(Ne){var Oe=r+1<e.length&&e.charAt(r+1)===Ne;return Oe&&r++,Oe},Me=function(Ne,Oe,tt){var it=""+Oe;if(oe(Ne))for(;it.length<tt;)it="0"+it;return it},Re=function(Ne,Oe,tt,it){return oe(Ne)?it[Oe]:tt[Oe]},je="",ze=!1;if(i)for(r=0;r<e.length;r++)if(ze)e.charAt(r)==="'"&&!oe("'")?ze=!1:je+=e.charAt(r);else switch(e.charAt(r)){case"d":je+=Me("d",i.getDate(),2);break;case"D":je+=Re("D",i.getDay(),h,w);break;case"o":je+=Me("o",Math.round((new Date(i.getFullYear(),i.getMonth(),i.getDate()).getTime()-new Date(i.getFullYear(),0,0).getTime())/864e5),3);break;case"m":je+=Me("m",i.getMonth()+1,2);break;case"M":je+=Re("M",i.getMonth(),B,V);break;case"y":je+=oe("y")?i.getFullYear():(i.getFullYear()%100<10?"0":"")+i.getFullYear()%100;break;case"@":je+=i.getTime();break;case"!":je+=i.getTime()*1e4+this._ticksTo1970;break;case"'":oe("'")?je+="'":ze=!0;break;default:je+=e.charAt(r)}return je},_possibleChars:function(e){var i,n="",r=!1,h=function(w){var B=i+1<e.length&&e.charAt(i+1)===w;return B&&i++,B};for(i=0;i<e.length;i++)if(r)e.charAt(i)==="'"&&!h("'")?r=!1:n+=e.charAt(i);else switch(e.charAt(i)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":h("'")?n+="'":r=!0;break;default:n+=e.charAt(i)}return n},_get:function(e,i){return e.settings[i]!==void 0?e.settings[i]:this._defaults[i]},_setDateFromField:function(e,i){if(e.input.val()!==e.lastVal){var n=this._get(e,"dateFormat"),r=e.lastVal=e.input?e.input.val():null,h=this._getDefaultDate(e),w=h,B=this._getFormatConfig(e);try{w=this.parseDate(n,r,B)||h}catch{r=i?"":r}e.selectedDay=w.getDate(),e.drawMonth=e.selectedMonth=w.getMonth(),e.drawYear=e.selectedYear=w.getFullYear(),e.currentDay=r?w.getDate():0,e.currentMonth=r?w.getMonth():0,e.currentYear=r?w.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(e,i,n){var r=function(B){var V=new Date;return V.setDate(V.getDate()+B),V},h=function(B){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),B,t.datepicker._getFormatConfig(e))}catch{}for(var V=(B.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,oe=V.getFullYear(),Me=V.getMonth(),Re=V.getDate(),je=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,ze=je.exec(B);ze;){switch(ze[2]||"d"){case"d":case"D":Re+=parseInt(ze[1],10);break;case"w":case"W":Re+=parseInt(ze[1],10)*7;break;case"m":case"M":Me+=parseInt(ze[1],10),Re=Math.min(Re,t.datepicker._getDaysInMonth(oe,Me));break;case"y":case"Y":oe+=parseInt(ze[1],10),Re=Math.min(Re,t.datepicker._getDaysInMonth(oe,Me));break}ze=je.exec(B)}return new Date(oe,Me,Re)},w=i==null||i===""?n:typeof i=="string"?h(i):typeof i=="number"?isNaN(i)?n:r(i):new Date(i.getTime());return w=w&&w.toString()==="Invalid Date"?n:w,w&&(w.setHours(0),w.setMinutes(0),w.setSeconds(0),w.setMilliseconds(0)),this._daylightSavingAdjust(w)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,i,n){var r=!i,h=e.selectedMonth,w=e.selectedYear,B=this._restrictMinMax(e,this._determineDate(e,i,new Date));e.selectedDay=e.currentDay=B.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=B.getMonth(),e.drawYear=e.selectedYear=e.currentYear=B.getFullYear(),(h!==e.selectedMonth||w!==e.selectedYear)&&!n&&this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(r?"":this._formatDate(e))},_getDate:function(e){var i=!e.currentYear||e.input&&e.input.val()===""?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return i},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var r={prev:function(){t.datepicker._adjustDate(n,-i,"M")},next:function(){t.datepicker._adjustDate(n,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(n)},selectDay:function(){return t.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(n,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),r[this.getAttribute("data-handler")])})},_generateHTML:function(e){var i,n,r,h,w,B,V,oe,Me,Re,je,ze,Ne,Oe,tt,it,xt,Ot,Wt,zt,qt,Bt,rt,It,Pt,Gt,Yt,ei,Xt,ni,li,ai,di,Ze,Dt,ue,Ue,ot,mt,yt=new Date,Ft=this._daylightSavingAdjust(new Date(yt.getFullYear(),yt.getMonth(),yt.getDate())),Vt=this._get(e,"isRTL"),ii=this._get(e,"showButtonPanel"),Ti=this._get(e,"hideIfNoPrevNext"),pi=this._get(e,"navigationAsDateFormat"),ci=this._getNumberOfMonths(e),fn=this._get(e,"showCurrentAtPos"),ki=this._get(e,"stepMonths"),sn=ci[0]!==1||ci[1]!==1,Hi=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),Ji=this._getMinMaxDate(e,"min"),ji=this._getMinMaxDate(e,"max"),Et=e.drawMonth-fn,Qt=e.drawYear;if(Et<0&&(Et+=12,Qt--),ji)for(i=this._daylightSavingAdjust(new Date(ji.getFullYear(),ji.getMonth()-ci[0]*ci[1]+1,ji.getDate())),i=Ji&&i<Ji?Ji:i;this._daylightSavingAdjust(new Date(Qt,Et,1))>i;)Et--,Et<0&&(Et=11,Qt--);for(e.drawMonth=Et,e.drawYear=Qt,n=this._get(e,"prevText"),n=pi?this.formatDate(n,this._daylightSavingAdjust(new Date(Qt,Et-ki,1)),this._getFormatConfig(e)):n,this._canAdjustMonth(e,-1,Qt,Et)?r=t("<a>").attr({class:"ui-datepicker-prev ui-corner-all","data-handler":"prev","data-event":"click",title:n}).append(t("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(Vt?"e":"w")).text(n))[0].outerHTML:Ti?r="":r=t("<a>").attr({class:"ui-datepicker-prev ui-corner-all ui-state-disabled",title:n}).append(t("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(Vt?"e":"w")).text(n))[0].outerHTML,h=this._get(e,"nextText"),h=pi?this.formatDate(h,this._daylightSavingAdjust(new Date(Qt,Et+ki,1)),this._getFormatConfig(e)):h,this._canAdjustMonth(e,1,Qt,Et)?w=t("<a>").attr({class:"ui-datepicker-next ui-corner-all","data-handler":"next","data-event":"click",title:h}).append(t("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(Vt?"w":"e")).text(h))[0].outerHTML:Ti?w="":w=t("<a>").attr({class:"ui-datepicker-next ui-corner-all ui-state-disabled",title:h}).append(t("<span>").attr("class","ui-icon ui-icon-circle-triangle-"+(Vt?"w":"e")).text(h))[0].outerHTML,B=this._get(e,"currentText"),V=this._get(e,"gotoCurrent")&&e.currentDay?Hi:Ft,B=pi?this.formatDate(B,V,this._getFormatConfig(e)):B,oe="",e.inline||(oe=t("<button>").attr({type:"button",class:"ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all","data-handler":"hide","data-event":"click"}).text(this._get(e,"closeText"))[0].outerHTML),Me="",ii&&(Me=t("<div class='ui-datepicker-buttonpane ui-widget-content'>").append(Vt?oe:"").append(this._isInRange(e,V)?t("<button>").attr({type:"button",class:"ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all","data-handler":"today","data-event":"click"}).text(B):"").append(Vt?"":oe)[0].outerHTML),Re=parseInt(this._get(e,"firstDay"),10),Re=isNaN(Re)?0:Re,je=this._get(e,"showWeek"),ze=this._get(e,"dayNames"),Ne=this._get(e,"dayNamesMin"),Oe=this._get(e,"monthNames"),tt=this._get(e,"monthNamesShort"),it=this._get(e,"beforeShowDay"),xt=this._get(e,"showOtherMonths"),Ot=this._get(e,"selectOtherMonths"),Wt=this._getDefaultDate(e),zt="",Bt=0;Bt<ci[0];Bt++){for(rt="",this.maxRows=4,It=0;It<ci[1];It++){if(Pt=this._daylightSavingAdjust(new Date(Qt,Et,e.selectedDay)),Gt=" ui-corner-all",Yt="",sn){if(Yt+="<div class='ui-datepicker-group",ci[1]>1)switch(It){case 0:Yt+=" ui-datepicker-group-first",Gt=" ui-corner-"+(Vt?"right":"left");break;case ci[1]-1:Yt+=" ui-datepicker-group-last",Gt=" ui-corner-"+(Vt?"left":"right");break;default:Yt+=" ui-datepicker-group-middle",Gt="";break}Yt+="'>"}for(Yt+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+Gt+"'>"+(/all|left/.test(Gt)&&Bt===0?Vt?w:r:"")+(/all|right/.test(Gt)&&Bt===0?Vt?r:w:"")+this._generateMonthYearHeader(e,Et,Qt,Ji,ji,Bt>0||It>0,Oe,tt)+"</div><table class='ui-datepicker-calendar'><thead><tr>",ei=je?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",qt=0;qt<7;qt++)Xt=(qt+Re)%7,ei+="<th scope='col'"+((qt+Re+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+ze[Xt]+"'>"+Ne[Xt]+"</span></th>";for(Yt+=ei+"</tr></thead><tbody>",ni=this._getDaysInMonth(Qt,Et),Qt===e.selectedYear&&Et===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,ni)),li=(this._getFirstDayOfMonth(Qt,Et)-Re+7)%7,ai=Math.ceil((li+ni)/7),di=sn&&this.maxRows>ai?this.maxRows:ai,this.maxRows=di,Ze=this._daylightSavingAdjust(new Date(Qt,Et,1-li)),Dt=0;Dt<di;Dt++){for(Yt+="<tr>",ue=je?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(Ze)+"</td>":"",qt=0;qt<7;qt++)Ue=it?it.apply(e.input?e.input[0]:null,[Ze]):[!0,""],ot=Ze.getMonth()!==Et,mt=ot&&!Ot||!Ue[0]||Ji&&Ze<Ji||ji&&Ze>ji,ue+="<td class='"+((qt+Re+6)%7>=5?" ui-datepicker-week-end":"")+(ot?" ui-datepicker-other-month":"")+(Ze.getTime()===Pt.getTime()&&Et===e.selectedMonth&&e._keyEvent||Wt.getTime()===Ze.getTime()&&Wt.getTime()===Pt.getTime()?" "+this._dayOverClass:"")+(mt?" "+this._unselectableClass+" ui-state-disabled":"")+(ot&&!xt?"":" "+Ue[1]+(Ze.getTime()===Hi.getTime()?" "+this._currentClass:"")+(Ze.getTime()===Ft.getTime()?" ui-datepicker-today":""))+"'"+((!ot||xt)&&Ue[2]?" title='"+Ue[2].replace(/'/g,"&#39;")+"'":"")+(mt?"":" data-handler='selectDay' data-event='click' data-month='"+Ze.getMonth()+"' data-year='"+Ze.getFullYear()+"'")+">"+(ot&&!xt?"&#xa0;":mt?"<span class='ui-state-default'>"+Ze.getDate()+"</span>":"<a class='ui-state-default"+(Ze.getTime()===Ft.getTime()?" ui-state-highlight":"")+(Ze.getTime()===Hi.getTime()?" ui-state-active":"")+(ot?" ui-priority-secondary":"")+"' href='#' aria-current='"+(Ze.getTime()===Hi.getTime()?"true":"false")+"' data-date='"+Ze.getDate()+"'>"+Ze.getDate()+"</a>")+"</td>",Ze.setDate(Ze.getDate()+1),Ze=this._daylightSavingAdjust(Ze);Yt+=ue+"</tr>"}Et++,Et>11&&(Et=0,Qt++),Yt+="</tbody></table>"+(sn?"</div>"+(ci[0]>0&&It===ci[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),rt+=Yt}zt+=rt}return zt+=Me,e._keyEvent=!1,zt},_generateMonthYearHeader:function(e,i,n,r,h,w,B,V){var oe,Me,Re,je,ze,Ne,Oe,tt,it=this._get(e,"changeMonth"),xt=this._get(e,"changeYear"),Ot=this._get(e,"showMonthAfterYear"),Wt=this._get(e,"selectMonthLabel"),zt=this._get(e,"selectYearLabel"),qt="<div class='ui-datepicker-title'>",Bt="";if(w||!it)Bt+="<span class='ui-datepicker-month'>"+B[i]+"</span>";else{for(oe=r&&r.getFullYear()===n,Me=h&&h.getFullYear()===n,Bt+="<select class='ui-datepicker-month' aria-label='"+Wt+"' data-handler='selectMonth' data-event='change'>",Re=0;Re<12;Re++)(!oe||Re>=r.getMonth())&&(!Me||Re<=h.getMonth())&&(Bt+="<option value='"+Re+"'"+(Re===i?" selected='selected'":"")+">"+V[Re]+"</option>");Bt+="</select>"}if(Ot||(qt+=Bt+(w||!(it&&xt)?"&#xa0;":"")),!e.yearshtml)if(e.yearshtml="",w||!xt)qt+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(je=this._get(e,"yearRange").split(":"),ze=new Date().getFullYear(),Ne=function(rt){var It=rt.match(/c[+\-].*/)?n+parseInt(rt.substring(1),10):rt.match(/[+\-].*/)?ze+parseInt(rt,10):parseInt(rt,10);return isNaN(It)?ze:It},Oe=Ne(je[0]),tt=Math.max(Oe,Ne(je[1]||"")),Oe=r?Math.max(Oe,r.getFullYear()):Oe,tt=h?Math.min(tt,h.getFullYear()):tt,e.yearshtml+="<select class='ui-datepicker-year' aria-label='"+zt+"' data-handler='selectYear' data-event='change'>";Oe<=tt;Oe++)e.yearshtml+="<option value='"+Oe+"'"+(Oe===n?" selected='selected'":"")+">"+Oe+"</option>";e.yearshtml+="</select>",qt+=e.yearshtml,e.yearshtml=null}return qt+=this._get(e,"yearSuffix"),Ot&&(qt+=(w||!(it&&xt)?"&#xa0;":"")+Bt),qt+="</div>",qt},_adjustInstDate:function(e,i,n){var r=e.selectedYear+(n==="Y"?i:0),h=e.selectedMonth+(n==="M"?i:0),w=Math.min(e.selectedDay,this._getDaysInMonth(r,h))+(n==="D"?i:0),B=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(r,h,w)));e.selectedDay=B.getDate(),e.drawMonth=e.selectedMonth=B.getMonth(),e.drawYear=e.selectedYear=B.getFullYear(),(n==="M"||n==="Y")&&this._notifyChange(e)},_restrictMinMax:function(e,i){var n=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),h=n&&i<n?n:i;return r&&h>r?r:h},_notifyChange:function(e){var i=this._get(e,"onChangeMonthYear");i&&i.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var i=this._get(e,"numberOfMonths");return i==null?[1,1]:typeof i=="number"?[1,i]:i},_getMinMaxDate:function(e,i){return this._determineDate(e,this._get(e,i+"Date"),null)},_getDaysInMonth:function(e,i){return 32-this._daylightSavingAdjust(new Date(e,i,32)).getDate()},_getFirstDayOfMonth:function(e,i){return new Date(e,i,1).getDay()},_canAdjustMonth:function(e,i,n,r){var h=this._getNumberOfMonths(e),w=this._daylightSavingAdjust(new Date(n,r+(i<0?i:h[0]*h[1]),1));return i<0&&w.setDate(this._getDaysInMonth(w.getFullYear(),w.getMonth())),this._isInRange(e,w)},_isInRange:function(e,i){var n,r,h=this._getMinMaxDate(e,"min"),w=this._getMinMaxDate(e,"max"),B=null,V=null,oe=this._get(e,"yearRange");return oe&&(n=oe.split(":"),r=new Date().getFullYear(),B=parseInt(n[0],10),V=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(B+=r),n[1].match(/[+\-].*/)&&(V+=r)),(!h||i.getTime()>=h.getTime())&&(!w||i.getTime()<=w.getTime())&&(!B||i.getFullYear()>=B)&&(!V||i.getFullYear()<=V)},_getFormatConfig:function(e){var i=this._get(e,"shortYearCutoff");return i=typeof i!="string"?i:new Date().getFullYear()%100+parseInt(i,10),{shortYearCutoff:i,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,i,n,r){i||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var h=i?typeof i=="object"?i:this._daylightSavingAdjust(new Date(r,n,i)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),h,this._getFormatConfig(e))}});function ht(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",i,function(){t(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&t(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&t(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",i,Ct)}function Ct(){t.datepicker._isDisabledDatepicker(We.inline?We.dpDiv.parent()[0]:We.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&t(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&t(this).addClass("ui-datepicker-next-hover"))}function Ke(e,i){t.extend(e,i);for(var n in i)i[n]==null&&(e[n]=i[n]);return e}t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),t("#"+t.datepicker._mainDivId).length===0&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return typeof e=="string"&&(e==="isDisabled"||e==="getDate"||e==="widget")?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):e==="option"&&arguments.length===2&&typeof arguments[1]=="string"?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){typeof e=="string"?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)})},t.datepicker=new Xe,t.datepicker.initialized=!1,t.datepicker.uuid=new Date().getTime(),t.datepicker.version="1.13.1";var pt=t.datepicker,dt=t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var nt=!1;t(document).on("mouseup",function(){nt=!1});var Lt=t.widget("ui.mouse",{version:"1.13.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(i){return e._mouseDown(i)}).on("click."+this.widgetName,function(i){if(t.data(i.target,e.widgetName+".preventClickEvent")===!0)return t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!nt){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,n=e.which===1,r=typeof this.options.cancel=="string"&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return!n||r||!this._mouseCapture(e)?!0:(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(t.data(e.target,this.widgetName+".preventClickEvent")===!0&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(h){return i._mouseMove(h)},this._mouseUpDelegate=function(h){return i._mouseUp(h)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),nt=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which){if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,nt=!1,e.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),Ut=t.ui.plugin={add:function(e,i,n){var r,h=t.ui[e].prototype;for(r in n)h.plugins[r]=h.plugins[r]||[],h.plugins[r].push([i,n[r]])},call:function(e,i,n,r){var h,w=e.plugins[i];if(!!w&&!(!r&&(!e.element[0].parentNode||e.element[0].parentNode.nodeType===11)))for(h=0;h<w.length;h++)e.options[w[h][0]]&&w[h][1].apply(e.element,n)}},gt=t.ui.safeBlur=function(e){e&&e.nodeName.toLowerCase()!=="body"&&t(e).trigger("blur")};t.widget("ui.draggable",t.ui.mouse,{version:"1.13.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){this.options.helper==="original"&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,i){this._super(e,i),e==="handle"&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){if((this.helper||this.element).is(".ui-draggable-dragging")){this.destroyOnClear=!0;return}this._removeHandleClassName(),this._mouseDestroy()},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0||(this.handle=this._getHandle(e),!this.handle)?!1:(this._blurActiveElement(e),this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0)},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var i=t(this);return t("<div>").css("position","absolute").appendTo(i.parent()).outerWidth(i.outerWidth()).outerHeight(i.outerHeight()).offset(i.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=t.ui.safeActiveElement(this.document[0]),n=t(e.target);n.closest(i).length||t.ui.safeBlur(i)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return t(this).css("position")==="fixed"}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",e,n)===!1)return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,n=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(n=t.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),this.options.revert==="invalid"&&!n||this.options.revert==="valid"&&n||this.options.revert===!0||typeof this.options.revert=="function"&&this.options.revert.call(this.element,n)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var i=this.options,n=typeof i.helper=="function",r=n?t(i.helper.apply(this.element[0],[e])):i.helper==="clone"?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo(i.appendTo==="parent"?this.element[0].parentNode:i.appendTo),n&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]!==this.element[0]&&!/(fixed|absolute)/.test(r.css("position"))&&r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){typeof e=="string"&&(e=e.split(" ")),Array.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return this.cssPosition==="absolute"&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition!=="relative")return{top:0,left:0};var e=this.element.position(),i=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(i?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(i?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,r=this.options,h=this.document[0];if(this.relativeContainer=null,!r.containment){this.containment=null;return}if(r.containment==="window"){this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||h.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(r.containment==="document"){this.containment=[0,0,t(h).width()-this.helperProportions.width-this.margins.left,(t(h).height()||h.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(r.containment.constructor===Array){this.containment=r.containment;return}r.containment==="parent"&&(r.containment=this.helper[0].parentNode),i=t(r.containment),n=i[0],!!n&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i)},_convertPositionTo:function(e,i){i||(i=this.position);var n=e==="absolute"?1:-1,r=this._isRootNode(this.scrollParent[0]);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-(this.cssPosition==="fixed"?-this.offset.scroll.top:r?0:this.offset.scroll.top)*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-(this.cssPosition==="fixed"?-this.offset.scroll.left:r?0:this.offset.scroll.left)*n}},_generatePosition:function(e,i){var n,r,h,w,B=this.options,V=this._isRootNode(this.scrollParent[0]),oe=e.pageX,Me=e.pageY;return(!V||!this.offset.scroll)&&(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),i&&(this.containment&&(this.relativeContainer?(r=this.relativeContainer.offset(),n=[this.containment[0]+r.left,this.containment[1]+r.top,this.containment[2]+r.left,this.containment[3]+r.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(oe=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(Me=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(oe=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(Me=n[3]+this.offset.click.top)),B.grid&&(h=B.grid[1]?this.originalPageY+Math.round((Me-this.originalPageY)/B.grid[1])*B.grid[1]:this.originalPageY,Me=n?h-this.offset.click.top>=n[1]||h-this.offset.click.top>n[3]?h:h-this.offset.click.top>=n[1]?h-B.grid[1]:h+B.grid[1]:h,w=B.grid[0]?this.originalPageX+Math.round((oe-this.originalPageX)/B.grid[0])*B.grid[0]:this.originalPageX,oe=n?w-this.offset.click.left>=n[0]||w-this.offset.click.left>n[2]?w:w-this.offset.click.left>=n[0]?w-B.grid[0]:w+B.grid[0]:w),B.axis==="y"&&(oe=this.originalPageX),B.axis==="x"&&(Me=this.originalPageY)),{top:Me-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.offset.scroll.top:V?0:this.offset.scroll.top),left:oe-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.offset.scroll.left:V?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,i,n){return n=n||this._uiHash(),t.ui.plugin.call(this,e,[i,n,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,n){var r=t.extend({},i,{item:n.element});n.sortables=[],t(n.options.connectToSortable).each(function(){var h=t(this).sortable("instance");h&&!h.options.disabled&&(n.sortables.push(h),h.refreshPositions(),h._trigger("activate",e,r))})},stop:function(e,i,n){var r=t.extend({},i,{item:n.element});n.cancelHelperRemoval=!1,t.each(n.sortables,function(){var h=this;h.isOver?(h.isOver=0,n.cancelHelperRemoval=!0,h.cancelHelperRemoval=!1,h._storedCSS={position:h.placeholder.css("position"),top:h.placeholder.css("top"),left:h.placeholder.css("left")},h._mouseStop(e),h.options.helper=h.options._helper):(h.cancelHelperRemoval=!0,h._trigger("deactivate",e,r))})},drag:function(e,i,n){t.each(n.sortables,function(){var r=!1,h=this;h.positionAbs=n.positionAbs,h.helperProportions=n.helperProportions,h.offset.click=n.offset.click,h._intersectsWith(h.containerCache)&&(r=!0,t.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==h&&this._intersectsWith(this.containerCache)&&t.contains(h.element[0],this.element[0])&&(r=!1),r})),r?(h.isOver||(h.isOver=1,n._parent=i.helper.parent(),h.currentItem=i.helper.appendTo(h.element).data("ui-sortable-item",!0),h.options._helper=h.options.helper,h.options.helper=function(){return i.helper[0]},e.target=h.currentItem[0],h._mouseCapture(e,!0),h._mouseStart(e,!0,!0),h.offset.click.top=n.offset.click.top,h.offset.click.left=n.offset.click.left,h.offset.parent.left-=n.offset.parent.left-h.offset.parent.left,h.offset.parent.top-=n.offset.parent.top-h.offset.parent.top,n._trigger("toSortable",e),n.dropped=h.element,t.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,h.fromOutside=n),h.currentItem&&(h._mouseDrag(e),i.position=h.position)):h.isOver&&(h.isOver=0,h.cancelHelperRemoval=!0,h.options._revert=h.options.revert,h.options.revert=!1,h._trigger("out",e,h._uiHash(h)),h._mouseStop(e,!0),h.options.revert=h.options._revert,h.options.helper=h.options._helper,h.placeholder&&h.placeholder.remove(),i.helper.appendTo(n._parent),n._refreshOffsets(e),i.position=n._generatePosition(e,!0),n._trigger("fromSortable",e),n.dropped=!1,t.each(n.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,n){var r=t("body"),h=n.options;r.css("cursor")&&(h._cursor=r.css("cursor")),r.css("cursor",h.cursor)},stop:function(e,i,n){var r=n.options;r._cursor&&t("body").css("cursor",r._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,n){var r=t(i.helper),h=n.options;r.css("opacity")&&(h._opacity=r.css("opacity")),r.css("opacity",h.opacity)},stop:function(e,i,n){var r=n.options;r._opacity&&t(i.helper).css("opacity",r._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(e,i,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&n.scrollParentNotHidden[0].tagName!=="HTML"&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,i,n){var r=n.options,h=!1,w=n.scrollParentNotHidden[0],B=n.document[0];w!==B&&w.tagName!=="HTML"?((!r.axis||r.axis!=="x")&&(n.overflowOffset.top+w.offsetHeight-e.pageY<r.scrollSensitivity?w.scrollTop=h=w.scrollTop+r.scrollSpeed:e.pageY-n.overflowOffset.top<r.scrollSensitivity&&(w.scrollTop=h=w.scrollTop-r.scrollSpeed)),(!r.axis||r.axis!=="y")&&(n.overflowOffset.left+w.offsetWidth-e.pageX<r.scrollSensitivity?w.scrollLeft=h=w.scrollLeft+r.scrollSpeed:e.pageX-n.overflowOffset.left<r.scrollSensitivity&&(w.scrollLeft=h=w.scrollLeft-r.scrollSpeed))):((!r.axis||r.axis!=="x")&&(e.pageY-t(B).scrollTop()<r.scrollSensitivity?h=t(B).scrollTop(t(B).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(B).scrollTop())<r.scrollSensitivity&&(h=t(B).scrollTop(t(B).scrollTop()+r.scrollSpeed))),(!r.axis||r.axis!=="y")&&(e.pageX-t(B).scrollLeft()<r.scrollSensitivity?h=t(B).scrollLeft(t(B).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(B).scrollLeft())<r.scrollSensitivity&&(h=t(B).scrollLeft(t(B).scrollLeft()+r.scrollSpeed)))),h!==!1&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(n,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,n){var r=n.options;n.snapElements=[],t(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var h=t(this),w=h.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:h.outerWidth(),height:h.outerHeight(),top:w.top,left:w.left})})},drag:function(e,i,n){var r,h,w,B,V,oe,Me,Re,je,ze,Ne=n.options,Oe=Ne.snapTolerance,tt=i.offset.left,it=tt+n.helperProportions.width,xt=i.offset.top,Ot=xt+n.helperProportions.height;for(je=n.snapElements.length-1;je>=0;je--){if(V=n.snapElements[je].left-n.margins.left,oe=V+n.snapElements[je].width,Me=n.snapElements[je].top-n.margins.top,Re=Me+n.snapElements[je].height,it<V-Oe||tt>oe+Oe||Ot<Me-Oe||xt>Re+Oe||!t.contains(n.snapElements[je].item.ownerDocument,n.snapElements[je].item)){n.snapElements[je].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[je].item})),n.snapElements[je].snapping=!1;continue}Ne.snapMode!=="inner"&&(r=Math.abs(Me-Ot)<=Oe,h=Math.abs(Re-xt)<=Oe,w=Math.abs(V-it)<=Oe,B=Math.abs(oe-tt)<=Oe,r&&(i.position.top=n._convertPositionTo("relative",{top:Me-n.helperProportions.height,left:0}).top),h&&(i.position.top=n._convertPositionTo("relative",{top:Re,left:0}).top),w&&(i.position.left=n._convertPositionTo("relative",{top:0,left:V-n.helperProportions.width}).left),B&&(i.position.left=n._convertPositionTo("relative",{top:0,left:oe}).left)),ze=r||h||w||B,Ne.snapMode!=="outer"&&(r=Math.abs(Me-xt)<=Oe,h=Math.abs(Re-Ot)<=Oe,w=Math.abs(V-tt)<=Oe,B=Math.abs(oe-it)<=Oe,r&&(i.position.top=n._convertPositionTo("relative",{top:Me,left:0}).top),h&&(i.position.top=n._convertPositionTo("relative",{top:Re-n.helperProportions.height,left:0}).top),w&&(i.position.left=n._convertPositionTo("relative",{top:0,left:V}).left),B&&(i.position.left=n._convertPositionTo("relative",{top:0,left:oe-n.helperProportions.width}).left)),!n.snapElements[je].snapping&&(r||h||w||B||ze)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[je].item})),n.snapElements[je].snapping=r||h||w||B||ze}}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,n){var r,h=n.options,w=t.makeArray(t(h.stack)).sort(function(B,V){return(parseInt(t(B).css("zIndex"),10)||0)-(parseInt(t(V).css("zIndex"),10)||0)});!w.length||(r=parseInt(t(w[0]).css("zIndex"),10)||0,t(w).each(function(B){t(this).css("zIndex",r+B)}),this.css("zIndex",r+w.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,n){var r=t(i.helper),h=n.options;r.css("zIndex")&&(h._zIndex=r.css("zIndex")),r.css("zIndex",h.zIndex)},stop:function(e,i,n){var r=n.options;r._zIndex&&t(i.helper).css("zIndex",r._zIndex)}});var Tt=t.ui.draggable;t.widget("ui.resizable",t.ui.mouse,{version:"1.13.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(e,i){if(t(e).css("overflow")==="hidden")return!1;var n=i&&i==="left"?"scrollLeft":"scrollTop",r=!1;if(e[n]>0)return!0;try{e[n]=1,r=e[n]>0,e[n]=0}catch{}return r},_create:function(){var e,i=this.options,n=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper'></div>").css({overflow:"hidden",position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),i.autoHide&&t(this.element).on("mouseenter",function(){i.disabled||(n._removeClass("ui-resizable-autohide"),n._handles.show())}).on("mouseleave",function(){i.disabled||n.resizing||(n._addClass("ui-resizable-autohide"),n._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy(),this._addedHandles.remove();var e,i=function(n){t(n).removeData("resizable").removeData("ui-resizable").off(".resizable")};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(e,i){switch(this._super(e,i),e){case"handles":this._removeHandles(),this._setupHandles();break;case"aspectRatio":this._aspectRatio=!!i;break;default:break}},_setupHandles:function(){var e=this.options,i,n,r,h,w,B=this;if(this.handles=e.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this._addedHandles=t(),this.handles.constructor===String)for(this.handles==="all"&&(this.handles="n,e,s,w,se,sw,ne,nw"),r=this.handles.split(","),this.handles={},n=0;n<r.length;n++)i=String.prototype.trim.call(r[n]),h="ui-resizable-"+i,w=t("<div>"),this._addClass(w,"ui-resizable-handle "+h),w.css({zIndex:e.zIndex}),this.handles[i]=".ui-resizable-"+i,this.element.children(this.handles[i]).length||(this.element.append(w),this._addedHandles=this._addedHandles.add(w));this._renderAxis=function(V){var oe,Me,Re,je;V=V||this.element;for(oe in this.handles)this.handles[oe].constructor===String?this.handles[oe]=this.element.children(this.handles[oe]).first().show():(this.handles[oe].jquery||this.handles[oe].nodeType)&&(this.handles[oe]=t(this.handles[oe]),this._on(this.handles[oe],{mousedown:B._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(Me=t(this.handles[oe],this.element),je=/sw|ne|nw|se|n|s/.test(oe)?Me.outerHeight():Me.outerWidth(),Re=["padding",/ne|nw|n/.test(oe)?"Top":/se|sw|s/.test(oe)?"Bottom":/^e$/.test(oe)?"Right":"Left"].join(""),V.css(Re,je),this._proportionallyResize()),this._handles=this._handles.add(this.handles[oe])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){B.resizing||(this.className&&(w=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),B.axis=w&&w[1]?w[1]:"se")}),e.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._addedHandles.remove()},_mouseCapture:function(e){var i,n,r=!1;for(i in this.handles)n=t(this.handles[i])[0],(n===e.target||t.contains(n,e.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(e){var i,n,r,h=this.options,w=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),h.containment&&(i+=t(h.containment).scrollLeft()||0,n+=t(h.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:w.width(),height:w.height()},this.originalSize=this._helper?{width:w.outerWidth(),height:w.outerHeight()}:{width:w.width(),height:w.height()},this.sizeDiff={width:w.outerWidth()-w.width(),height:w.outerHeight()-w.height()},this.originalPosition={left:i,top:n},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio=typeof h.aspectRatio=="number"?h.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor",r==="auto"?this.axis+"-resize":r),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,n,r=this.originalMousePosition,h=this.axis,w=e.pageX-r.left||0,B=e.pageY-r.top||0,V=this._change[h];return this._updatePrevProperties(),V&&(i=V.apply(this,[e,w,B]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges())),!1},_mouseStop:function(e){this.resizing=!1;var i,n,r,h,w,B,V,oe=this.options,Me=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),r=n&&this._hasScroll(i[0],"left")?0:Me.sizeDiff.height,h=n?0:Me.sizeDiff.width,w={width:Me.helper.width()-h,height:Me.helper.height()-r},B=parseFloat(Me.element.css("left"))+(Me.position.left-Me.originalPosition.left)||null,V=parseFloat(Me.element.css("top"))+(Me.position.top-Me.originalPosition.top)||null,oe.animate||this.element.css(t.extend(w,{top:V,left:B})),Me.helper.height(Me.size.height),Me.helper.width(Me.size.width),this._helper&&!oe.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var i,n,r,h,w,B=this.options;w={minWidth:this._isNumber(B.minWidth)?B.minWidth:0,maxWidth:this._isNumber(B.maxWidth)?B.maxWidth:1/0,minHeight:this._isNumber(B.minHeight)?B.minHeight:0,maxHeight:this._isNumber(B.maxHeight)?B.maxHeight:1/0},(this._aspectRatio||e)&&(i=w.minHeight*this.aspectRatio,r=w.minWidth/this.aspectRatio,n=w.maxHeight*this.aspectRatio,h=w.maxWidth/this.aspectRatio,i>w.minWidth&&(w.minWidth=i),r>w.minHeight&&(w.minHeight=r),n<w.maxWidth&&(w.maxWidth=n),h<w.maxHeight&&(w.maxHeight=h)),this._vBoundaries=w},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var i=this.position,n=this.size,r=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),r==="sw"&&(e.left=i.left+(n.width-e.width),e.top=null),r==="nw"&&(e.top=i.top+(n.height-e.height),e.left=i.left+(n.width-e.width)),e},_respectSize:function(e){var i=this._vBoundaries,n=this.axis,r=this._isNumber(e.width)&&i.maxWidth&&i.maxWidth<e.width,h=this._isNumber(e.height)&&i.maxHeight&&i.maxHeight<e.height,w=this._isNumber(e.width)&&i.minWidth&&i.minWidth>e.width,B=this._isNumber(e.height)&&i.minHeight&&i.minHeight>e.height,V=this.originalPosition.left+this.originalSize.width,oe=this.originalPosition.top+this.originalSize.height,Me=/sw|nw|w/.test(n),Re=/nw|ne|n/.test(n);return w&&(e.width=i.minWidth),B&&(e.height=i.minHeight),r&&(e.width=i.maxWidth),h&&(e.height=i.maxHeight),w&&Me&&(e.left=V-i.minWidth),r&&Me&&(e.left=V-i.maxWidth),B&&Re&&(e.top=oe-i.minHeight),h&&Re&&(e.top=oe-i.maxHeight),!e.width&&!e.height&&!e.left&&e.top?e.top=null:!e.width&&!e.height&&!e.top&&e.left&&(e.left=null),e},_getPaddingPlusBorderDimensions:function(e){for(var i=0,n=[],r=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],h=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];i<4;i++)n[i]=parseFloat(r[i])||0,n[i]+=parseFloat(h[i])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(!!this._proportionallyResizeElements.length)for(var e,i=0,n=this.helper||this.element;i<this._proportionallyResizeElements.length;i++)e=this._proportionallyResizeElements[i],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div></div>").css({overflow:"hidden"}),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,i){return{width:this.originalSize.width+i}},w:function(e,i){var n=this.originalSize,r=this.originalPosition;return{left:r.left+i,width:n.width-i}},n:function(e,i,n){var r=this.originalSize,h=this.originalPosition;return{top:h.top+n,height:r.height-n}},s:function(e,i,n){return{height:this.originalSize.height+n}},se:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},sw:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,n]))},ne:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},nw:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,n]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),e!=="resize"&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),n=i.options,r=i._proportionallyResizeElements,h=r.length&&/textarea/i.test(r[0].nodeName),w=h&&i._hasScroll(r[0],"left")?0:i.sizeDiff.height,B=h?0:i.sizeDiff.width,V={width:i.size.width-B,height:i.size.height-w},oe=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,Me=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(V,Me&&oe?{top:Me,left:oe}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var Re={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};r&&r.length&&t(r[0]).css({width:Re.width,height:Re.height}),i._updateCache(Re),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,n,r,h,w,B,V=t(this).resizable("instance"),oe=V.options,Me=V.element,Re=oe.containment,je=Re instanceof t?Re.get(0):/parent/.test(Re)?Me.parent().get(0):Re;!je||(V.containerElement=t(je),/document/.test(Re)||Re===document?(V.containerOffset={left:0,top:0},V.containerPosition={left:0,top:0},V.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(je),i=[],t(["Top","Right","Left","Bottom"]).each(function(ze,Ne){i[ze]=V._num(e.css("padding"+Ne))}),V.containerOffset=e.offset(),V.containerPosition=e.position(),V.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},n=V.containerOffset,r=V.containerSize.height,h=V.containerSize.width,w=V._hasScroll(je,"left")?je.scrollWidth:h,B=V._hasScroll(je)?je.scrollHeight:r,V.parentData={element:je,left:n.left,top:n.top,width:w,height:B}))},resize:function(e){var i,n,r,h,w=t(this).resizable("instance"),B=w.options,V=w.containerOffset,oe=w.position,Me=w._aspectRatio||e.shiftKey,Re={top:0,left:0},je=w.containerElement,ze=!0;je[0]!==document&&/static/.test(je.css("position"))&&(Re=V),oe.left<(w._helper?V.left:0)&&(w.size.width=w.size.width+(w._helper?w.position.left-V.left:w.position.left-Re.left),Me&&(w.size.height=w.size.width/w.aspectRatio,ze=!1),w.position.left=B.helper?V.left:0),oe.top<(w._helper?V.top:0)&&(w.size.height=w.size.height+(w._helper?w.position.top-V.top:w.position.top),Me&&(w.size.width=w.size.height*w.aspectRatio,ze=!1),w.position.top=w._helper?V.top:0),r=w.containerElement.get(0)===w.element.parent().get(0),h=/relative|absolute/.test(w.containerElement.css("position")),r&&h?(w.offset.left=w.parentData.left+w.position.left,w.offset.top=w.parentData.top+w.position.top):(w.offset.left=w.element.offset().left,w.offset.top=w.element.offset().top),i=Math.abs(w.sizeDiff.width+(w._helper?w.offset.left-Re.left:w.offset.left-V.left)),n=Math.abs(w.sizeDiff.height+(w._helper?w.offset.top-Re.top:w.offset.top-V.top)),i+w.size.width>=w.parentData.width&&(w.size.width=w.parentData.width-i,Me&&(w.size.height=w.size.width/w.aspectRatio,ze=!1)),n+w.size.height>=w.parentData.height&&(w.size.height=w.parentData.height-n,Me&&(w.size.width=w.size.height*w.aspectRatio,ze=!1)),ze||(w.position.left=w.prevPosition.left,w.position.top=w.prevPosition.top,w.size.width=w.prevSize.width,w.size.height=w.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,n=e.containerOffset,r=e.containerPosition,h=e.containerElement,w=t(e.helper),B=w.offset(),V=w.outerWidth()-e.sizeDiff.width,oe=w.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(h.css("position"))&&t(this).css({left:B.left-r.left-n.left,width:V,height:oe}),e._helper&&!i.animate&&/static/.test(h.css("position"))&&t(this).css({left:B.left-r.left-n.left,width:V,height:oe})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),i=e.options;t(i.alsoResize).each(function(){var n=t(this);n.data("ui-resizable-alsoresize",{width:parseFloat(n.width()),height:parseFloat(n.height()),left:parseFloat(n.css("left")),top:parseFloat(n.css("top"))})})},resize:function(e,i){var n=t(this).resizable("instance"),r=n.options,h=n.originalSize,w=n.originalPosition,B={height:n.size.height-h.height||0,width:n.size.width-h.width||0,top:n.position.top-w.top||0,left:n.position.left-w.left||0};t(r.alsoResize).each(function(){var V=t(this),oe=t(this).data("ui-resizable-alsoresize"),Me={},Re=V.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(Re,function(je,ze){var Ne=(oe[ze]||0)+(B[ze]||0);Ne&&Ne>=0&&(Me[ze]=Ne||null)}),V.css(Me)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),t.uiBackCompat!==!1&&typeof e.options.ghost=="string"&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),n=i.options,r=i.size,h=i.originalSize,w=i.originalPosition,B=i.axis,V=typeof n.grid=="number"?[n.grid,n.grid]:n.grid,oe=V[0]||1,Me=V[1]||1,Re=Math.round((r.width-h.width)/oe)*oe,je=Math.round((r.height-h.height)/Me)*Me,ze=h.width+Re,Ne=h.height+je,Oe=n.maxWidth&&n.maxWidth<ze,tt=n.maxHeight&&n.maxHeight<Ne,it=n.minWidth&&n.minWidth>ze,xt=n.minHeight&&n.minHeight>Ne;n.grid=V,it&&(ze+=oe),xt&&(Ne+=Me),Oe&&(ze-=oe),tt&&(Ne-=Me),/^(se|s|e)$/.test(B)?(i.size.width=ze,i.size.height=Ne):/^(ne)$/.test(B)?(i.size.width=ze,i.size.height=Ne,i.position.top=w.top-je):/^(sw)$/.test(B)?(i.size.width=ze,i.size.height=Ne,i.position.left=w.left-Re):((Ne-Me<=0||ze-oe<=0)&&(e=i._getPaddingPlusBorderDimensions(this)),Ne-Me>0?(i.size.height=Ne,i.position.top=w.top-je):(Ne=Me-e.height,i.size.height=Ne,i.position.top=w.top+h.height-Ne),ze-oe>0?(i.size.width=ze,i.position.left=w.left-Re):(ze=oe-e.width,i.size.width=ze,i.position.left=w.left+h.width-ze))}});var st=t.ui.resizable;t.widget("ui.dialog",{version:"1.13.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;i<0&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title==null&&this.originalTitle!=null&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var e,i=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=i.parent.children().eq(i.index),e.length&&e[0]!==this.element[0]?e.before(this.element):i.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i=this;!this._isOpen||this._trigger("beforeClose",e)===!1||(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,i){var n=!1,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),h=Math.max.apply(null,r);return h>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",h+1),n=!0),n&&!i&&this._trigger("focus",e),n},open:function(){var e=this;if(this._isOpen){this._moveToTop()&&this._focusTabbable();return}this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open")},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).trigger("focus")},_restoreTabbableFocus:function(){var e=t.ui.safeActiveElement(this.document[0]),i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);i||this._focusTabbable()},_keepFocus:function(e){e.preventDefault(),this._restoreTabbableFocus(),this._delay(this._restoreTabbableFocus)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE){e.preventDefault(),this.close(e);return}if(!(e.keyCode!==t.ui.keyCode.TAB||e.isDefaultPrevented())){var i=this.uiDialog.find(":tabbable"),n=i.first(),r=i.last();(e.target===r[0]||e.target===this.uiDialog[0])&&!e.shiftKey?(this._delay(function(){n.trigger("focus")}),e.preventDefault()):(e.target===n[0]||e.target===this.uiDialog[0])&&e.shiftKey&&(this._delay(function(){r.trigger("focus")}),e.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(i){t(i.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(i){i.preventDefault(),this.close(i)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(e){this.options.title?e.text(this.options.title):e.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;if(this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||Array.isArray(i)&&!i.length){this._removeClass(this.uiDialog,"ui-dialog-buttons");return}t.each(i,function(n,r){var h,w;r=typeof r=="function"?{click:r,text:n}:r,r=t.extend({type:"button"},r),h=r.click,w={icon:r.icon,iconPosition:r.iconPosition,showLabel:r.showLabel,icons:r.icons,text:r.text},delete r.click,delete r.icon,delete r.iconPosition,delete r.showLabel,delete r.icons,typeof r.text=="boolean"&&delete r.text,t("<button></button>",r).button(w).appendTo(e.uiButtonSet).on("click",function(){h.apply(e.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)},_makeDraggable:function(){var e=this,i=this.options;function n(r){return{position:r.position,offset:r.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(r,h){e._addClass(t(this),"ui-dialog-dragging"),e._blockFrames(),e._trigger("dragStart",r,n(h))},drag:function(r,h){e._trigger("drag",r,n(h))},stop:function(r,h){var w=h.offset.left-e.document.scrollLeft(),B=h.offset.top-e.document.scrollTop();i.position={my:"left top",at:"left"+(w>=0?"+":"")+w+" top"+(B>=0?"+":"")+B,of:e.window},e._removeClass(t(this),"ui-dialog-dragging"),e._unblockFrames(),e._trigger("dragStop",r,n(h))}})},_makeResizable:function(){var e=this,i=this.options,n=i.resizable,r=this.uiDialog.css("position"),h=typeof n=="string"?n:"n,e,s,w,se,sw,ne,nw";function w(B){return{originalPosition:B.originalPosition,originalSize:B.originalSize,position:B.position,size:B.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:h,start:function(B,V){e._addClass(t(this),"ui-dialog-resizing"),e._blockFrames(),e._trigger("resizeStart",B,w(V))},resize:function(B,V){e._trigger("resize",B,w(V))},stop:function(B,V){var oe=e.uiDialog.offset(),Me=oe.left-e.document.scrollLeft(),Re=oe.top-e.document.scrollTop();i.height=e.uiDialog.height(),i.width=e.uiDialog.width(),i.position={my:"left top",at:"left"+(Me>=0?"+":"")+Me+" top"+(Re>=0?"+":"")+Re,of:e.window},e._removeClass(t(this),"ui-dialog-resizing"),e._unblockFrames(),e._trigger("resizeStop",B,w(V))}}).css("position",r)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),i=t.inArray(this,e);i!==-1&&e.splice(i,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return e.height==="auto"?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(e){var i=this,n=!1,r={};t.each(e,function(h,w){i._setOption(h,w),h in i.sizeRelatedOptions&&(n=!0),h in i.resizableRelatedOptions&&(r[h]=w)}),n&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,i){var n,r,h=this.uiDialog;e!=="disabled"&&(this._super(e,i),e==="appendTo"&&this.uiDialog.appendTo(this._appendTo()),e==="buttons"&&this._createButtons(),e==="closeText"&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),e==="draggable"&&(n=h.is(":data(ui-draggable)"),n&&!i&&h.draggable("destroy"),!n&&i&&this._makeDraggable()),e==="position"&&this._position(),e==="resizable"&&(r=h.is(":data(ui-resizable)"),r&&!i&&h.resizable("destroy"),r&&typeof i=="string"&&h.resizable("option","handles",i),!r&&i!==!1&&this._makeResizable()),e==="title"&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,i,n,r=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),r.minWidth>r.width&&(r.width=r.minWidth),e=this.uiDialog.css({height:"auto",width:r.width}).outerHeight(),i=Math.max(0,r.minHeight-e),n=typeof r.maxHeight=="number"?Math.max(0,r.maxHeight-e):"none",r.height==="auto"?this.element.css({minHeight:i,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,r.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return t(e.target).closest(".ui-dialog").length?!0:!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(!!this.options.modal){var e=t.fn.jquery.substring(0,4),i=!0;this._delay(function(){i=!1}),this.document.data("ui-dialog-overlays")||this.document.on("focusin.ui-dialog",function(n){if(!i){var r=this._trackingInstances()[0];r._allowInteraction(n)||(n.preventDefault(),r._focusTabbable(),(e==="3.4."||e==="3.5.")&&r._delay(r._restoreTabbableFocus))}}.bind(this)),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(!!this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):(this.document.off("focusin.ui-dialog"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),t.uiBackCompat!==!1&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(e,i){e==="dialogClass"&&this.uiDialog.removeClass(this.options.dialogClass).addClass(i),this._superApply(arguments)}});var Je=t.ui.dialog;t.widget("ui.droppable",{version:"1.13.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,n=i.accept;this.isover=!1,this.isout=!0,this.accept=typeof n=="function"?n:function(r){return r.is(n)},this.proportions=function(){if(arguments.length)e=arguments[0];else return e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight})},this._addToManager(i.scope),i.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(e){for(var i=0;i<e.length;i++)e[i]===this&&e.splice(i,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,i){if(e==="accept")this.accept=typeof i=="function"?i:function(r){return r.is(i)};else if(e==="scope"){var n=t.ui.ddmanager.droppables[this.options.scope];this._splice(n),this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;!i||(i.currentItem||i.element)[0]===this.element[0]||this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;!i||(i.currentItem||i.element)[0]===this.element[0]||this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var n=i||t.ui.ddmanager.current,r=!1;return!n||(n.currentItem||n.element)[0]===this.element[0]||(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var h=t(this).droppable("instance");if(h.options.greedy&&!h.options.disabled&&h.options.scope===n.options.scope&&h.accept.call(h.element[0],n.currentItem||n.element)&&t.ui.intersect(n,t.extend(h,{offset:h.element.offset()}),h.options.tolerance,e))return r=!0,!1}),r)?!1:this.accept.call(this.element[0],n.currentItem||n.element)?(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(n)),this.element):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}}),t.ui.intersect=function(){function e(i,n,r){return i>=n&&i<n+r}return function(i,n,r,h){if(!n.offset)return!1;var w=(i.positionAbs||i.position.absolute).left+i.margins.left,B=(i.positionAbs||i.position.absolute).top+i.margins.top,V=w+i.helperProportions.width,oe=B+i.helperProportions.height,Me=n.offset.left,Re=n.offset.top,je=Me+n.proportions().width,ze=Re+n.proportions().height;switch(r){case"fit":return Me<=w&&V<=je&&Re<=B&&oe<=ze;case"intersect":return Me<w+i.helperProportions.width/2&&V-i.helperProportions.width/2<je&&Re<B+i.helperProportions.height/2&&oe-i.helperProportions.height/2<ze;case"pointer":return e(h.pageY,Re,n.proportions().height)&&e(h.pageX,Me,n.proportions().width);case"touch":return(B>=Re&&B<=ze||oe>=Re&&oe<=ze||B<Re&&oe>ze)&&(w>=Me&&w<=je||V>=Me&&V<=je||w<Me&&V>je);default:return!1}}}(),t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,i){var n,r,h=t.ui.ddmanager.droppables[e.options.scope]||[],w=i?i.type:null,B=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();e:for(n=0;n<h.length;n++)if(!(h[n].options.disabled||e&&!h[n].accept.call(h[n].element[0],e.currentItem||e.element))){for(r=0;r<B.length;r++)if(B[r]===h[n].element[0]){h[n].proportions().height=0;continue e}h[n].visible=h[n].element.css("display")!=="none",!!h[n].visible&&(w==="mousedown"&&h[n]._activate.call(h[n],i),h[n].offset=h[n].element.offset(),h[n].proportions({width:h[n].element[0].offsetWidth,height:h[n].element[0].offsetHeight}))}},drop:function(e,i){var n=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){!this.options||(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance,i)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(e,i){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var n,r,h,w=t.ui.intersect(e,this,this.options.tolerance,i),B=!w&&this.isover?"isout":w&&!this.isover?"isover":null;!B||(this.options.greedy&&(r=this.options.scope,h=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===r}),h.length&&(n=t(h[0]).droppable("instance"),n.greedyChild=B==="isover")),n&&B==="isover"&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[B]=!0,this[B==="isout"?"isover":"isout"]=!1,this[B==="isover"?"_over":"_out"].call(this,i),n&&B==="isout"&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}},t.uiBackCompat!==!1&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});var et=t.ui.droppable;var St=t.widget("ui.progressbar",{version:"1.13.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=t("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(e){if(e===void 0)return this.options.value;this.options.value=this._constrainedValue(e),this._refreshValue()},_constrainedValue:function(e){return e===void 0&&(e=this.options.value),this.indeterminate=e===!1,typeof e!="number"&&(e=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var i=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(i),this._refreshValue()},_setOption:function(e,i){e==="max"&&(i=Math.max(this.min,i)),this._super(e,i)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e),this._toggleClass(null,"ui-state-disabled",!!e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(i.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}});var wt=t.widget("ui.selectable",t.ui.mouse,{version:"1.13.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each(function(){var i=t(this),n=i.offset(),r={left:n.left-e.elementPos.left,top:n.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:i,left:r.left,top:r.top,right:r.left+i.outerWidth(),bottom:r.top+i.outerHeight(),startselected:!1,selected:i.hasClass("ui-selected"),selecting:i.hasClass("ui-selecting"),unselecting:i.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var i=this,n=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),!this.options.disabled&&(this.selectees=t(n.filter,this.element[0]),this._trigger("start",e),t(n.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var r=t.data(this,"selectable-item");r.startselected=!0,!e.metaKey&&!e.ctrlKey&&(i._removeClass(r.$element,"ui-selected"),r.selected=!1,i._addClass(r.$element,"ui-unselecting"),r.unselecting=!0,i._trigger("unselecting",e,{unselecting:r.element}))}),t(e.target).parents().addBack().each(function(){var r,h=t.data(this,"selectable-item");if(h)return r=!e.metaKey&&!e.ctrlKey||!h.$element.hasClass("ui-selected"),i._removeClass(h.$element,r?"ui-unselecting":"ui-selected")._addClass(h.$element,r?"ui-selecting":"ui-unselecting"),h.unselecting=!r,h.selecting=r,h.selected=r,r?i._trigger("selecting",e,{selecting:h.element}):i._trigger("unselecting",e,{unselecting:h.element}),!1}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,n=this,r=this.options,h=this.opos[0],w=this.opos[1],B=e.pageX,V=e.pageY;return h>B&&(i=B,B=h,h=i),w>V&&(i=V,V=w,w=i),this.helper.css({left:h,top:w,width:B-h,height:V-w}),this.selectees.each(function(){var oe=t.data(this,"selectable-item"),Me=!1,Re={};!oe||oe.element===n.element[0]||(Re.left=oe.left+n.elementPos.left,Re.right=oe.right+n.elementPos.left,Re.top=oe.top+n.elementPos.top,Re.bottom=oe.bottom+n.elementPos.top,r.tolerance==="touch"?Me=!(Re.left>B||Re.right<h||Re.top>V||Re.bottom<w):r.tolerance==="fit"&&(Me=Re.left>h&&Re.right<B&&Re.top>w&&Re.bottom<V),Me?(oe.selected&&(n._removeClass(oe.$element,"ui-selected"),oe.selected=!1),oe.unselecting&&(n._removeClass(oe.$element,"ui-unselecting"),oe.unselecting=!1),oe.selecting||(n._addClass(oe.$element,"ui-selecting"),oe.selecting=!0,n._trigger("selecting",e,{selecting:oe.element}))):(oe.selecting&&((e.metaKey||e.ctrlKey)&&oe.startselected?(n._removeClass(oe.$element,"ui-selecting"),oe.selecting=!1,n._addClass(oe.$element,"ui-selected"),oe.selected=!0):(n._removeClass(oe.$element,"ui-selecting"),oe.selecting=!1,oe.startselected&&(n._addClass(oe.$element,"ui-unselecting"),oe.unselecting=!0),n._trigger("unselecting",e,{unselecting:oe.element}))),oe.selected&&!e.metaKey&&!e.ctrlKey&&!oe.startselected&&(n._removeClass(oe.$element,"ui-selected"),oe.selected=!1,n._addClass(oe.$element,"ui-unselecting"),oe.unselecting=!0,n._trigger("unselecting",e,{unselecting:oe.element}))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");i._removeClass(n.$element,"ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",e,{unselected:n.element})}),t(".ui-selecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");i._removeClass(n.$element,"ui-selecting")._addClass(n.$element,"ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",e,{selected:n.element})}),this._trigger("stop",e),this.helper.remove(),!1}});var lt=t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.13.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t()},_drawButton:function(){var e,i=this,n=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(r){this.button.trigger("focus"),r.preventDefault()}}),this.element.hide(),this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=t("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(n).appendTo(this.button),this.options.width!==!1&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){i._rendered||i._refreshMenu()})},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(i,n){i.preventDefault(),e._setSelection(),e._select(n.item.data("ui-selectmenu-item"),i)},focus:function(i,n){var r=n.item.data("ui-selectmenu-item");e.focusIndex!=null&&r.index!==e.focusIndex&&(e._trigger("focus",i,{item:r}),e.isOpen||e._select(r,i)),e.focusIndex=r.index,e.button.attr("aria-activedescendant",e.menuItems.eq(r.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),this.options.width===null&&this._resizeButton()},_refreshMenu:function(){var e,i=this.element.find("option");this.menu.empty(),this._parseOptions(i),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,!!i.length&&(e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),!!this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e)))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(e){!this.isOpen||(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var i=t("<span>");return this._setText(i,e.label),this._addClass(i,"ui-selectmenu-text"),i},_renderMenu:function(e,i){var n=this,r="";t.each(i,function(h,w){var B;w.optgroup!==r&&(B=t("<li>",{text:w.optgroup}),n._addClass(B,"ui-selectmenu-optgroup","ui-menu-divider"+(w.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),B.appendTo(e),r=w.optgroup),n._renderItemData(e,w)})},_renderItemData:function(e,i){return this._renderItem(e,i).data("ui-selectmenu-item",i)},_renderItem:function(e,i){var n=t("<li>"),r=t("<div>",{title:i.element.attr("title")});return i.disabled&&this._addClass(n,null,"ui-state-disabled"),this._setText(r,i.label),n.append(r).appendTo(e)},_setText:function(e,i){i?e.text(i):e.html("&#160;")},_move:function(e,i){var n,r,h=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex).parent("li"):(n=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),h+=":not(.ui-state-disabled)"),e==="first"||e==="last"?r=n[e==="first"?"prevAll":"nextAll"](h).eq(-1):r=n[e+"All"](h).eq(0),r.length&&this.menuInstance.focus(i,r)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;!this.range||(window.getSelection?(e=window.getSelection(),e.removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){!this.isOpen||t(e.target).closest(".ui-selectmenu-menu, #"+t.escapeSelector(this.ids.button)).length||this.close(e)}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection(),e.rangeCount&&(this.range=e.getRangeAt(0))):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(e){var i=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),i=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),i=!1}i&&e.preventDefault()}},_selectFocusedItem:function(e){var i=this.menuItems.eq(this.focusIndex).parent("li");i.hasClass("ui-state-disabled")||this._select(i.data("ui-selectmenu-item"),e)},_select:function(e,i){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(e)),this._setAria(e),this._trigger("select",i,{item:e}),e.index!==n&&this._trigger("change",i,{item:e}),this.close(i)},_setAria:function(e){var i=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":i,"aria-activedescendant":i}),this.menu.attr("aria-activedescendant",i)},_setOption:function(e,i){if(e==="icons"){var n=this.button.find("span.ui-icon");this._removeClass(n,null,this.options.icons.button)._addClass(n,null,i.button)}this._super(e,i),e==="appendTo"&&this.menuWrap.appendTo(this._appendTo()),e==="width"&&this._resizeButton()},_setOptionDisabled:function(e){this._super(e),this.menuInstance.option("disabled",e),this.button.attr("aria-disabled",e),this._toggleClass(this.button,null,"ui-state-disabled",e),this.element.prop("disabled",e),e?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),(!e||!e[0])&&(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;if(e===!1){this.button.css("width","");return}e===null&&(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var e=this._super();return e.disabled=this.element.prop("disabled"),e},_parseOptions:function(e){var i=this,n=[];e.each(function(r,h){h.hidden||n.push(i._parseOption(t(h),r))}),this.items=n},_parseOption:function(e,i){var n=e.parent("optgroup");return{element:e,index:i,value:e.val(),label:e.text(),optgroup:n.attr("label")||"",disabled:n.prop("disabled")||e.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]);var ut=t.widget("ui.slider",t.ui.mouse,{version:"1.13.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,n=this.options,r=this.element.find(".ui-slider-handle"),h="<span tabindex='0'></span>",w=[];for(i=n.values&&n.values.length||1,r.length>i&&(r.slice(i).remove(),r=r.slice(0,i)),e=r.length;e<i;e++)w.push(h);this.handles=r.add(t(w.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(B){t(this).data("ui-slider-handle-index",B).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(e.range===!0&&(e.values?e.values.length&&e.values.length!==2?e.values=[e.values[0],e.values[0]]:Array.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),!this.range||!this.range.length?(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")):(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})),(e.range==="min"||e.range==="max")&&this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var i,n,r,h,w,B,V,oe,Me=this,Re=this.options;return Re.disabled||(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(i),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(je){var ze=Math.abs(n-Me.values(je));(r>ze||r===ze&&(je===Me._lastChangedValue||Me.values(je)===Re.min))&&(r=ze,h=t(this),w=je)}),B=this._start(e,w),B===!1)?!1:(this._mouseSliding=!0,this._handleIndex=w,this._addClass(h,null,"ui-state-active"),h.trigger("focus"),V=h.offset(),oe=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=oe?{left:0,top:0}:{left:e.pageX-V.left-h.width()/2,top:e.pageY-V.top-h.height()/2-(parseInt(h.css("borderTopWidth"),10)||0)-(parseInt(h.css("borderBottomWidth"),10)||0)+(parseInt(h.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,w,n),this._animateOff=!0,!0)},_mouseStart:function(){return!0},_mouseDrag:function(e){var i={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(i);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(e){var i,n,r,h,w;return this.orientation==="horizontal"?(i=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(i=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),r=n/i,r>1&&(r=1),r<0&&(r=0),this.orientation==="vertical"&&(r=1-r),h=this._valueMax()-this._valueMin(),w=this._valueMin()+r*h,this._trimAlignValue(w)},_uiHash:function(e,i,n){var r={handle:this.handles[e],handleIndex:e,value:i!==void 0?i:this.value()};return this._hasMultipleValues()&&(r.value=i!==void 0?i:this.values(e),r.values=n||this.values()),r},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(e,i){return this._trigger("start",e,this._uiHash(i))},_slide:function(e,i,n){var r,h,w=this.value(),B=this.values();this._hasMultipleValues()&&(h=this.values(i?0:1),w=this.values(i),this.options.values.length===2&&this.options.range===!0&&(n=i===0?Math.min(h,n):Math.max(h,n)),B[i]=n),n!==w&&(r=this._trigger("slide",e,this._uiHash(i,n,B)),r!==!1&&(this._hasMultipleValues()?this.values(i,n):this.value(n)))},_stop:function(e,i){this._trigger("stop",e,this._uiHash(i))},_change:function(e,i){!this._keySliding&&!this._mouseSliding&&(this._lastChangedValue=i,this._trigger("change",e,this._uiHash(i)))},value:function(e){if(arguments.length){this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0);return}return this._value()},values:function(e,i){var n,r,h;if(arguments.length>1){this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),this._change(null,e);return}if(arguments.length)if(Array.isArray(arguments[0])){for(n=this.options.values,r=arguments[0],h=0;h<n.length;h+=1)n[h]=this._trimAlignValue(r[h]),this._change(null,h);this._refreshValue()}else return this._hasMultipleValues()?this._values(e):this.value();else return this._values()},_setOption:function(e,i){var n,r=0;switch(e==="range"&&this.options.range===!0&&(i==="min"?(this.options.value=this._values(0),this.options.values=null):i==="max"&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),Array.isArray(this.options.values)&&(r=this.options.values.length),this._super(e,i),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(i),this.handles.css(i==="horizontal"?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=r-1;n>=0;n--)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1;break}},_setOptionDisabled:function(e){this._super(e),this._toggleClass(null,"ui-state-disabled",!!e)},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e),e},_values:function(e){var i,n,r;if(arguments.length)return i=this.options.values[e],i=this._trimAlignValue(i),i;if(this._hasMultipleValues()){for(n=this.options.values.slice(),r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(n[r]);return n}else return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var i=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%i,r=e-n;return Math.abs(n)*2>=i&&(r+=n>0?i:-i),parseFloat(r.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,i=this._valueMin(),n=this.options.step,r=Math.round((e-i)/n)*n;e=r+i,e>this.options.max&&(e-=n),this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return this.options.min!==null&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var i=e.toString(),n=i.indexOf(".");return n===-1?0:i.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(e){e==="vertical"&&this.range.css({width:"",left:""}),e==="horizontal"&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,i,n,r,h,w=this.options.range,B=this.options,V=this,oe=this._animateOff?!1:B.animate,Me={};this._hasMultipleValues()?this.handles.each(function(Re){i=(V.values(Re)-V._valueMin())/(V._valueMax()-V._valueMin())*100,Me[V.orientation==="horizontal"?"left":"bottom"]=i+"%",t(this).stop(1,1)[oe?"animate":"css"](Me,B.animate),V.options.range===!0&&(V.orientation==="horizontal"?(Re===0&&V.range.stop(1,1)[oe?"animate":"css"]({left:i+"%"},B.animate),Re===1&&V.range[oe?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:B.animate})):(Re===0&&V.range.stop(1,1)[oe?"animate":"css"]({bottom:i+"%"},B.animate),Re===1&&V.range[oe?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:B.animate}))),e=i}):(n=this.value(),r=this._valueMin(),h=this._valueMax(),i=h!==r?(n-r)/(h-r)*100:0,Me[this.orientation==="horizontal"?"left":"bottom"]=i+"%",this.handle.stop(1,1)[oe?"animate":"css"](Me,B.animate),w==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[oe?"animate":"css"]({width:i+"%"},B.animate),w==="max"&&this.orientation==="horizontal"&&this.range.stop(1,1)[oe?"animate":"css"]({width:100-i+"%"},B.animate),w==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[oe?"animate":"css"]({height:i+"%"},B.animate),w==="max"&&this.orientation==="vertical"&&this.range.stop(1,1)[oe?"animate":"css"]({height:100-i+"%"},B.animate))},_handleEvents:{keydown:function(e){var i,n,r,h,w=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),i=this._start(e,w),i===!1))return;break}switch(h=this.options.step,this._hasMultipleValues()?n=r=this.values(w):n=r=this.value(),e.keyCode){case t.ui.keyCode.HOME:r=this._valueMin();break;case t.ui.keyCode.END:r=this._valueMax();break;case t.ui.keyCode.PAGE_UP:r=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;r=this._trimAlignValue(n+h);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;r=this._trimAlignValue(n-h);break}this._slide(e,w,r)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),this._removeClass(t(e.target),null,"ui-state-active"))}}});var bt=t.widget("ui.sortable",t.ui.mouse,{version:"1.13.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,i,n){return e>=i&&e<i+n},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,i){this._super(e,i),e==="handle"&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var n=null,r=!1,h=this;return this.reverting||this.options.disabled||this.options.type==="static"||(this._refreshItems(e),t(e.target).parents().each(function(){if(t.data(this,h.widgetName+"-item")===h)return n=t(this),!1}),t.data(e.target,h.widgetName+"-item")===h&&(n=t(e.target)),!n)||this.options.handle&&!i&&(t(this.options.handle,n).find("*").addBack().each(function(){this===e.target&&(r=!0)}),!r)?!1:(this.currentItem=n,this._removeCurrentsFromItems(),!0)},_mouseStart:function(e,i,n){var r,h,w=this.options;if(this.currentContainer=this,this.refreshPositions(),this.appendTo=t(w.appendTo!=="parent"?w.appendTo:this.currentItem.parent()),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),w.cursorAt&&this._adjustOffsetFromHelper(w.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),this.scrollParent=this.placeholder.scrollParent(),t.extend(this.offset,{parent:this._getParentOffset()}),w.containment&&this._setContainment(),w.cursor&&w.cursor!=="auto"&&(h=this.document.find("body"),this.storedCursor=h.css("cursor"),h.css("cursor",w.cursor),this.storedStylesheet=t("<style>*{ cursor: "+w.cursor+" !important; }</style>").appendTo(h)),w.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",w.zIndex)),w.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",w.opacity)),this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!w.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this.helper.parent().is(this.appendTo)||(this.helper.detach().appendTo(this.appendTo),this.offset.parent=this._getParentOffset()),this.position=this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,this.lastPositionAbs=this.positionAbs=this._convertPositionTo("absolute"),this._mouseDrag(e),!0},_scroll:function(e){var i=this.options,n=!1;return this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<i.scrollSensitivity?this.scrollParent[0].scrollTop=n=this.scrollParent[0].scrollTop+i.scrollSpeed:e.pageY-this.overflowOffset.top<i.scrollSensitivity&&(this.scrollParent[0].scrollTop=n=this.scrollParent[0].scrollTop-i.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<i.scrollSensitivity?this.scrollParent[0].scrollLeft=n=this.scrollParent[0].scrollLeft+i.scrollSpeed:e.pageX-this.overflowOffset.left<i.scrollSensitivity&&(this.scrollParent[0].scrollLeft=n=this.scrollParent[0].scrollLeft-i.scrollSpeed)):(e.pageY-this.document.scrollTop()<i.scrollSensitivity?n=this.document.scrollTop(this.document.scrollTop()-i.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<i.scrollSensitivity&&(n=this.document.scrollTop(this.document.scrollTop()+i.scrollSpeed)),e.pageX-this.document.scrollLeft()<i.scrollSensitivity?n=this.document.scrollLeft(this.document.scrollLeft()-i.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<i.scrollSensitivity&&(n=this.document.scrollLeft(this.document.scrollLeft()+i.scrollSpeed))),n},_mouseDrag:function(e){var i,n,r,h,w=this.options;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),(!this.options.axis||this.options.axis!=="y")&&(this.helper[0].style.left=this.position.left+"px"),(!this.options.axis||this.options.axis!=="x")&&(this.helper[0].style.top=this.position.top+"px"),w.scroll&&this._scroll(e)!==!1&&(this._refreshItemPositions(!0),t.ui.ddmanager&&!w.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.dragDirection={vertical:this._getDragVerticalDirection(),horizontal:this._getDragHorizontalDirection()},i=this.items.length-1;i>=0;i--)if(n=this.items[i],r=n.item[0],h=this._intersectsWithPointer(n),!!h&&n.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[h===1?"next":"prev"]()[0]!==r&&!t.contains(this.placeholder[0],r)&&(this.options.type==="semi-dynamic"?!t.contains(this.element[0],r):!0)){if(this.direction=h===1?"down":"up",this.options.tolerance==="pointer"||this._intersectsWithSides(n))this._rearrange(e,n);else break;this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(!!e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var n=this,r=this.placeholder.offset(),h=this.options.axis,w={};(!h||h==="x")&&(w.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),(!h||h==="y")&&(w.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(w,parseInt(this.options.revert,10)||500,function(){n._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),this.options.helper==="original"?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t(i).each(function(){var r=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);r&&n.push((e.key||r[1]+"[]")+"="+(e.key&&e.expression?r[1]:r[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},i.each(function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(e){var i=this.positionAbs.left,n=i+this.helperProportions.width,r=this.positionAbs.top,h=r+this.helperProportions.height,w=e.left,B=w+e.width,V=e.top,oe=V+e.height,Me=this.offset.click.top,Re=this.offset.click.left,je=this.options.axis==="x"||r+Me>V&&r+Me<oe,ze=this.options.axis==="y"||i+Re>w&&i+Re<B,Ne=je&&ze;return this.options.tolerance==="pointer"||this.options.forcePointerForContainers||this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?Ne:w<i+this.helperProportions.width/2&&n-this.helperProportions.width/2<B&&V<r+this.helperProportions.height/2&&h-this.helperProportions.height/2<oe},_intersectsWithPointer:function(e){var i,n,r=this.options.axis==="x"||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),h=this.options.axis==="y"||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),w=r&&h;return w?(i=this.dragDirection.vertical,n=this.dragDirection.horizontal,this.floating?n==="right"||i==="down"?2:1:i&&(i==="down"?2:1)):!1},_intersectsWithSides:function(e){var i=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),r=this.dragDirection.vertical,h=this.dragDirection.horizontal;return this.floating&&h?h==="right"&&n||h==="left"&&!n:r&&(r==="down"&&i||r==="up"&&!i)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return e!==0&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return e!==0&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(e){var i,n,r,h,w=[],B=[],V=this._connectWith();if(V&&e)for(i=V.length-1;i>=0;i--)for(r=t(V[i],this.document[0]),n=r.length-1;n>=0;n--)h=t.data(r[n],this.widgetFullName),h&&h!==this&&!h.options.disabled&&B.push([typeof h.options.items=="function"?h.options.items.call(h.element):t(h.options.items,h.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),h]);B.push([typeof this.options.items=="function"?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);function oe(){w.push(this)}for(i=B.length-1;i>=0;i--)B[i][0].each(oe);return t(w)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(i){for(var n=0;n<e.length;n++)if(e[n]===i.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,n,r,h,w,B,V,oe,Me=this.items,Re=[[typeof this.options.items=="function"?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],je=this._connectWith();if(je&&this.ready)for(i=je.length-1;i>=0;i--)for(r=t(je[i],this.document[0]),n=r.length-1;n>=0;n--)h=t.data(r[n],this.widgetFullName),h&&h!==this&&!h.options.disabled&&(Re.push([typeof h.options.items=="function"?h.options.items.call(h.element[0],e,{item:this.currentItem}):t(h.options.items,h.element),h]),this.containers.push(h));for(i=Re.length-1;i>=0;i--)for(w=Re[i][1],B=Re[i][0],n=0,oe=B.length;n<oe;n++)V=t(B[n]),V.data(this.widgetName+"-item",w),Me.push({item:V,instance:w,width:0,height:0,left:0,top:0})},_refreshItemPositions:function(e){var i,n,r,h;for(i=this.items.length-1;i>=0;i--)n=this.items[i],!(this.currentContainer&&n.instance!==this.currentContainer&&n.item[0]!==this.currentItem[0])&&(r=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item,e||(n.width=r.outerWidth(),n.height=r.outerHeight()),h=r.offset(),n.left=h.left,n.top=h.top)},refreshPositions:function(e){this.floating=this.items.length?this.options.axis==="x"||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),this._refreshItemPositions(e);var i,n;if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)n=this.containers[i].element.offset(),this.containers[i].containerCache.left=n.left,this.containers[i].containerCache.top=n.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,n,r=e.options;(!r.placeholder||r.placeholder.constructor===String)&&(i=r.placeholder,n=e.currentItem[0].nodeName.toLowerCase(),r.placeholder={element:function(){var h=t("<"+n+">",e.document[0]);return e._addClass(h,"ui-sortable-placeholder",i||e.currentItem[0].className)._removeClass(h,"ui-sortable-helper"),n==="tbody"?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(h)):n==="tr"?e._createTrPlaceholder(e.currentItem,h):n==="img"&&h.attr("src",e.currentItem.attr("src")),i||h.css("visibility","hidden"),h},update:function(h,w){i&&!r.forcePlaceholderSize||((!w.height()||r.forcePlaceholderSize&&(n==="tbody"||n==="tr"))&&w.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),w.width()||w.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(r.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),r.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var n=this;e.children().each(function(){t("<td>&#160;</td>",n.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(e){var i,n,r,h,w,B,V,oe,Me,Re,je=null,ze=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(je&&t.contains(this.containers[i].element[0],je.element[0]))continue;je=this.containers[i],ze=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(!!je)if(this.containers.length===1)this.containers[ze].containerCache.over||(this.containers[ze]._trigger("over",e,this._uiHash(this)),this.containers[ze].containerCache.over=1);else{for(r=1e4,h=null,Me=je.floating||this._isFloating(this.currentItem),w=Me?"left":"top",B=Me?"width":"height",Re=Me?"pageX":"pageY",n=this.items.length-1;n>=0;n--)!t.contains(this.containers[ze].element[0],this.items[n].item[0])||this.items[n].item[0]!==this.currentItem[0]&&(V=this.items[n].item.offset()[w],oe=!1,e[Re]-V>this.items[n][B]/2&&(oe=!0),Math.abs(e[Re]-V)<r&&(r=Math.abs(e[Re]-V),h=this.items[n],this.direction=oe?"up":"down"));if(!h&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[ze]){this.currentContainer.containerCache.over||(this.containers[ze]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1);return}h?this._rearrange(e,h,null,!0):this._rearrange(e,null,this.containers[ze].element,!0),this._trigger("change",e,this._uiHash()),this.containers[ze]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[ze],this.options.placeholder.update(this.currentContainer,this.placeholder),this.scrollParent=this.placeholder.scrollParent(),this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this.containers[ze]._trigger("over",e,this._uiHash(this)),this.containers[ze].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=typeof i.helper=="function"?t(i.helper.apply(this.element[0],[e,this.currentItem])):i.helper==="clone"?this.currentItem.clone():this.currentItem;return n.parents("body").length||this.appendTo[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(!n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){typeof e=="string"&&(e=e.split(" ")),Array.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return this.cssPosition==="absolute"&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,r=this.options;r.containment==="parent"&&(r.containment=this.helper[0].parentNode),(r.containment==="document"||r.containment==="window")&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,r.containment==="document"?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,(r.containment==="document"?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],i=t(r.containment).offset(),n=t(e).css("overflow")!=="hidden",this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var n=e==="absolute"?1:-1,r=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,h=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():h?0:r.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())*n}},_generatePosition:function(e){var i,n,r=this.options,h=e.pageX,w=e.pageY,B=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,V=/(html|body)/i.test(B[0].tagName);return this.cssPosition==="relative"&&!(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(h=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(w=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(h=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(w=this.containment[3]+this.offset.click.top)),r.grid&&(i=this.originalPageY+Math.round((w-this.originalPageY)/r.grid[1])*r.grid[1],w=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-r.grid[1]:i+r.grid[1]:i,n=this.originalPageX+Math.round((h-this.originalPageX)/r.grid[0])*r.grid[0],h=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-r.grid[0]:n+r.grid[0]:n)),{top:w-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():V?0:B.scrollTop()),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():V?0:B.scrollLeft())}},_rearrange:function(e,i,n,r){n?n[0].appendChild(this.placeholder[0]):i.item[0].parentNode.insertBefore(this.placeholder[0],this.direction==="down"?i.item[0]:i.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var h=this.counter;this._delay(function(){h===this.counter&&this.refreshPositions(!r)})},_clear:function(e,i){this.reverting=!1;var n,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)(this._storedCSS[n]==="auto"||this._storedCSS[n]==="static")&&(this._storedCSS[n]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!i&&r.push(function(w){this._trigger("receive",w,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!i&&r.push(function(w){this._trigger("update",w,this._uiHash())}),this!==this.currentContainer&&(i||(r.push(function(w){this._trigger("remove",w,this._uiHash())}),r.push(function(w){return function(B){w._trigger("receive",B,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(w){return function(B){w._trigger("update",B,this._uiHash(this))}}.call(this,this.currentContainer))));function h(w,B,V){return function(oe){V._trigger(w,oe,B._uiHash(B))}}for(n=this.containers.length-1;n>=0;n--)i||r.push(h("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(r.push(h("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex),this.dragging=!1,i||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!i){for(n=0;n<r.length;n++)r[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}});function kt(e){return function(){var i=this.element.val();e.apply(this,arguments),this._refresh(),i!==this.element.val()&&this._trigger("change")}}t.widget("ui.spinner",{version:"1.13.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this.value()!==""&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),i=this.element;return t.each(["min","max","step"],function(n,r){var h=i.attr(r);h!=null&&h.length&&(e[r]=h)}),e},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){if(this.cancelBlur){delete this.cancelBlur;return}this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e)},mousewheel:function(e,i){var n=t.ui.safeActiveElement(this.document[0]),r=this.element[0]===n;if(!(!r||!i)){if(!this.spinning&&!this._start(e))return!1;this._spin((i>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(e){var i;i=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val();function n(){var r=this.element[0]===t.ui.safeActiveElement(this.document[0]);r||(this.element.trigger("focus"),this.previous=i,this._delay(function(){this.previous=i}))}e.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,n.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(!!t(e.currentTarget).hasClass("ui-state-active")){if(this._start(e)===!1)return!1;this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)}},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(this.uiSpinner.height()*.5)&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var i=this.options,n=t.ui.keyCode;switch(e.keyCode){case n.UP:return this._repeat(null,1,e),!0;case n.DOWN:return this._repeat(null,-1,e),!0;case n.PAGE_UP:return this._repeat(null,i.page,e),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_start:function(e){return!this.spinning&&this._trigger("start",e)===!1?!1:(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(e,i,n){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,i,n)},e),this._spin(i*this.options.step,n)},_spin:function(e,i){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+e*this._increment(this.counter)),(!this.spinning||this._trigger("spin",i,{value:n})!==!1)&&(this._value(n),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?typeof i=="function"?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return this.options.min!==null&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var i=e.toString(),n=i.indexOf(".");return n===-1?0:i.length-n-1},_adjustValue:function(e){var i,n,r=this.options;return i=r.min!==null?r.min:0,n=e-i,n=Math.round(n/r.step)*r.step,e=i+n,e=parseFloat(e.toFixed(this._precision())),r.max!==null&&e>r.max?r.max:r.min!==null&&e<r.min?r.min:e},_stop:function(e){!this.spinning||(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,i){var n,r,h;if(e==="culture"||e==="numberFormat"){n=this._parse(this.element.val()),this.options[e]=i,this.element.val(this._format(n));return}(e==="max"||e==="min"||e==="step")&&typeof i=="string"&&(i=this._parse(i)),e==="icons"&&(r=this.buttons.first().find(".ui-icon"),this._removeClass(r,null,this.options.icons.up),this._addClass(r,null,i.up),h=this.buttons.last().find(".ui-icon"),this._removeClass(h,null,this.options.icons.down),this._addClass(h,null,i.down)),this._super(e,i)},_setOptionDisabled:function(e){this._super(e),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!e),this.element.prop("disabled",!!e),this.buttons.button(e?"disable":"enable")},_setOptions:kt(function(e){this._super(e)}),_parse:function(e){return typeof e=="string"&&e!==""&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),e===""||isNaN(e)?null:e},_format:function(e){return e===""?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return e===null?!1:e===this._adjustValue(e)},_value:function(e,i){var n;e!==""&&(n=this._parse(e),n!==null&&(i||(n=this._adjustValue(n)),e=this._format(n))),this.element.val(e),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:kt(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:kt(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:kt(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:kt(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){if(!arguments.length)return this._parse(this.element.val());kt(this._value).call(this,e)},widget:function(){return this.uiSpinner}}),t.uiBackCompat!==!1&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}});var Mt=t.ui.spinner;t.widget("ui.tabs",{version:"1.13.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var e=/#.*$/;return function(i){var n,r;n=i.href.replace(e,""),r=location.href.replace(e,"");try{n=decodeURIComponent(n)}catch{}try{r=decodeURIComponent(r)}catch{}return i.hash.length>1&&n===r}}(),_create:function(){var e=this,i=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,i.collapsible),this._processTabs(),i.active=this._initialActive(),Array.isArray(i.disabled)&&(i.disabled=t.uniqueSort(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(n){return e.tabs.index(n)}))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(i.active):this.active=t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);return e===null&&(n&&this.tabs.each(function(r,h){if(t(h).attr("aria-controls")===n)return e=r,!1}),e===null&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(e===null||e===-1)&&(e=this.tabs.length?0:!1)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),e===-1&&(e=i?!1:0)),!i&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(t.ui.safeActiveElement(this.document[0])).closest("li"),n=this.tabs.index(i),r=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:n++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:r=!1,n--;break;case t.ui.keyCode.END:n=this.anchors.length-1;break;case t.ui.keyCode.HOME:n=0;break;case t.ui.keyCode.SPACE:e.preventDefault(),clearTimeout(this.activating),this._activate(n);return;case t.ui.keyCode.ENTER:e.preventDefault(),clearTimeout(this.activating),this._activate(n===this.options.active?!1:n);return;default:return}e.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,r),!e.ctrlKey&&!e.metaKey&&(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){if(e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP)return this._activate(this._focusNextTab(this.options.active-1,!1)),!0;if(e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN)return this._activate(this._focusNextTab(this.options.active+1,!0)),!0},_findNextTab:function(e,i){var n=this.tabs.length-1;function r(){return e>n&&(e=0),e<0&&(e=n),e}for(;t.inArray(r(),this.options.disabled)!==-1;)e=i?e+1:e-1;return e},_focusNextTab:function(e,i){return e=this._findNextTab(e,i),this.tabs.eq(e).trigger("focus"),e},_setOption:function(e,i){if(e==="active"){this._activate(i);return}this._super(e,i),e==="collapsible"&&(this._toggleClass("ui-tabs-collapsible",null,i),!i&&this.options.active===!1&&this._activate(0)),e==="event"&&this._setupEvents(i),e==="heightStyle"&&this._setupHeightStyle(i)},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(n){return i.index(n)}),this._processTabs(),e.active===!1||!this.anchors.length?(e.active=!1,this.active=t()):this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,i=this.tabs,n=this.anchors,r=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(h){t(this).is(".ui-state-disabled")&&h.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).attr({tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each(function(h,w){var B,V,oe,Me=t(w).uniqueId().attr("id"),Re=t(w).closest("li"),je=Re.attr("aria-controls");e._isLocal(w)?(B=w.hash,oe=B.substring(1),V=e.element.find(e._sanitizeSelector(B))):(oe=Re.attr("aria-controls")||t({}).uniqueId()[0].id,B="#"+oe,V=e.element.find(B),V.length||(V=e._createPanel(oe),V.insertAfter(e.panels[h-1]||e.tablist)),V.attr("aria-live","polite")),V.length&&(e.panels=e.panels.add(V)),je&&Re.data("ui-tabs-aria-controls",je),Re.attr({"aria-controls":oe,"aria-labelledby":Me}),V.attr("aria-labelledby",Me)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),i&&(this._off(i.not(this.tabs)),this._off(n.not(this.anchors)),this._off(r.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var i,n,r;for(Array.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),r=0;n=this.tabs[r];r++)i=t(n),e===!0||t.inArray(r,e)!==-1?(i.attr("aria-disabled","true"),this._addClass(i,null,"ui-state-disabled")):(i.removeAttr("aria-disabled"),this._removeClass(i,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,e===!0)},_setupEvents:function(e){var i={};e&&t.each(e.split(" "),function(n,r){i[r]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(n){n.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,n=this.element.parent();e==="fill"?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var r=t(this),h=r.css("position");h==="absolute"||h==="fixed"||(i-=r.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):e==="auto"&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,n=this.active,r=t(e.currentTarget),h=r.closest("li"),w=h[0]===n[0],B=w&&i.collapsible,V=B?t():this._getPanelForTab(h),oe=n.length?this._getPanelForTab(n):t(),Me={oldTab:n,oldPanel:oe,newTab:B?t():h,newPanel:V};e.preventDefault(),!(h.hasClass("ui-state-disabled")||h.hasClass("ui-tabs-loading")||this.running||w&&!i.collapsible||this._trigger("beforeActivate",e,Me)===!1)&&(i.active=B?!1:this.tabs.index(h),this.active=w?t():h,this.xhr&&this.xhr.abort(),!oe.length&&!V.length&&t.error("jQuery UI Tabs: Mismatching fragment identifier."),V.length&&this.load(this.tabs.index(h),e),this._toggle(e,Me))},_toggle:function(e,i){var n=this,r=i.newPanel,h=i.oldPanel;this.running=!0;function w(){n.running=!1,n._trigger("activate",e,i)}function B(){n._addClass(i.newTab.closest("li"),"ui-tabs-active","ui-state-active"),r.length&&n.options.show?n._show(r,n.options.show,w):(r.show(),w())}h.length&&this.options.hide?this._hide(h,this.options.hide,function(){n._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),B()}):(this._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),h.hide(),B()),h.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),r.length&&h.length?i.oldTab.attr("tabIndex",-1):r.length&&this.tabs.filter(function(){return t(this).attr("tabIndex")===0}).attr("tabIndex",-1),r.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var i,n=this._findActive(e);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(e){return typeof e=="string"&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),this.options.heightStyle!=="content"&&this.panels.css("height","")},enable:function(e){var i=this.options.disabled;i!==!1&&(e===void 0?i=!1:(e=this._getIndex(e),Array.isArray(i)?i=t.map(i,function(n){return n!==e?n:null}):i=t.map(this.tabs,function(n,r){return r!==e?r:null})),this._setOptionDisabled(i))},disable:function(e){var i=this.options.disabled;if(i!==!0){if(e===void 0)i=!0;else{if(e=this._getIndex(e),t.inArray(e,i)!==-1)return;Array.isArray(i)?i=t.merge([e],i).sort():i=[e]}this._setOptionDisabled(i)}},load:function(e,i){e=this._getIndex(e);var n=this,r=this.tabs.eq(e),h=r.find(".ui-tabs-anchor"),w=this._getPanelForTab(r),B={tab:r,panel:w},V=function(oe,Me){Me==="abort"&&n.panels.stop(!1,!0),n._removeClass(r,"ui-tabs-loading"),w.removeAttr("aria-busy"),oe===n.xhr&&delete n.xhr};this._isLocal(h[0])||(this.xhr=t.ajax(this._ajaxSettings(h,i,B)),this.xhr&&this.xhr.statusText!=="canceled"&&(this._addClass(r,"ui-tabs-loading"),w.attr("aria-busy","true"),this.xhr.done(function(oe,Me,Re){setTimeout(function(){w.html(oe),n._trigger("load",i,B),V(Re,Me)},1)}).fail(function(oe,Me){setTimeout(function(){V(oe,Me)},1)})))},_ajaxSettings:function(e,i,n){var r=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(h,w){return r._trigger("beforeLoad",i,t.extend({jqXHR:h,ajaxSettings:w},n))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),t.uiBackCompat!==!1&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}});var se=t.ui.tabs;t.widget("ui.tooltip",{version:"1.13.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title");return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,i){var n=(e.attr("aria-describedby")||"").split(/\s+/);n.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",String.prototype.trim.call(n.join(" ")))},_removeDescribedBy:function(e){var i=e.data("ui-tooltip-id"),n=(e.attr("aria-describedby")||"").split(/\s+/),r=t.inArray(i,n);r!==-1&&n.splice(r,1),e.removeData("ui-tooltip-id"),n=String.prototype.trim.call(n.join(" ")),n?e.attr("aria-describedby",n):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=t([])},_setOption:function(e,i){var n=this;this._super(e,i),e==="content"&&t.each(this.tooltips,function(r,h){n._updateContent(h.element)})},_setOptionDisabled:function(e){this[e?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,function(i,n){var r=t.Event("blur");r.target=r.currentTarget=n.element[0],e.close(r,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var i=t(this);if(i.is("[title]"))return i.data("ui-tooltip-title",i.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=t([])},open:function(e){var i=this,n=t(e?e.target:this.element).closest(this.options.items);!n.length||n.data("ui-tooltip-id")||(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),e&&e.type==="mouseover"&&n.parents().each(function(){var r=t(this),h;r.data("ui-tooltip-open")&&(h=t.Event("blur"),h.target=h.currentTarget=this,i.close(h,!0)),r.attr("title")&&(r.uniqueId(),i.parents[this.id]={element:this,title:r.attr("title")},r.attr("title",""))}),this._registerCloseHandlers(e,n),this._updateContent(n,e))},_updateContent:function(e,i){var n,r=this.options.content,h=this,w=i?i.type:null;if(typeof r=="string"||r.nodeType||r.jquery)return this._open(i,e,r);n=r.call(e[0],function(B){h._delay(function(){!e.data("ui-tooltip-open")||(i&&(i.type=w),this._open(i,e,B))})}),n&&this._open(i,e,n)},_open:function(e,i,n){var r,h,w,B,V=t.extend({},this.options.position);if(!n)return;if(r=this._find(i),r){r.tooltip.find(".ui-tooltip-content").html(n);return}i.is("[title]")&&(e&&e.type==="mouseover"?i.attr("title",""):i.removeAttr("title")),r=this._tooltip(i),h=r.tooltip,this._addDescribedBy(i,h.attr("id")),h.find(".ui-tooltip-content").html(n),this.liveRegion.children().hide(),B=t("<div>").html(h.find(".ui-tooltip-content").html()),B.removeAttr("name").find("[name]").removeAttr("name"),B.removeAttr("id").find("[id]").removeAttr("id"),B.appendTo(this.liveRegion);function oe(Me){V.of=Me,!h.is(":hidden")&&h.position(V)}this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:oe}),oe(e)):h.position(t.extend({of:i},this.options.position)),h.hide(),this._show(h,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(w=this.delayedShow=setInterval(function(){h.is(":visible")&&(oe(V.of),clearInterval(w))},13)),this._trigger("open",e,{tooltip:h})},_registerCloseHandlers:function(e,i){var n={keyup:function(r){if(r.keyCode===t.ui.keyCode.ESCAPE){var h=t.Event(r);h.currentTarget=i[0],this.close(h,!0)}}};i[0]!==this.element[0]&&(n.remove=function(){var r=this._find(i);r&&this._removeTooltip(r.tooltip)}),(!e||e.type==="mouseover")&&(n.mouseleave="close"),(!e||e.type==="focusin")&&(n.focusout="close"),this._on(!0,i,n)},close:function(e){var i,n=this,r=t(e?e.currentTarget:this.element),h=this._find(r);if(!h){r.removeData("ui-tooltip-open");return}i=h.tooltip,!h.closing&&(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&!r.attr("title")&&r.attr("title",r.data("ui-tooltip-title")),this._removeDescribedBy(r),h.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){n._removeTooltip(t(this))}),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),e&&e.type==="mouseleave"&&t.each(this.parents,function(w,B){t(B.element).attr("title",B.title),delete n.parents[w]}),h.closing=!0,this._trigger("close",e,{tooltip:i}),h.hiding||(h.closing=!1))},_tooltip:function(e){var i=t("<div>").attr("role","tooltip"),n=t("<div>").appendTo(i),r=i.uniqueId().attr("id");return this._addClass(n,"ui-tooltip-content"),this._addClass(i,"ui-tooltip","ui-widget ui-widget-content"),i.appendTo(this._appendTo(e)),this.tooltips[r]={element:e,tooltip:i}},_find:function(e){var i=e.data("ui-tooltip-id");return i?this.tooltips[i]:null},_removeTooltip:function(e){clearInterval(this.delayedShow),e.remove(),delete this.tooltips[e.attr("id")]},_appendTo:function(e){var i=e.closest(".ui-front, dialog");return i.length||(i=this.document[0].body),i},_destroy:function(){var e=this;t.each(this.tooltips,function(i,n){var r=t.Event("blur"),h=n.element;r.target=r.currentTarget=h[0],e.close(r,!0),t("#"+i).remove(),h.data("ui-tooltip-title")&&(h.attr("title")||h.attr("title",h.data("ui-tooltip-title")),h.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),t.uiBackCompat!==!1&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var e=this._superApply(arguments);return this.options.tooltipClass&&e.tooltip.addClass(this.options.tooltipClass),e}});var Be=t.ui.tooltip})});var ao=Tn((ml,mo)=>{mo.exports={}});var _r=Cn(Ln());var Lr=Cn(Ln());var Qi=class{};Qi.NEXT_RANGE="nextrange";Qi.PAUSECANVAS="pause";Qi.PLAYCANVAS="play";Qi.PREVIOUS_RANGE="previousrange";var hn=class{};hn.VOLUME_CHANGED="volumechanged";var Ls=Cn(Ln());function $r(){return String(new Date().valueOf())}var ks=Cn(Ln());function ar(t,p){let u=ks.Utils.getTemporalComponent(p);if(u){let f=0,g=p.substr(0,p.indexOf("#"));for(let E=0;E<t.length;E++){let d=t[E];if(d.id.includes(g))break;{let _=d.getDuration();_&&(f+=_)}}return u[0]=Number(u[0])+f,u[1]=Number(u[1])+f,g+"#t="+u[0]+","+u[1]}}Vn();var Bn=class{constructor(){this.canvases=[],this.durationMap={},this.totalDuration=0,this.id=$r()}addCanvas(p){this.canvases.push(jQuery.extend(!0,{},p));let u=p.getDuration()||0;this.totalDuration+=u,this.durationMap[p.id]={duration:u,runningDuration:this.totalDuration}}getContent(){let p=[];return this.canvases.forEach(u=>{let f=u.getContent();f.forEach(g=>{let E=g.getTarget();E&&(Ls.Utils.getTemporalComponent(E)||(g.__jsonld.target+="#t=0,"+u.getDuration()))}),f.forEach(g=>{let E=g.getTarget();E&&(g.__jsonld.target=ar(this.canvases,E))}),p.push(...f)}),p}getDuration(){let p=0;return this.canvases.forEach(u=>{let f=u.getDuration();f&&(p+=f)}),Math.floor(p)}getWidth(){return this.canvases.length?this.canvases[0].getWidth():0}getHeight(){return this.canvases.length?this.canvases[0].getHeight():0}};function Bs(t,p){return t/p*100}var gs=Cn(Ln());var In=class{constructor(p,u={}){this.source=p,this.options=u}attachTo(p){p.setAttribute("src",this.source)}};var es=class extends In{constructor(p,u={}){super(p,u);this.player=dashjs.MediaPlayer().create(),this.player.getDebug().setLogToBrowserConsole(!1),u.adaptiveAuthEnabled&&this.player.setXHRWithCredentialsForType("MPD",!0)}attachTo(p){this.player.initialize(p,this.source,!1)}debug(){this.player.getDebug().setLogToBrowserConsole(!0),this.player.getDebug().setLogLevel(4)}};var ts=class extends In{constructor(p,u={}){super(p,u);u.adaptiveAuthEnabled?this.hls=new Hls({xhrSetup:f=>{f.withCredentials=!0}}):this.hls=new Hls,this.hls.loadSource(this.source)}attachTo(p){this.hls.attachMedia(p)}};var is=class extends In{constructor(p,u={}){super(p,u)}attachTo(p){p.src=this.source}};var ns=class extends In{constructor(p,u={}){super(p,u)}};var fo=!1,Gn=()=>fo&&window&&window.__DEBUG_AV_COMPONENT__,jt={enabled:!0,log(...t){this.enabled&&Gn()&&console.log(...t)},warn(...t){this.enabled&&Gn()&&console.warn(...t)},error(...t){this.enabled&&Gn()&&console.error(...t)},groupCollapsed(...t){this.enabled&&Gn()&&console.group(...t)},group(...t){this.enabled&&Gn()&&console.group(...t)},groupEnd(){this.enabled&&Gn()&&console.groupEnd()}};var co=function(t,p,u,f){function g(E){return E instanceof u?E:new u(function(d){d(E)})}return new(u||(u=Promise))(function(E,d){function _(m){try{T(f.next(m))}catch(b){d(b)}}function y(m){try{T(f.throw(m))}catch(b){d(b)}}function T(m){m.done?E(m.value):g(m.value).then(_,y)}T((f=f.apply(t,p||[])).next())})},ho=Vn(),rs=class{constructor(p,u={}){switch(this.playWasRequested=!1,this.pauseWasRequested=!1,this.lastPause=0,this.isPausing=!1,this.source=p,this.mediaSource=p.mediaSource,this.type=p.type.toString().toLowerCase(),this.format=p.format?p.format.toString():void 0,this.mediaSyncMarginSecs=u.mediaSyncMarginSecs||1,this.type){case"video":this.element=document.createElement("video");break;case"sound":case"audio":this.element=document.createElement("audio");break;default:return}this.isDash()?this.instance=new es(this.mediaSource,u):this.isHls()?this.instance=new ts(this.mediaSource,u):this.isMpeg()?this.instance=new is(this.mediaSource,u):this.instance=new ns(this.mediaSource,u),this.element.classList.add("anno"),this.element.crossOrigin="anonymous",this.element.preload="metadata",this.instance.attachTo(this.element),this.element.currentTime=this.source.start,this.element.addEventListener("play",()=>{setTimeout(()=>{this.playWasRequested=!1,this.pauseWasRequested=!1},0)}),this.element.addEventListener("pause",()=>{setTimeout(()=>{this.playWasRequested=!1,this.pauseWasRequested=!1},0)}),this._pauseElement()}_playElement(){return this.playWasRequested=!0,this.pauseWasRequested&&(this.pauseWasRequested=!1),jt.log(`HTMLElement.play() request - ${this.element.src}`),this.element.play()}_pauseElement(){this.pauseWasRequested=!0,this.playWasRequested&&(this.playWasRequested=!1),jt.log(`HTMLElement.pause() request - ${this.element.src}`);try{this.element.pause()}catch{}}syncClock(p){if(p>this.element.duration){jt.error(`Clock synced out of bounds (max: ${this.element.duration}, got: ${p})`);return}Math.abs(this.element.currentTime-p)>this.mediaSyncMarginSecs&&(this.element.currentTime=p)}getElementTime(){return this.element.currentTime}getCanvasId(){return this.source.canvasId}isWithinRange(p){return this.source.start<=p&&this.source.end>=p}load(p=!1){return co(this,void 0,void 0,function*(){p&&this.element.load(),yield new Promise(u=>{this.element.addEventListener("loadedmetadata",()=>{u()})})})}setSize(p,u,f,g){ho(this.element).css({top:`${p}%`,left:`${u}%`,width:`${f}%`,height:`${g}%`})}isDash(){return this.format&&this.format.toString()==="application/dash+xml"&&typeof dashjs!="undefined"}isHls(){return this.format&&this.format.toString()==="application/vnd.apple.mpegurl"&&typeof Hls!="undefined"&&Hls.isSupported()}isMpeg(){return this.element.canPlayType?this.element.canPlayType("application/vnd.apple.mpegurl")!=="":!0}stop(){this._pauseElement(),this.element.currentTime=this.source.start}play(p){return jt.log(`MediaElement.play(${p}) - ${this.element.src}`),typeof p!="undefined"&&(this.element.currentTime=p),this._playElement()}pause(){jt.log(`MediaElement.pause() request - ${this.element.src}`);let p=Date.now();if(this.lastPause+1e3>p){if(this.isPausing)return;this.isPausing=!0,setTimeout(()=>{this._pauseElement(),this.isPausing=!1,this.lastPause=Date.now()},500);return}this.lastPause=Date.now(),this._pauseElement()}addEventListener(p,u){this.element.addEventListener(p,()=>{if(p==="play"){this.playWasRequested&&u();return}if(p==="pause"){this.pauseWasRequested&&u();return}u()})}getRawElement(){return this.element}isPaused(){return this.element.paused}setVolume(p){this.element.volume=p}isBuffering(){return this.element.readyState<3}};function un(t){return t}function Yn(t){return t}function lr(t){return t}function Dn(t,p){return t+p}function Oi(t,p){return t-p}function ss(t,p){return t*p}function Pr(t){return ss(t,1e3)}function Nr(t){return t/1e3}var Or=function(t,p,u,f){function g(E){return E instanceof u?E:new u(function(d){d(E)})}return new(u||(u=Promise))(function(E,d){function _(m){try{T(f.next(m))}catch(b){d(b)}}function y(m){try{T(f.throw(m))}catch(b){d(b)}}function T(m){m.done?E(m.value):g(m.value).then(_,y)}T((f=f.apply(t,p||[])).next())})},os=class{constructor(p,u,f,g,E,d){this.continuous=!0,this.playing=!1,this._time=un(0),jt.log("TimePlanPlayer",{media:p,plan:u}),this.media=p,this.plan=u,this.fullPlan=u,this.currentStop=u.stops[0];let _=()=>{};this.notifyRangeChange=f||_,this.notifyTimeChange=g||_,this.notifyPlaying=E||_,this.notifyBuffering=d||_,this.logging=!0,this.currentRange=this.currentStop.rangeStack[0],this.setTime(this.currentStop.start),p.onPlay((y,T,m)=>{y===this.currentStop.canvasId&&(this.playing||this.notifyPlaying(!0))}),p.onBuffering(()=>{this.notifyBuffering()}),p.onPause((y,T,m)=>{m.isBuffering()||y===this.currentStop.canvasId&&this.playing&&this.notifyPlaying(!1)})}selectPlan({reset:p,rangeId:u}={}){if(p)return this.initialisePlan(this.fullPlan);if(u){let f=[];for(let E of this.fullPlan.stops){let d=E.rangeStack.indexOf(u);E.rangeStack.indexOf(u)!==-1&&(f=E.rangeStack.slice(1,d+1))}let g=this.fullPlan;for(let E of f)for(let d of g.items)if(d.type==="time-plan"&&d.rangeId===E){g=d;break}if(g)return this.initialisePlan(g)}}initialisePlan(p){this.plan=p}getCurrentRange(){let p=this.currentRange,u=this.currentRange===this.currentStop.rangeId,f=u?this.plan.stops:this.fullPlan.stops,g=[],E=[];for(let y of f)y.rangeStack.indexOf(p)!==-1&&(g.push(y.start),E.push(y.end)),u&&y.rangeId===p&&(g.push(y.start),E.push(y.end));let d=Math.min(...g),_=Math.max(...E);return jt.log("Range duration",{starting:g,ending:E,rangeId:p,isRangeWithStop:u,stopsToCheck:f,start:d-this.plan.start,end:_-this.plan.start,planStart:this.plan.start,duration:_-d,currentStop:this.currentStop}),{start:d-this.plan.start,end:_-this.plan.start,duration:_-d}}getTime(){return this._time}setInternalTime(p){return this._time=p,this.notifyTimeChange(p),this._time}log(...p){this.logging&&jt.log("TimePlanPlayer",...p)}setContinuousPlayback(p){this.continuous=p}setIsPlaying(p){this.playing=p}play(){return this.log("Play",this.getTime()),this.playing||(this.setIsPlaying(!0),this.media.play(this.currentStop.canvasId).catch(p=>{console.log("Err",p),this.setIsPlaying(!1),this.notifyPlaying(!1)})),this.getTime()}currentTimelineTime(){return this.getTime()}currentMediaTime(){jt.log(`Current media time:
  - Current start: ${this.currentStop.start}
  - Current canvas: ${this.currentStop.canvasTime.start}
  - Current time: ${this.getTime()}
    `,this);let p=Oi(this.getTime(),this.currentStop.start);return lr(Dn(p,un(this.currentStop.canvasTime.start)))}pause(){return this.log("Pause",this.getTime()),this.setIsPlaying(!1),this.media.pause(),this.getTime()}setVolume(p){this.media.setVolume(p)}findStop(p){for(let u of this.plan.stops)if(u.start-.001<=p&&u.end-.001>p)return u;if(this.plan.stops[this.plan.stops.length-1].end===p)return this.plan.stops[this.plan.stops.length-1]}setTime(p,u=!0){return Or(this,void 0,void 0,function*(){if(jt.groupCollapsed(`TimeplanPlayer.setTime(${p}, ${u?"true":"false"})`),this.getTime()!==p){this.log("set time",{from:this.getTime(),to:p}),this.setInternalTime(p);let g=this.findStop(p);g&&g!==this.currentStop&&(u&&(this.currentRange=g.rangeId),yield this.advanceToStop(this.currentStop,g,void 0,p,u))}jt.groupEnd()})}next(){return Or(this,void 0,void 0,function*(){let p=this.plan.rangeOrder.indexOf(this.currentRange),f=p>=0&&p===this.plan.rangeOrder.length-1?void 0:this.plan.rangeOrder.indexOf(this.currentRange)+1,g=typeof f!="undefined"?this.plan.rangeOrder[f]:void 0,E=this.plan.stops.indexOf(this.currentStop),d=0,_,y=!0;for(;y;){if(d++,_=this.plan.stops[E+d],!_){y=!1;break}if(!_.noNav&&_.rangeId!==this.currentStop.rangeId){y=!1;break}}return this.playing&&_&&(g=_.rangeId),g&&_&&_.rangeId!==g?(this.playing||this.currentStop.rangeStack.indexOf(g)===-1&&_.rangeStack.indexOf(g)!==-1?(this.currentRange=this.playing?_.rangeId:g,this.setInternalTime(_.start),yield this.advanceToStop(this.currentStop,_,this.playing?_.rangeId:g)):(this.currentRange=g,this.setInternalTime(this.currentStop.start),yield this.advanceToStop(this.currentStop,this.currentStop,g)),this.getTime()):(_?(this.setInternalTime(_.start),this.currentRange=_.rangeId,yield this.advanceToStop(this.currentStop,_,_.rangeId)):yield this.goToEndOfRange(this.currentStop.rangeId),setTimeout(()=>{this.playing&&this.play()},100),this.getTime())})}goToEndOfRange(p){return Or(this,void 0,void 0,function*(){let u;for(let f=0;f<this.plan.stops.length;f++){let g=this.plan.stops[f];g.rangeId===p&&(!u||g.canvasIndex>=u.canvasIndex&&g.end>u.end)&&(u=g)}u&&(yield this.advanceToStop(this.currentStop,u,p),this.setInternalTime(u.end))})}goToStartOfRange(p){let u,f=this.plan.stops.length;for(let g=f-1;g>=0;g--){let E=this.plan.stops[g];E.rangeId===p&&(!u||E.canvasIndex<=u.canvasIndex&&E.start<u.start)&&(u=E)}u&&(u!==this.currentStop&&this.advanceToStop(this.currentStop,u,p),this.setInternalTime(u.start))}previous(){let f=this.plan.rangeOrder.indexOf(this.currentRange)===0?void 0:this.plan.rangeOrder.indexOf(this.currentRange)-1,g=typeof f!="undefined"?this.plan.rangeOrder[f]:void 0,E=this.currentStop,d=this.plan.stops.indexOf(this.currentStop),_=d,y=this.plan.stops[d-1],T=this.plan.stops[0],m=!0,b=H=>!H.noNav||H===T;for(;m;){let H=this.plan.stops[_-1];if(!H){m=!1;break}if(b(H)&&b(y)&&(H.rangeId===this.currentRange&&(E=H),y.rangeId!==H.rangeId)){m=!1;break}H&&(b(H)&&(y=H),_=_-1)}let A=this._time-(E.start+2)>0,C=this.playing&&y&&y.rangeId!==this.currentStop.rangeId,R=d===0||!g&&_===0,N=g&&this.currentStop.rangeStack.indexOf(g)===-1&&(y.rangeStack.indexOf(g)!==-1||y.rangeId===g),M=g&&this.currentStop.rangeStack.indexOf(g)!==-1;return jt.log("TimePlanPlayer.previous() => variables",{goBackToStartOfRange:A,isPreviousRangeDifferent:C,isDefinitelyFirstRange:R,isPreviousRangeNotAParent:N,isPreviousRangeInStack:M,prevStop:y}),A?(jt.log("TimePlanPlayer.previous() => goBackToStartOfRange",{currentStopHead:E}),E!==this.currentStop&&this.advanceToStop(this.currentStop,E,E.rangeId),this.setInternalTime(E.start),this.getTime()):(C&&(g=y.rangeId),R?(this.goToStartOfRange(g||this.currentStop.rangeId),g&&this.currentStop.rangeId!==g&&(this.currentRange=g,this.advanceToStop(this.currentStop,E,g)),this.getTime()):g&&(N||y===T)?(this.setInternalTime(y.start),this.currentRange=g,this.advanceToStop(this.currentStop,y,g),this.getTime()):g&&M?(this.setInternalTime(this.currentStop.start),this.currentRange=g,this.advanceToStop(this.currentStop,E,g),this.getTime()):this.getTime())}setRange(p){if(jt.log("setRange",p),p===this.currentRange)return this.getTime();if(this.currentRange=p,p===this.currentStop.rangeId)return this.getTime();for(let u of this.plan.stops)if(u.rangeId===p){this.setInternalTime(u.start),this.advanceToStop(this.currentStop,u,p,void 0,!this.playing);break}for(let u of this.plan.stops)if(u.rangeStack.indexOf(p)!==-1){this.setInternalTime(u.start),this.advanceToStop(this.currentStop,u,p,void 0,!this.playing);break}return this.getTime()}isBuffering(){return this.media.isBuffering()}advanceToTime(p,u){jt.groupCollapsed(`TimeplanPlayer.advanceToTime(${p}, ${u?"true":"false"})`);let f=this.findStop(p);return f&&this.currentStop!==f?(jt.log("advanceToTime.a"),this.setInternalTime(p),this.advanceToStop(this.currentStop,f,void 0,p,u),jt.groupEnd(),{buffering:this.isBuffering(),time:p}):(this.playing&&this.currentRange!==this.currentStop.rangeId&&(this.currentRange=this.currentStop.rangeId,this.notifyRangeChange(this.currentStop.rangeId,{from:this.currentStop,to:this.currentStop})),f?(jt.log("advanceToTime.c",{time:this.getTime()}),this.setInternalTime(p),this.media.syncClock(this.currentMediaTime()),jt.groupEnd(),{time:p}):(jt.log("advanceToTime.b"),this.pause(),this.setTime(this.currentStop.end),jt.groupEnd(),{paused:!0,buffering:this.isBuffering(),time:this.currentStop.end}))}hasEnded(){return this.currentStop.end===this.getTime()}advanceToStop(p,u,f,g,E){return Or(this,void 0,void 0,function*(){if(jt.log("TimeplanPlayer.advanceToStop",{from:p,to:u,rangeId:f}),p===u){f&&this.notifyRangeChange(f||u.rangeId,{to:u,from:p});return}let d;this.log("advanceToStop",u.start);let _=this.currentStop.canvasId!==u.canvasId;this.currentStop=u,this.setInternalTime(typeof g!="undefined"?g:u.start),_&&!E?d=this.media.play(u.canvasId,this.currentMediaTime()):(this.log(`advanceToStop -> seekToMediaTime.play(${this.currentMediaTime()})`),d=this.media.seekToMediaTime(this.currentMediaTime(),u.canvasId)),this.notifyRangeChange(f||u.rangeId,{to:u,from:p}),yield d})}getStartTime(){return this.plan.start}getDuration(){return this.plan.duration}};var ur=["application/vnd.apple.mpegurl","vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];function Un(t){return ur.includes(t.toString())}function Hn(t){return t.toString()==="application/dash+xml"}function fr(){let t=typeof document=="object"&&document,p=t&&t.createElement("video");return Boolean(p&&p.canPlayType)&&ur.some(f=>p?/maybe|probably/i.test(p.canPlayType(f)):!1)}function dr(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function as(t){let p=t.getBody();if(!p.length)return null;for(let u=0;u<p.length;u++){let f=p[u],g=f.getFormat();if(g&&Un(g)&&fr())return f}for(let u=0;u<p.length;u++){let f=p[u],g=f.getFormat();if(g&&Hn(g)&&!dr())return f}for(let u=0;u<p.length;u++){let f=p[u],g=f.getFormat();if(g&&!Un(g)&&!Hn(g))return f}return null}var ls=Vn(),us=class extends zn{constructor(p){super(p);this._lastVolume=1,this._data={volume:1},this._init(),this._resize()}_init(){let p=super._init();this._$element=ls(this.el),p||jt.error("Component failed to initialise"),this._$volumeMute=ls(`
      <button class="btn volume-mute" title="${this.options.data.content.mute}">
          <i class="av-icon av-icon-mute on" aria-hidden="true"></i>
          <span class="sr-only>${this.options.data.content.mute}</span>
      </button>
    `),this._$volumeSlider=ls('<div class="volume-slider"></div>'),this._$element.append(this._$volumeMute,this._$volumeSlider);let u=this;return this._$volumeMute.on("touchstart click",f=>{f.preventDefault(),this._data.volume!==0?(this._lastVolume=this._data.volume,this._data.volume=0):this._data.volume=this._lastVolume,this.fire(hn.VOLUME_CHANGED,this._data.volume)}),this._$volumeSlider.slider({value:u._data.volume,step:.1,orientation:"horizontal",range:"min",min:0,max:1,animate:!1,create:function(){},slide:function(f,g){u._data.volume=g.value,u._data.volume===0&&(u._lastVolume=0),u.fire(hn.VOLUME_CHANGED,u._data.volume)},stop:function(f,g){}}),p}set(p){this._data=Object.assign(this._data,p),this._render()}_render(){if(this._data.volume!==void 0)if(this._$volumeSlider.slider({value:this._data.volume}),this._data.volume===0){let p=this.options.data.content.unmute;this._$volumeMute.prop("title",p),this._$volumeMute.find("i").switchClass("on","off")}else{let p=this.options.data.content.mute;this._$volumeMute.prop("title",p),this._$volumeMute.find("i").switchClass("off","on")}}_resize(){}};var kr=function(t,p,u,f){function g(E){return E instanceof u?E:new u(function(d){d(E)})}return new(u||(u=Promise))(function(E,d){function _(m){try{T(f.next(m))}catch(b){d(b)}}function y(m){try{T(f.throw(m))}catch(b){d(b)}}function T(m){m.done?E(m.value):g(m.value).then(_,y)}T((f=f.apply(t,p||[])).next())})},fs=class{constructor(p){this.elements=[],this.playing=!1,this.canvasMap={},this._onPlay=[],this._onPause=[],this._onBuffering=[],jt.log("Composite media element",p),this.elements=p;for(let u of p){let f=u.getCanvasId();this.canvasMap[f]=this.canvasMap[f]?this.canvasMap[f]:[],this.canvasMap[f].push(u),u.addEventListener("play",()=>{u===this.activeElement&&(jt.log("HTMLElement.play() response",{paused:u.getRawElement().paused,readState:u.getRawElement().readyState}),this._onPlay.forEach(g=>g(f,u.getElementTime(),u)))}),u.addEventListener("pause",()=>{u===this.activeElement&&(jt.log("HTMLElement.pause() response"),this._onPause.forEach(g=>g(f,u.getElementTime(),u)))}),u.addEventListener("waiting",()=>{u===this.activeElement&&this._onBuffering.forEach(g=>g(f,u.getElementTime(),u))})}this.activeElement=p[0]}syncClock(p,u){if(jt.group("CompositeMediaElement.syncClock"),jt.log(`syncClock: ${p}`),jt.log({fromTime:p,toTime:p,instance:this}),this.activeElement){let f=u||this.activeElement.getCanvasId();this.updateActiveElement(f,p,this.playing);let g=Oi(p,this.activeElement.source.start);this.activeElement.syncClock(g)}jt.groupEnd()}updateActiveElement(p,u,f){let g=this.findElementInRange(p,u);return this.activeElement&&g&&g!==this.activeElement?(jt.log(`CompositeMediaElement.updateActiveElement(canvasId: ${p}, time: ${u})`,{canvasId:g?g.source.canvasId:null,newElement:g}),this.activeElement.stop(),this.activeElement=g,f&&g.play(u),g):null}onPlay(p){this._onPlay.push(p)}onPause(p){this._onPause.push(p)}onBuffering(p){this._onBuffering.push(p)}findElementInRange(p,u){if(!!this.canvasMap[p]){for(let f of this.canvasMap[p].reverse())if(f.isWithinRange(u))return f}}appendTo(p){p.append(this.elements.map(u=>u.getRawElement()))}load(){return kr(this,void 0,void 0,function*(){yield Promise.all(this.elements.map(p=>p.load()))})}seekToMediaTime(p,u){return kr(this,void 0,void 0,function*(){let f=this.activeElement;if(jt.groupCollapsed("Buffering"),this.activeElement){let g=u||this.activeElement.getCanvasId(),E=this.updateActiveElement(g,p,!1),d=Oi(p,this.activeElement.source.start),_,y=new Promise(T=>_=T);if(this.playing){if(jt.log(`CompositeMediaElement.seekToMediaItem(${p})`),yield this.activeElement.play(d).catch(T=>{console.log("ERROR",T),this.playing=!1}),f!==this.activeElement&&E&&(jt.log("Active element changed..."),E.isBuffering()||E.isPaused())){let m=setInterval(()=>{this.isBuffering()||_()},200);yield y,clearInterval(m),jt.log("ActiveElement nudge (play)"),yield E.play()}}else this.activeElement.syncClock(d)}jt.groupEnd()})}seekTo(p,u){return kr(this,void 0,void 0,function*(){return this.updateActiveElement(p,u),this.seekToMediaTime(u)})}play(p,u){return kr(this,void 0,void 0,function*(){if(this.playing=!0,p&&typeof u!="undefined"&&(yield this.seekTo(p,u)),this.activeElement)return jt.log(`CompositeMediaElement.play(${p}, ${u})`),this.activeElement.play(u).catch(f=>{console.log("err",f),this.playing=!1})})}pause(){jt.log("Composite.pause()"),this.playing=!1,this.activeElement&&!this.activeElement.isPaused()&&this.activeElement.pause()}setVolume(p){for(let u of this.elements)u.setVolume(p)}isBuffering(){return this.activeElement?this.activeElement.isBuffering():!1}};function ds(t){let p=(g,E=[],d=un(0))=>{let _=E,y=g.id,T=g.getBehavior(),m=T==="no-nav";T==="no-nav"&&(_=_.slice(0,-1),y=_[_.length-1]);let b={type:"time-plan",canvases:[],duration:un(0),items:[],stops:[],rangeOrder:m?[]:[y],end:un(0),start:d,rangeId:y,rangeStack:_,noNav:m},A=d,C=[...g.items,...g.getCanvasIds()];for(let R=0;R<C.length;R++){let N=C[R];if(typeof N=="string"){let[,M,H,Y]=N.match(/(.*)#t=([0-9.]+),?([0-9.]+)?/)||[void 0,N,"0","0"];if(!M||typeof H=="undefined"||typeof Y=="undefined")continue;if(t.getSequenceByIndex(0).getCanvasById(M)===null)throw new Error("Canvas not found..");let x=b.canvases.indexOf(M);x===-1&&(b.canvases.push(M),x=b.canvases.indexOf(M));let o=Yn(parseFloat(H||"0")),G=Yn(parseFloat(Y||"0")),I=un(G-o);A=Dn(I,A);let O={type:"time-stop",canvasIndex:x,start:Oi(A,I),end:A,duration:I,rangeId:y,canvasId:M,rawCanvasSelector:N,canvasTime:{start:o,end:G},rangeStack:_,noNav:m};b.stops.push(O),b.items.push(O)}else{let M=p(N,[..._,N.id],A);A=Dn(A,M.duration);for(let H of M.canvases)b.canvases.indexOf(H)===-1&&b.canvases.push(H);b.stops.push(...M.stops.map(H=>Object.assign(Object.assign({},H),{canvasIndex:b.canvases.indexOf(H.canvasId)}))),b.items.push(M),b.rangeOrder.push(...M.rangeOrder)}}return b.end=A,b.duration=un(b.end-b.start),b},u=t.getTopRanges(),f=[];u||(u=t.getAllRanges()),u.length===1&&!u[0].id&&(u=u[0].getRanges());for(let g of u){g.getRanges()[0]&&g.id===g.getRanges()[0].id&&(g=g.getRanges()[0]);let d=p(g,[g.id]);f.push(d)}return f[0]}var Us=Cn(Ln());function cr(t){let p=/xywh=([^&]+)/g.exec(t),u=null;return p&&p[1]&&(u=p[1].split(",")),u}function cs(t,p,u){let f=p.getType(),g=p.getFormat()||void 0,E=p.id.split("#")[0],d=t.getTarget();if(!d)throw new Error("No target");if(!f)throw new Error("Unknown media type");let[_,y,T,m]=cr(d)||[0,0,u.width||0,u.height||0],[b,A]=Us.Utils.getTemporalComponent(d)||[0,u.duration],[,C,R,N]=p.id.match(/(.*)#t=([0-9.]+),?([0-9.]+)?/)||[void 0,p.id,void 0,void 0];return{type:f,format:g,mediaSource:E,canvasId:u.id,x:_,y,width:typeof T=="undefined"?void 0:parseInt(String(T),10),height:typeof m=="undefined"?void 0:parseInt(String(m),10),start:lr(Number(Number(b).toFixed(2))),end:lr(Number(Number(A).toFixed(2))),bodyId:C,offsetStart:typeof R=="undefined"?void 0:Yn(parseFloat(R)),offsetEnd:typeof N=="undefined"?void 0:Yn(parseFloat(N))}}var hs=class{constructor(p){this.length=0,this.duration=0,this.pixelsPerSecond=Number.MAX_VALUE,this.secondsPerPixel=Number.MAX_VALUE,this.timeIndex={},this.minIndex={},this.maxIndex={},this._waveforms=[],p.forEach(u=>{this._waveforms.push({start:this.length,end:this.length+u.adapter.length,waveform:u}),this.length+=u.adapter.length,this.duration+=u.duration,this.pixelsPerSecond=Math.min(this.pixelsPerSecond,u.pixels_per_second),this.secondsPerPixel=Math.min(this.secondsPerPixel,u.seconds_per_pixel)})}min(p){if(typeof this.minIndex[p]=="undefined"){let u=this._find(p);this.minIndex[p]=u?u.waveform.min_sample(p-u.start):0}return this.minIndex[p]}max(p){if(typeof this.maxIndex[p]=="undefined"){let u=this._find(p);this.maxIndex[p]=u?u.waveform.max_sample(p-u.start):0}return this.maxIndex[p]}_find(p){if(typeof this.timeIndex[p]=="undefined"){let u=this._waveforms.find(f=>p>=f.start&&p<f.end);if(!u)return null;this.timeIndex[p]=u}return this.timeIndex[p]}};var wi=class{};wi.PLAY="play";wi.PAUSE="pause";wi.MEDIA_READY="mediaready";wi.LOG="log";wi.RANGE_CHANGED="rangechanged";wi.WAVEFORM_READY="waveformready";wi.WAVEFORMS_READY="waveformsready";function Sn(t){let p,u,f,g;return f=Math.ceil(t),p=Math.floor(f/(60*60)),p=p>=10?p:"0"+p,u=Math.floor(f%(60*60)/60),u=u>=10?u:"0"+u,f=Math.floor(f%(60*60)%60),f=f>=10?f:"0"+f,p>=1?g=p+":":g="",g+u+":"+f}function ps(t,p,u){return(t-p)/(u-p)}function Hs(t,p){let u=[];return Object.keys(t).forEach(f=>{Object.is(p[f],t[f])||u.push(f)}),u}function hr(t,p){return Array.from(new Set(Hs(t,p).concat(Hs(p,t))))}function pr(t){return t?t instanceof Bn:!1}var ro=Cn(no()),mr=function(t,p,u,f){function g(E){return E instanceof u?E:new u(function(d){d(E)})}return new(u||(u=Promise))(function(E,d){function _(m){try{T(f.next(m))}catch(b){d(b)}}function y(m){try{T(f.throw(m))}catch(b){d(b)}}function T(m){m.done?E(m.value):g(m.value).then(_,y)}T((f=f.apply(t,p||[])).next())})},Ii=Vn(),ms=class extends zn{constructor(p){super(p);this._canvasClockFrequency=25,this._canvasClockStartDate=0,this._canvasClockTime=0,this._canvasHeight=0,this._canvasWidth=0,this._data=this.data(),this._highPriorityFrequency=25,this._isPlaying=!1,this._isStalled=!1,this._lowPriorityFrequency=250,this._mediaSyncMarginSecs=1,this._rangeSpanPadding=.25,this._readyMediaCount=0,this._stallRequestedBy=[],this._wasPlaying=!1,this.ranges=[],this.waveforms=[],this._buffering=!1,this._bufferShown=!1,this.isOnlyCanvasInstance=!1,this.autoAdvanceRanges=!0,this.waveformDeltaX=0,this.waveformPageX=0,this.waveFormInit=!1,this._scaleY=(u,f)=>{let g=256;return Math.max(this._data.waveformBarWidth,u*f/g)},this._$element=Ii(this.options.target),this._data=this.options.data,this.$playerElement=Ii('<div class="player player--loading"></div>')}loaded(){setTimeout(()=>{this.$playerElement.removeClass("player--loading")},500)}isPlaying(){return this._isPlaying}getClockTime(){return this._canvasClockTime}createTimeStops(){let p=this._data.helper,u=this._data.canvas;if(!p||!u)return;this.ranges=[],this._contentAnnotations=[];let f=u.canvases,g=[];for(let _ of f){let y=_.getContent();for(let T of y){let m=as(T);if(!m)continue;let b=cs(T,m,{id:_.id,duration:_.getDuration()||0,height:_.getHeight(),width:_.getWidth()}),A=new rs(b,{adaptiveAuthEnabled:this._data.adaptiveAuthEnabled});A.setSize(this._convertToPercentage(b.x||0,_.getHeight()),this._convertToPercentage(b.y||0,_.getWidth()),this._convertToPercentage(b.width||_.getWidth(),_.getWidth()),this._convertToPercentage(b.height||_.getHeight(),_.getHeight())),g.push(A);let C=T.getProperty("seeAlso");if(C&&C.length){let R=C[0].id;this.waveforms.push(R)}}}let E=new fs(g);E.appendTo(this.$playerElement),E.load().then(()=>{this.fire(wi.MEDIA_READY)});let d=ds(p.manifest,g);window.timePlanPlayer=this.timePlanPlayer=new os(E,d,_=>{this.setCurrentRangeId(_,{autoChanged:!0})},_=>{this._canvasClockTime=_},_=>{this._buffering||(_?this.play(!0):this.pause(!0))},()=>{this._buffering=!0})}init(){if(!this._data||!this._data.content||!this._data.canvas){jt.warn("unable to initialise, missing canvas or content");return}this._$hoverPreviewTemplate=Ii('<div class="hover-preview"><div class="label"></div><div class="pointer"><span class="arrow"></span></div></div>'),this._$canvasContainer=Ii('<div class="canvas-container"></div>'),this._$optionsContainer=Ii('<div class="options-container"></div>'),this._$rangeTimelineContainer=Ii('<div class="range-timeline-container"></div>'),this._$canvasTimelineContainer=Ii('<div class="canvas-timeline-container"></div>'),this._$canvasHoverPreview=this._$hoverPreviewTemplate.clone(),this._$canvasHoverHighlight=Ii('<div class="hover-highlight"></div>'),this._$rangeHoverPreview=this._$hoverPreviewTemplate.clone(),this._$rangeHoverHighlight=Ii('<div class="hover-highlight"></div>'),this._$durationHighlight=Ii('<div class="duration-highlight"></div>'),this._$timelineItemContainer=Ii('<div class="timeline-item-container"></div>'),this._$controlsContainer=Ii('<div class="controls-container"></div>'),this._$prevButton=Ii(`
                                <button class="btn" title="${this._data.content.previous}">
                                    <i class="av-icon av-icon-previous" aria-hidden="true"></i>
                                    <span class="sr-only>${this._data.content.previous}</span>
                                </button>`),this._$playButton=Ii(`
                                <button class="btn" title="${this._data.content.play}">
                                    <i class="av-icon av-icon-play play" aria-hidden="true"></i>
                                    <span class="sr-only>${this._data.content.play}</span>
                                </button>`),this._$nextButton=Ii(`
                                <button class="btn" title="${this._data.content.next}">
                                    <i class="av-icon av-icon-next" aria-hidden="true"></i>
                                    <span class="sr-only>${this._data.content.next}</span>
                                </button>`),this._$fastForward=Ii(`
                                <button class="btn" title="${this._data.content.next}">
                                    <i class="av-icon av-icon-fast-forward" aria-hidden="true"></i>
                                    <span class="sr-only>
                                    ${this._data.content.fastForward||""}
                                    </span>
                                </button>`),this._$fastRewind=Ii(`
                                <button class="btn" title="${this._data.content.next}">
                                    <i class="av-icon av-icon-fast-rewind" aria-hidden="true"></i>
                                    <span class="sr-only>
                                    ${this._data.content.fastRewind||""}
                                    </span>
                                </button>`),this._$timeDisplay=Ii('<div class="time-display"><span class="canvas-time"></span> / <span class="canvas-duration"></span></div>'),this._$canvasTime=this._$timeDisplay.find(".canvas-time"),this._$canvasDuration=this._$timeDisplay.find(".canvas-duration"),this.isVirtual()&&this.$playerElement.addClass("virtual");let p=Ii('<div class="volume"></div>');this._volume=new us({target:p[0],data:Object.assign({},this._data)}),this._volume.on(hn.VOLUME_CHANGED,T=>{this.fire(hn.VOLUME_CHANGED,T)},!1),this._$controlsContainer.append(this._$prevButton,this._data.enableFastRewind?this._$fastRewind:null,this._$playButton,this._data.enableFastForward?this._$fastForward:null,this._$nextButton,this._$timeDisplay,p),this._$canvasTimelineContainer.append(this._$canvasHoverPreview,this._$canvasHoverHighlight,this._$durationHighlight),this._$rangeTimelineContainer.append(this._$rangeHoverPreview,this._$rangeHoverHighlight),this._$optionsContainer.append(this._$canvasTimelineContainer,this._$rangeTimelineContainer,this._$controlsContainer),this.$playerElement.append(this._$canvasContainer,this._$optionsContainer),this._$canvasHoverPreview.hide(),this._$rangeHoverPreview.hide();let u=this.isVirtual()&&yi.newRanges;if(u&&this.createTimeStops(),!u&&this._data&&this._data.helper&&this._data.canvas){let T=[];pr(this._data.canvas)?this._data.canvas.canvases.forEach(m=>{if(this._data&&this._data.helper){let b=this._data.helper.getCanvasRanges(m),A=[];b.forEach(C=>{let R=jQuery.extend(!0,{},C);if(A.push(R),R.canvases&&R.canvases.length)for(let N=0;N<R.canvases.length;N++)pr(this._data.canvas)&&(R.canvases[N]=ar(this._data.canvas.canvases,R.__jsonld.items[N].id))}),T.push(...A)}}):T=T.concat(this._data.helper.getCanvasRanges(this._data.canvas)),T.forEach(m=>{this.ranges.push(m)})}let f=this._data.canvas.getWidth(),g=this._data.canvas.getHeight();f?this._canvasWidth=f:this._canvasWidth=this.$playerElement.parent().width(),g?this._canvasHeight=g:this._canvasHeight=this._canvasWidth*(this._data.defaultAspectRatio||1);let E=this,d=0,_=0;if(this._$prevButton.on("touchstart click",T=>{T.preventDefault(),d++,d===1?(this._previous(!1),_=setTimeout(()=>{d=0,_=0},this._data.doubleClickMS)):(this._previous(!0),clearTimeout(_),d=0,_=0)}),this._$playButton.on("touchstart click",T=>{T.preventDefault(),this._isPlaying?this.pause():this.play()}),this._$nextButton.on("touchstart click",T=>{T.preventDefault(),this._next()}),this._$fastForward.on("touchstart click",T=>{let{end:m}=this.getRangeTiming(),b=Dn(this.getClockTime(),20);return b<m?this._setCurrentTime(b):this._setCurrentTime(m)}),this._$fastRewind.on("touchstart click",T=>{let{start:m}=this.getRangeTiming(),b=Oi(this.getClockTime(),20);return b>=m?this._setCurrentTime(b):this._setCurrentTime(m)}),u?this._$canvasTimelineContainer.slider({value:0,step:.01,orientation:"horizontal",range:"min",min:0,max:this.timePlanPlayer.getDuration(),animate:!1,slide:(T,m)=>{this._setCurrentTime(this.timePlanPlayer.plan.start+m.value)}}):this._$canvasTimelineContainer.slider({value:0,step:.01,orientation:"horizontal",range:"min",max:E._getDuration(),animate:!1,create:function(T,m){},slide:function(T,m){E._setCurrentTime(m.value)},stop:function(T,m){}}),this._$canvasTimelineContainer.mouseout(()=>{E._$canvasHoverHighlight.width(0),E._$canvasHoverPreview.hide()}),this._$rangeTimelineContainer.mouseout(()=>{E._$rangeHoverHighlight.width(0),E._$rangeHoverPreview.hide()}),this._$canvasTimelineContainer.on("mousemove",T=>{u?this._updateHoverPreview(T,this._$canvasTimelineContainer,this.timePlanPlayer.getDuration()):this._updateHoverPreview(T,this._$canvasTimelineContainer,this._getDuration())}),this._$rangeTimelineContainer.on("mousemove",T=>{if(u)this._updateHoverPreview(T,this._$canvasTimelineContainer,this.timePlanPlayer.getDuration());else if(this._data.range){let m=this._data.range.getDuration();this._updateHoverPreview(T,this._$rangeTimelineContainer,m?m.getLength():0)}}),u)return;this._contentAnnotations=[];let y=this._data.canvas.getContent();this._$timelineItemContainer.hide();for(let T=0;T<y.length;T++){let m=y[T],b,A=m.getBody();if(!A.length){jt.warn("item has no body");return}let C=this._getBody(A);if(!C){jt.warn("unable to find suitable format for",m.id);continue}let R=C.getType(),N=C.getFormat();R&&R.toString()==="textualbody"||(b=C.id.split("#")[0]);let M=m.getTarget();if(!M){jt.warn("item has no target");return}let H=cr(M),Y=gs.Utils.getTemporalComponent(M);H||(H=[0,0,this._canvasWidth,this._canvasHeight]),Y||(Y=[0,this._getDuration()]);let j=parseInt(String(H[0])),x=parseInt(String(H[1])),o=parseInt(String(H[2])),G=parseInt(String(H[3])),I=parseInt(String(Y[0])),O=parseInt(String(Y[1])),q=this._convertToPercentage(x,this._canvasHeight),Q=this._convertToPercentage(j,this._canvasWidth),pe=this._convertToPercentage(o,this._canvasWidth),re=this._convertToPercentage(G,this._canvasHeight),le=/t=([^&]+)/g.exec(C.id),ee;le&&le[1]?ee=le[1].split(","):ee=[null,null];let be=ee[0]?parseInt(ee[0]):ee[0],ie=ee[1]?parseInt(ee[1]):ee[1],Te={active:!1,end:O,endOffset:ie,format:N,height:re,left:Q,source:b,start:I,startOffset:be,top:q,type:R,width:pe};this._renderMediaElement(Te);let ve=m.getProperty("seeAlso");if(ve&&ve.length){let fe=ve[0].id;this.waveforms.push(fe)}}}_getBody(p){for(let u=0;u<p.length;u++){let f=p[u],g=f.getFormat();if(g&&Un(g)&&fr())return f}for(let u=0;u<p.length;u++){let f=p[u],g=f.getFormat();if(g&&Hn(g)&&!dr())return f}for(let u=0;u<p.length;u++){let f=p[u],g=f.getFormat();if(g&&!Un(g)&&!Hn(g))return f}return null}_getDuration(){return this.isVirtual()&&yi.newRanges?this.timePlanPlayer.getDuration():this._data&&this._data.canvas?Math.floor(this._data.canvas.getDuration()):0}data(){return{waveformColor:"#fff",waveformBarSpacing:4,waveformBarWidth:2,volume:1}}isVirtual(){return this._data.canvas instanceof Bn}isVisible(){return!!this._data.visible}includesVirtualSubCanvas(p){if(pr(this._data.canvas)&&this._data.canvas&&this._data.canvas.canvases)for(let u=0;u<this._data.canvas.canvases.length;u++){let f=this._data.canvas.canvases[u];if(gs.Utils.normaliseUrl(f.id)===p)return!0}return!1}setVisibility(p){this._data.visible!==p&&(this._data.visible=p,p?(this._rewind(),this.$playerElement.show()):(this.$playerElement.hide(),this.pause()),this.resize())}viewRange(p){if(this.currentRange!==p){if(jt.log(`Switching range from ${this.currentRange} to ${p}`),this.setCurrentRangeId(p),yi.newRanges&&this.isVirtual())this._setCurrentTime(this.timePlanPlayer.setRange(p),!0);else{let u=this._data.helper.getRangeById(p);this.set({range:jQuery.extend(!0,{autoChanged:!0},u)})}this._render()}}setCurrentRangeId(p,{autoChanged:u=!1,limitToRange:f=!1}={}){u&&!this.autoAdvanceRanges||(jt.log("Setting current range id",p),p&&this.currentRange!==p?(this.currentRange=p,this.fire(wi.RANGE_CHANGED,p)):p===null&&(this.currentRange=void 0,this.fire(wi.RANGE_CHANGED,null)),this._render())}setVolume(p){this._volume.set({volume:p}),yi.newRanges&&this.isVirtual()&&this.timePlanPlayer.setVolume(p)}setLimitToRange(p){jt.log(this._data.constrainNavigationToRange),this.limitToRange!==p&&(this.limitToRange=p,this._render())}set(p){if(yi.newRanges&&this.isVirtual()){typeof p.range!="undefined"&&this.setCurrentRangeId(p.range.id,{limitToRange:p.limitToRange}),typeof p.rangeId!="undefined"&&this.setCurrentRangeId(p.rangeId,{limitToRange:p.limitToRange}),typeof p.volume!="undefined"&&this.setVolume(p.volume),typeof p.limitToRange!="undefined"&&this.setLimitToRange(p.limitToRange),typeof p.visible!="undefined"&&this.setVisibility(p.visible);return}let u=Object.assign({},this._data);this._data=Object.assign(this._data,p);let f=hr(u,this._data);if(f.includes("visible")&&this._data.canvas&&(this._data.visible?(this._rewind(),this.$playerElement.show()):(this.$playerElement.hide(),this.pause()),this.resize()),f.includes("volume")?this._contentAnnotations.forEach(g=>{let E=this._data.volume!==void 0?this._data.volume:1;Ii(g.element).prop("volume",E),this._volume.set({volume:this._data.volume})}):this.isVisible()&&this._render(),f.includes("range")){if(this._data.helper)if(!this._data.range)this.fire(wi.RANGE_CHANGED,null);else{let g=this._data.range.getDuration();g&&typeof g!="undefined"&&((g.start>=this._canvasClockTime||g.end<=this._canvasClockTime)&&this._setCurrentTime(g.start),this._data.autoPlay&&this.play(),this.fire(wi.RANGE_CHANGED,this._data.range.id,this._data.range))}f.includes("limitToRange")&&this._render()}}_hasRangeChanged(){if(this.isVirtual()&&yi.newRanges)return;let p=this._getRangeForCurrentTime();p&&!this._data.limitToRange&&(!this._data.range||this._data.range&&p.id!==this._data.range.id)&&this.set({range:jQuery.extend(!0,{autoChanged:!0},p)})}_getRangeForCurrentTime(p){let u;p?u=p.getRanges():u=this.ranges;for(let f=0;f<u.length;f++){let g=u[f],E=g.getBehavior();if(!(E&&E!=="no-nav")&&this._rangeSpansCurrentTime(g)){if(this._rangeNavigable(g))return g;let d=g.getRanges();for(let _=0;_<d.length;_++){let y=d[_];if(this._rangeSpansCurrentTime(y))return this._getRangeForCurrentTime(y)}return g.parentRange}}}_rangeSpansCurrentTime(p){return!!p.spansTime(Math.ceil(this._canvasClockTime)+this._rangeSpanPadding)}_rangeNavigable(p){let u=p.getBehavior();return!(u&&u.toString()==="no-nav")}_render(){if(this.isVirtual()&&yi.newRanges&&this.isVisible()){jt.groupCollapsed("CanvasInstance._render()"),jt.log({dataRange:this._data.rangeId,range:this.currentRange,newLimitToRange:this.limitToRange,constraintToRange:this._data.constrainNavigationToRange,autoSelectRange:this._data.autoSelectRange}),this.limitToRange&&this.currentRange?(jt.log("Selecting plan...",this.currentRange),this.timePlanPlayer.selectPlan({rangeId:this.currentRange})):(jt.log("Resetting..."),this.timePlanPlayer.selectPlan({reset:!0}));let p=this._$canvasTimelineContainer.width()/this.timePlanPlayer.getDuration();this._$durationHighlight.show();let{start:u,duration:f}=this.timePlanPlayer.getCurrentRange();this._$canvasTimelineContainer.slider({value:this._canvasClockTime-this.timePlanPlayer.plan.start,max:this.timePlanPlayer.getDuration()}),this._$durationHighlight.css({left:u*p,width:f*p}),jt.groupEnd(),this._updateCurrentTimeDisplay(),this._updateDurationDisplay(),this._drawWaveform()}if(this._data.limitToRange&&this._data.range?(this._$canvasTimelineContainer.hide(),this._$rangeTimelineContainer.show()):(this._$canvasTimelineContainer.show(),this._$rangeTimelineContainer.hide()),this.currentRange||this._$durationHighlight.hide(),!!this.isVisible()&&!(!this.isOnlyCanvasInstance&&!this.isVirtual())){if(this._data.range&&!(this.isVirtual()&&yi.newRanges)){let p=this._data.range.getDuration();if(p){let u=this._getDuration(),g=this._$canvasTimelineContainer.width()/u,E=u*g,d=p.start*g,_=p.end*g;(_>E||_<d)&&(_=E);let y=_-d;this.isVirtual()||this.isOnlyCanvasInstance?(this._$durationHighlight.show(),this._$durationHighlight.css({left:d,width:y})):this._$durationHighlight.hide();let T=this;this._$rangeTimelineContainer.data("ui-sortable")&&this._$rangeTimelineContainer.slider("destroy"),this._$rangeTimelineContainer.slider({value:p.start,step:.01,orientation:"horizontal",range:"min",min:p.start,max:p.end,animate:!1,create:function(m,b){},slide:function(m,b){T._setCurrentTime(b.value)},stop:function(m,b){}})}}this._updateCurrentTimeDisplay(),this._updateDurationDisplay(),this._drawWaveform()}}getCanvasId(){if(this._data&&this._data.canvas)return this._data.canvas.id}_updateHoverPreview(p,u,f){let g=u.offset()||{left:0},E=p.pageX-g.left,d=u.find(".arrow"),_=u.find(".hover-highlight"),y=u.find(".hover-preview");_.width(E);let T=u.width(),m=E/T,b=Math.min(f*m);y.find(".label").text(Sn(b));let A=y.outerWidth(),C=y.outerHeight(),R=E-A*.5,N=A*.5-6;R<0&&(R=0,N=E-6),R+A>T&&(R=T-A,N=A-(T-E)-6),y.css({left:R,top:C*-1+"px"}).show(),d.css({left:N})}_previous(p){if(yi.newRanges&&this.isVirtual()){if(this._data.limitToRange){this._setCurrentTime(this.timePlanPlayer.plan.start,!1);return}jt.group("CanvasInstance.previous()"),this._buffering=!0;let u=this.timePlanPlayer.previous();this._setCurrentTime(u),jt.log("CanvasInstance.previous()",u),this._buffering=!1,jt.groupEnd();return}this._data.limitToRange?p?this._isNavigationConstrainedToRange()?this._rewind():this.fire(Qi.PREVIOUS_RANGE):this._rewind():this._data.range?p?(this.set({range:void 0}),this._rewind()):this.fire(Qi.PREVIOUS_RANGE):this._rewind()}_next(){return mr(this,void 0,void 0,function*(){if(yi.newRanges&&this.isVirtual()){if(this._data.limitToRange){yield this._setCurrentTime(this.timePlanPlayer.plan.end,!1);return}jt.groupCollapsed("next"),this._buffering=!0;let p=yield this.timePlanPlayer.next();jt.log("CanvasInstance.next()",p),yield this._setCurrentTime(p,!1),this._buffering=!1,jt.groupEnd();return}this._data.limitToRange?this._isNavigationConstrainedToRange()?this._fastforward():this.fire(Qi.NEXT_RANGE):this.fire(Qi.NEXT_RANGE)})}destroy(){window.clearInterval(this._highPriorityInterval),window.clearInterval(this._lowPriorityInterval),window.clearInterval(this._canvasClockInterval)}_convertToPercentage(p,u){return Bs(p,u)}_renderMediaElement(p){let u;switch(p.type.toString().toLowerCase()){case"video":u=Ii('<video crossorigin="anonymous" class="anno" />');break;case"sound":case"audio":u=Ii('<audio crossorigin="anonymous" class="anno" />');break;default:return}let g=u[0];if(p.format&&p.format.toString()==="application/dash+xml"){u.attr("data-dashjs-player","");let d=dashjs.MediaPlayer().create();d.getDebug().setLogToBrowserConsole(!1),this._data.adaptiveAuthEnabled&&d.setXHRWithCredentialsForType("MPD",!0),d.initialize(g,p.source)}else if(p.format&&p.format.toString()==="application/vnd.apple.mpegurl")if(Hls.isSupported()){let d=new Hls;this._data.adaptiveAuthEnabled?d=new Hls({xhrSetup:_=>{_.withCredentials=!0}}):d=new Hls,this._data.adaptiveAuthEnabled,d.loadSource(p.source),d.attachMedia(g)}else g.canPlayType("application/vnd.apple.mpegurl")&&(g.src=p.source);else u.attr("src",p.source);u.css({top:p.top+"%",left:p.left+"%",width:p.width+"%",height:p.height+"%"}).hide(),p.element=u,p.timeout=null;let E=this;p.checkForStall=function(){let d=this;this.active?(E._checkMediaSynchronization(),this.element.get(0).readyState>0&&!this.outOfSync?E._playbackStalled(!1,d):(E._playbackStalled(!0,d),this.timeout&&window.clearTimeout(this.timeout),this.timeout=window.setTimeout(function(){d.checkForStall()},1e3))):E._playbackStalled(!1,d)},this._contentAnnotations.push(p),this.$playerElement&&this._$canvasContainer.append(u),u.on("loadedmetadata",()=>mr(this,void 0,void 0,function*(){this._readyMediaCount++,this._readyMediaCount===this._contentAnnotations.length&&(this._data.autoPlay?yield this.play(!0):this.pause(!0),this._updateDurationDisplay(),this.fire(wi.MEDIA_READY))})),u.attr("preload","metadata"),u.get(0).load(),this._renderSyncIndicator(p)}_getWaveformData(p){return new Promise(function(u){fetch(p).then(f=>{if(f.ok)return f;throw new Error("Unable to request waveform")}).then(f=>f.arrayBuffer()).then(f=>u(ro.create(f))).catch(()=>u({error:!0}))})}_renderWaveform(p=!1){if(this.waveFormInit&&!p||!this.waveforms.length)return;this.waveFormInit=!0;let u=this.waveforms.map(f=>this._getWaveformData(f));jt.log("loading waveforms"),Promise.all(u).then(f=>{let g=f.filter(d=>!d.error);jt.log("Waveforms loaded"),this._waveformCanvas=document.createElement("canvas"),this._waveformCanvas.classList.add("waveform"),this._$canvasContainer.append(this._waveformCanvas),this.waveformPageX=this._waveformCanvas.getBoundingClientRect().x;let E=this._drawWaveform.bind(this);this._waveformCanvas.addEventListener("mousein",()=>{this.waveformDeltaX=0}),this._$canvasTimelineContainer.on("mouseout",()=>{this.waveformDeltaX=0,requestAnimationFrame(E)}),this._waveformCanvas.addEventListener("mouseout",()=>{this.waveformDeltaX=0,requestAnimationFrame(E)}),this._waveformCanvas.addEventListener("mousemove",d=>{this.waveformDeltaX=d.pageX-this.waveformPageX,requestAnimationFrame(E)}),this._$canvasTimelineContainer.on("mousemove",d=>{this.waveformDeltaX=d.pageX-this.waveformPageX,requestAnimationFrame(E)}),this._waveformCanvas.addEventListener("click",d=>mr(this,void 0,void 0,function*(){let _=this._waveformCanvas.getBoundingClientRect();if(_){this.waveformPageX=_.x;let y=_.width||0;if(y){let{start:T,end:m}=this.getRangeTiming();yield this._setCurrentTime(Dn(T,ss(Oi(m,T),(d.pageX-this.waveformPageX)/y)))}}})),this._waveformCtx=this._waveformCanvas.getContext("2d"),this._waveformCtx&&(this._waveformCtx.fillStyle=this._data.waveformColor||"#fff",this._compositeWaveform=new hs(g),this.fire(wi.WAVEFORM_READY))}).catch(()=>{jt.warn("Could not load wave forms.")})}getRangeTiming(){if(yi.newRanges&&this.isVirtual())return{start:this.timePlanPlayer.plan.start,end:this.timePlanPlayer.plan.end,duration:this.timePlanPlayer.plan.duration,percent:Math.min((this.timePlanPlayer.getTime()-this.timePlanPlayer.plan.start)/this.timePlanPlayer.plan.duration,1)};let p,u=0,f=un(this._compositeWaveform?this._compositeWaveform.duration:-1),g=f;return this._data.range&&(p=this._data.range.getDuration()),this.isVirtual()||(f=this._getDuration()),this._data.limitToRange&&p&&(u=p.start,f=p.end,g=Oi(f,u)),f===-1&&p&&(u=p.start,f=p.end,g=Oi(f,u)),f===-1&&jt.warn("Duration not found...",{start:u,end:f,duration:g,durationObj:p}),{start:u,end:f,duration:Oi(f,u),percent:Math.min((this.getClockTime()-u)/g,1)}}_drawWaveform(){if(this._renderWaveform(),!this._waveformCtx)return;let{start:p,end:u,percent:f}=this.getRangeTiming(),g=p*this._compositeWaveform.pixelsPerSecond,E=u*this._compositeWaveform.pixelsPerSecond,d=this._waveformCtx.canvas.width,_=this._waveformCtx.canvas.height,y=this._data.waveformBarSpacing,T=this._data.waveformBarWidth,m=Math.floor((E-g)/d*y),b=d/y;this._waveformCtx.clearRect(0,0,d,_),this._waveformCtx.fillStyle=this._data.waveformColor||"#fff";let A=d/(u-p),C=[];if(this._contentAnnotations)for(let M=0;M<this._contentAnnotations.length;M++){let H=this._contentAnnotations[M];if(H&&H.element){let Y=H.element[0],j=H.startOffest||0;if(H.active)for(let o=0;o<Y.buffered.length;o++){let G=Y.buffered.length-o-1,I=Y.buffered.start(G),O=Y.buffered.end(G);C.push([(j+I-p)*A,(j+O-p)*A])}}}let R=[];if(this.isVirtual()&&yi.newRanges){let M=this.timePlanPlayer.plan,H=this._data.canvas;for(let Y of M.stops){let j=H.durationMap[Y.canvasId];if(j){let o=j.runningDuration-j.duration;R.push({start:(Y.start-M.start)/M.duration,end:(Y.end-M.start)/M.duration,duration:Y.duration,startTime:o+Y.canvasTime.start,endTime:o+Y.canvasTime.start+Y.canvasTime.end})}else jt.error("Canvas index not found",{stop:Y,plan:M})}}else R.push({start:0,duration:u-p,end:u,startTime:p});let N=0;for(let M=g;M<E;M+=m){let H=ps(M,g,E),Y=H*d;R[N].end<H&&N++;let j=R[N],x=H-j.start,o=Math.floor((j.startTime+x*j.duration)*this._compositeWaveform.pixelsPerSecond),G=this._getWaveformMaxAndMin(this._compositeWaveform,o,b),I=this._scaleY(G.max-G.min,_),O=Y/d<f,q=this.waveformDeltaX/d,Q=this._data.waveformColor||"#fff",pe=(_-I)/2;if(O)this.waveformDeltaX===0?Q="#14A4C3":Y/d<q?Q="#11758e":Q="#14A4C3";else if(Y/d<q)Q="#86b3c3";else{Q="#8a9aa1";for(let[re,le]of C)if(Y>re&&Y<le){Q="#fff";break}}this._waveformCtx.fillStyle=Q,this._waveformCtx.fillRect(Y,pe,T,I|0)}}_getWaveformMaxAndMin(p,u,f){let g=-127,E=128;for(let d=u;d<u+f;d++){let _=p.max(d),y=p.min(d);_>g&&(g=_),y<E&&(E=y)}return{max:g,min:E}}isLimitedToRange(){return this._data.limitToRange}hasCurrentRange(){return!!this._data.range}_updateCurrentTimeDisplay(){if(yi.newRanges&&this.isVirtual()){this._$canvasTime.text(Sn(this._canvasClockTime-this.timePlanPlayer.getStartTime()));return}let p;if(this._data.range&&(p=this._data.range.getDuration()),this._data.limitToRange&&p){let u=this._canvasClockTime-p.start;this._$canvasTime.text(Sn(u))}else this._$canvasTime.text(Sn(this._canvasClockTime))}_updateDurationDisplay(){if(yi.newRanges&&this.isVirtual()){this._$canvasDuration.text(Sn(this.timePlanPlayer.getDuration()));return}let p;this._data.range&&(p=this._data.range.getDuration()),this._data.limitToRange&&p?this._$canvasDuration.text(Sn(p.getLength())):this._$canvasDuration.text(Sn(this._getDuration()))}_renderSyncIndicator(p){if(yi.newRanges&&this.isVirtual()){jt.log("_renderSyncIndicator");return}let u=this._convertToPercentage(p.start,this._getDuration()),f=this._convertToPercentage(p.end-p.start,this._getDuration()),g=Ii('<div class="timeline-item"></div>');g.css({left:u+"%",width:f+"%"});let E=Ii('<div class="line-wrapper"></div>');g.appendTo(E),p.timelineElement=g,this.$playerElement&&this._$timelineItemContainer.append(E)}setCurrentTime(p){return jt.log("External set current time?"),this._setCurrentTime(p,!1)}now(){return Nr(Date.now())}nowMs(){return Date.now()}_setCurrentTime(p,u=!0){return mr(this,void 0,void 0,function*(){if(yi.newRanges&&this.isVirtual()){this._buffering=!0,yield this.timePlanPlayer.setTime(p,u),this._buffering=!1,this._canvasClockStartDate=Pr(Oi(this.now(),this._canvasClockTime)),this._canvasClockUpdater(),this._highPriorityUpdater(),this._lowPriorityUpdater(),this._synchronizeMedia();return}let{start:f,end:g}=this.getRangeTiming();p<f||f>g||(this._canvasClockTime=p,this._canvasClockStartDate=Pr(Oi(this.now(),this._canvasClockTime)),this.logMessage("SET CURRENT TIME to: "+this._canvasClockTime+" seconds."),this._canvasClockUpdater(),this._highPriorityUpdater(),this._lowPriorityUpdater(),this._synchronizeMedia())})}_rewind(p){if(yi.newRanges&&this.isVirtual()){jt.log("Rewind");return}this.pause();let u;this._data.range&&(u=this._data.range.getDuration()),this._data.limitToRange&&u?this._setCurrentTime(u.start):this._setCurrentTime(0),this._data.limitToRange||this._data&&this._data.helper&&this.set({range:void 0})}_fastforward(){if(yi.newRanges&&this.isVirtual()){jt.log("Fast forward");return}let p;this._data.range&&(p=this._data.range.getDuration()),this._data.limitToRange&&p?this._canvasClockTime=un(p.end):this._canvasClockTime=this._getDuration(),this.pause()}play(p){return mr(this,void 0,void 0,function*(){if(this._isPlaying)return;if(jt.log(`CanvasInstance.play(${p})`),yi.newRanges&&this.isVirtual())this.timePlanPlayer.hasEnded()&&(this._buffering=!0,yield this.timePlanPlayer.previous(),this._buffering=!1),this.timePlanPlayer.play();else{let f;this._data.range&&(f=this._data.range.getDuration()),this._data.limitToRange&&f&&this._canvasClockTime>=f.end&&(this._canvasClockTime=f.start),this._canvasClockTime===this._getDuration()&&(this._canvasClockTime=0)}this._canvasClockStartDate=Pr(Oi(this.now(),this._canvasClockTime)),this._highPriorityInterval&&clearInterval(this._highPriorityInterval),this._highPriorityInterval=window.setInterval(()=>{this._highPriorityUpdater()},this._highPriorityFrequency),this._lowPriorityInterval&&clearInterval(this._lowPriorityInterval),this._lowPriorityInterval=window.setInterval(()=>{this._lowPriorityUpdater()},this._lowPriorityFrequency),this._canvasClockInterval&&clearInterval(this._canvasClockInterval),this._canvasClockInterval=window.setInterval(()=>{this._canvasClockUpdater()},this._canvasClockFrequency),this._isPlaying=!0,p||this._synchronizeMedia();let u=this._data&&this._data.content?this._data.content.pause:"";this._$playButton.prop("title",u),this._$playButton.find("i").switchClass("play","pause"),this.fire(Qi.PLAYCANVAS),this.logMessage("PLAY canvas")})}pause(p){jt.log(`CanvasInstance.pause(${p})`),window.clearInterval(this._highPriorityInterval),window.clearInterval(this._lowPriorityInterval),window.clearInterval(this._canvasClockInterval),this._isPlaying=!1,p||(this._highPriorityUpdater(),this._lowPriorityUpdater(),this._synchronizeMedia()),yi.newRanges&&this.isVirtual()&&this.timePlanPlayer.pause();let u=this._data&&this._data.content?this._data.content.play:"";this._$playButton.prop("title",u),this._$playButton.find("i").switchClass("pause","play"),this.fire(Qi.PAUSECANVAS),this.logMessage("PAUSE canvas")}_isNavigationConstrainedToRange(){return this._data.constrainNavigationToRange||!1}_canvasClockUpdater(){if(yi.newRanges&&this.isVirtual()){if(this._buffering)return;let f=Nr(this._canvasClockStartDate);jt.log("CanvasInstance._canvasClockUpdater()",{startDate:f,advanceToTime:Oi(this.now(),f)});let{paused:g}=this.timePlanPlayer.advanceToTime(Oi(this.now(),f));g&&this.pause();return}if(this._buffering)return;let p=Nr(this._canvasClockStartDate);this._canvasClockTime=Oi(this.now(),p);let u;this._data.range&&(u=this._data.range.getDuration()),this._data.limitToRange&&u&&this._canvasClockTime>=u.end&&this.pause(),this._canvasClockTime>this._getDuration()&&(this._canvasClockTime=this._getDuration(),this.pause())}_highPriorityUpdater(){this._bufferShown&&!this._buffering&&(this.$playerElement.removeClass("player--loading"),this._bufferShown=!1),this._buffering&&!this._bufferShown&&(this.$playerElement.addClass("player--loading"),this._bufferShown=!0),yi.newRanges&&this.isVirtual()?(this._$rangeTimelineContainer.slider({value:this._canvasClockTime-this.timePlanPlayer.plan.start}),this._$canvasTimelineContainer.slider({value:this._canvasClockTime-this.timePlanPlayer.plan.start})):(this._$rangeTimelineContainer.slider({value:this._canvasClockTime}),this._$canvasTimelineContainer.slider({value:this._canvasClockTime})),this._updateCurrentTimeDisplay(),this._updateDurationDisplay(),this._drawWaveform()}_lowPriorityUpdater(){this._updateMediaActiveStates(),this._data.autoSelectRange&&(this.isVirtual()||this.isOnlyCanvasInstance)&&this._hasRangeChanged()}_updateMediaActiveStates(){if(yi.newRanges&&this.isVirtual()){if(this._isPlaying){if(this.timePlanPlayer.isBuffering()){this._buffering=!0;return}else this._buffering&&(this._buffering=!1);this.timePlanPlayer.advanceToTime(this._canvasClockTime)}return}let p;for(let u=0;u<this._contentAnnotations.length;u++)p=this._contentAnnotations[u],p.start<=this._canvasClockTime&&p.end>=this._canvasClockTime?(this._checkMediaSynchronization(),p.active||(this._synchronizeMedia(),p.active=!0,p.element.show(),p.timelineElement.addClass("active")),p.element[0].currentTime>p.element[0].duration-p.endOffset&&this._pauseMedia(p.element[0])):p.active&&(p.active=!1,p.element.hide(),p.timelineElement.removeClass("active"),this._pauseMedia(p.element[0]))}_pauseMedia(p){p.pause()}_setMediaCurrentTime(p,u){isNaN(p.duration)||(p.currentTime=u)}_synchronizeMedia(){if(yi.newRanges&&this.isVirtual())return;let p;for(let u=0;u<this._contentAnnotations.length;u++){if(p=this._contentAnnotations[u],this._setMediaCurrentTime(p.element[0],this._canvasClockTime-p.start+p.startOffset),p.start<=this._canvasClockTime&&p.end>=this._canvasClockTime)if(this._isPlaying){if(p.element[0].paused){let f=p.element[0].play();f&&f.catch(function(g){console.log(g)})}}else this._pauseMedia(p.element[0]);else this._pauseMedia(p.element[0]);p.element[0].currentTime>p.element[0].duration-p.endOffset&&this._pauseMedia(p.element[0])}this.logMessage("SYNC MEDIA at: "+this._canvasClockTime+" seconds.")}_checkMediaSynchronization(){if(yi.newRanges&&this.isVirtual()){this._isPlaying&&(this.timePlanPlayer.isBuffering()?this._buffering=!0:this._buffering&&(this._buffering=!1));return}let p;for(let u=0,f=this._contentAnnotations.length;u<f;u++)if(p=this._contentAnnotations[u],p.start<=this._canvasClockTime&&p.end>=this._canvasClockTime){this._isPlaying&&(p.element[0].readyState<3?this._buffering=!0:this._buffering&&(this._buffering=!1));let g=this._canvasClockTime-p.start+p.startOffset,E=p.element[0].currentTime;if(Math.abs(E-g)>this._mediaSyncMarginSecs){p.outOfSync=!0;let d=Math.abs(E-g);this.logMessage("DETECTED synchronization lag: "+Math.abs(d)),this._setMediaCurrentTime(p.element[0],g)}else p.outOfSync=!1}}_playbackStalled(p,u){if(p)this._stallRequestedBy.indexOf(u)<0&&this._stallRequestedBy.push(u),this._isStalled||(this.$playerElement,this._wasPlaying=this._isPlaying,this.pause(!0),this._isStalled=p);else{let f=this._stallRequestedBy.indexOf(u);f>=0&&this._stallRequestedBy.splice(f,1),this._stallRequestedBy.length===0&&(this._isStalled&&this._wasPlaying&&this.play(!0),this._isStalled=p)}}resize(){if(this.$playerElement){let p=this._$canvasContainer.width();if(p){this._$canvasTimelineContainer.width(p);let u=this.$playerElement.find(".options-container");this._data.halveAtWidth!==void 0&&this.$playerElement.parent().width()<this._data.halveAtWidth?this._$canvasContainer.height(this.$playerElement.parent().height()/2):this._$canvasContainer.height(this.$playerElement.parent().height()-u.height())}if(this._waveformCanvas){let u=this._$canvasContainer.width(),f=this._$canvasContainer.height();this._waveformCanvas.width=u,this._waveformCanvas.height=f,this.waveformPageX=this._waveformCanvas.getBoundingClientRect().x}this._render(),this._drawWaveform()}}};var so=Cn(Ln());function vr(t){let p;if(t.canvases&&t.canvases.length)p=t.canvases[0];else{let u=t.getRanges();if(u.length)return vr(u[0])}if(p!==void 0)return so.Utils.normaliseUrl(p)}(function t(p,u,f){function g(_,y){if(!u[_]){if(!p[_]){var T=typeof or=="function"&&or;if(!y&&T)return T(_,!0);if(E)return E(_,!0);var m=new Error("Cannot find module '"+_+"'");throw m.code="MODULE_NOT_FOUND",m}var b=u[_]={exports:{}};p[_][0].call(b.exports,function(A){var C=p[_][1][A];return g(C||A)},b,b.exports,t,p,u,f)}return u[_].exports}for(var E=typeof or=="function"&&or,d=0;d<f.length;d++)g(f[d]);return g})({1:[function(t,p,u){"use strict";var f={};f.encode=function(E){for(var d=[],_=0;_<E.length;++_){var y=E.charCodeAt(_);y<128?d.push(y):y<2048?(d.push(192|y>>6),d.push(128|63&y)):y<65536?(d.push(224|y>>12),d.push(128|63&y>>6),d.push(128|63&y)):(d.push(240|y>>18),d.push(128|63&y>>12),d.push(128|63&y>>6),d.push(128|63&y))}return d},f.decode=function(E){for(var d=[],_=0;_<E.length;){var y=E[_++];y<128||(y<224?(y=(31&y)<<6,y|=63&E[_++]):y<240?(y=(15&y)<<12,y|=(63&E[_++])<<6,y|=63&E[_++]):(y=(7&y)<<18,y|=(63&E[_++])<<12,y|=(63&E[_++])<<6,y|=63&E[_++])),d.push(String.fromCharCode(y))}return d.join("")};var g={};(function(E){var d=function(m){for(var b=0,A=[],C=0|m.length/3;0<C--;){var R=(m[b]<<16)+(m[b+1]<<8)+m[b+2];b+=3,A.push(E.charAt(63&R>>18)),A.push(E.charAt(63&R>>12)),A.push(E.charAt(63&R>>6)),A.push(E.charAt(63&R))}if(m.length-b==2){var R=(m[b]<<16)+(m[b+1]<<8);A.push(E.charAt(63&R>>18)),A.push(E.charAt(63&R>>12)),A.push(E.charAt(63&R>>6)),A.push("=")}else if(m.length-b==1){var R=m[b]<<16;A.push(E.charAt(63&R>>18)),A.push(E.charAt(63&R>>12)),A.push("==")}return A.join("")},_=function(){for(var m=[],b=0;b<E.length;++b)m[E.charCodeAt(b)]=b;return m["=".charCodeAt(0)]=0,m}(),y=function(m){for(var b=0,A=[],C=0|m.length/4;0<C--;){var R=(_[m.charCodeAt(b)]<<18)+(_[m.charCodeAt(b+1)]<<12)+(_[m.charCodeAt(b+2)]<<6)+_[m.charCodeAt(b+3)];A.push(255&R>>16),A.push(255&R>>8),A.push(255&R),b+=4}return A&&(m.charAt(b-2)=="="?(A.pop(),A.pop()):m.charAt(b-1)=="="&&A.pop()),A},T={};T.encode=function(m){for(var b=[],A=0;A<m.length;++A)b.push(m.charCodeAt(A));return b},T.decode=function(m){for(var b=0;b<s.length;++b)a[b]=String.fromCharCode(a[b]);return a.join("")},g.decodeArray=function(m){var b=y(m);return new Uint8Array(b)},g.encodeASCII=function(m){var b=T.encode(m);return d(b)},g.decodeASCII=function(m){var b=y(m);return T.decode(b)},g.encode=function(m){var b=f.encode(m);return d(b)},g.decode=function(m){var b=y(m);return f.decode(b)}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),u!==void 0&&(u.decode=g.decode,u.decodeArray=g.decodeArray,u.encode=g.encode,u.encodeASCII=g.encodeASCII)},{}],2:[function(t,p,u){"use strict";(function(f){var g={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},E=function(I){var O=I;return g.hasOwnProperty(I)&&(O=g[I]),String.fromCharCode(O)},d=15,_=32,y={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},T={17:2,18:4,21:6,22:8,23:10,19:13,20:15},m={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},b={25:2,26:4,29:6,30:8,31:10,27:13,28:15},A=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],C={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(I){this.time=I},log:function(I,O){var q=this.verboseFilter[I];this.verboseLevel>=q&&console.log(this.time+" ["+I+"] "+O)}},R=function(I){for(var O=[],q=0;q<I.length;q++)O.push(I[q].toString(16));return O},N=function(I,O,q,Q,pe){this.foreground=I||"white",this.underline=O||!1,this.italics=q||!1,this.background=Q||"black",this.flash=pe||!1};N.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(I){for(var O=["foreground","underline","italics","background","flash"],q=0;q<O.length;q++){var Q=O[q];I.hasOwnProperty(Q)&&(this[Q]=I[Q])}},isDefault:function(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash},equals:function(I){return this.foreground===I.foreground&&this.underline===I.underline&&this.italics===I.italics&&this.background===I.background&&this.flash===I.flash},copy:function(I){this.foreground=I.foreground,this.underline=I.underline,this.italics=I.italics,this.background=I.background,this.flash=I.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var M=function(I,O,q,Q,pe,re){this.uchar=I||" ",this.penState=new N(O,q,Q,pe,re)};M.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(I,O){this.uchar=I,this.penState.copy(O)},setPenState:function(I){this.penState.copy(I)},equals:function(I){return this.uchar===I.uchar&&this.penState.equals(I.penState)},copy:function(I){this.uchar=I.uchar,this.penState.copy(I.penState)},isEmpty:function(){return this.uchar===" "&&this.penState.isDefault()}};var H=function(){this.chars=[];for(var I=0;I<_;I++)this.chars.push(new M);this.pos=0,this.currPenState=new N};H.prototype={equals:function(I){for(var O=!0,q=0;q<_;q++)if(!this.chars[q].equals(I.chars[q])){O=!1;break}return O},copy:function(I){for(var O=0;O<_;O++)this.chars[O].copy(I.chars[O])},isEmpty:function(){for(var I=!0,O=0;O<_;O++)if(!this.chars[O].isEmpty()){I=!1;break}return I},setCursor:function(I){this.pos!==I&&(this.pos=I),this.pos<0?(C.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>_&&(C.log("ERROR","Too large cursor position "+this.pos),this.pos=_)},moveCursor:function(I){var O=this.pos+I;if(I>1)for(var q=this.pos+1;q<O+1;q++)this.chars[q].setPenState(this.currPenState);this.setCursor(O)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(I){I>=144&&this.backSpace();var O=E(I);if(this.pos>=_)return void C.log("ERROR","Cannot insert "+I.toString(16)+" ("+O+") at position "+this.pos+". Skipping it!");this.chars[this.pos].setChar(O,this.currPenState),this.moveCursor(1)},clearFromPos:function(I){var O;for(O=I;O<_;O++)this.chars[O].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var I=[],O=!0,q=0;q<_;q++){var Q=this.chars[q].uchar;Q!==" "&&(O=!1),I.push(Q)}return O?"":I.join("")},setPenStyles:function(I){this.currPenState.setStyles(I),this.chars[this.pos].setPenState(this.currPenState)}};var Y=function(){this.rows=[];for(var I=0;I<d;I++)this.rows.push(new H);this.currRow=d-1,this.nrRollUpRows=null,this.reset()};Y.prototype={reset:function(){for(var I=0;I<d;I++)this.rows[I].clear();this.currRow=d-1},equals:function(I){for(var O=!0,q=0;q<d;q++)if(!this.rows[q].equals(I.rows[q])){O=!1;break}return O},copy:function(I){for(var O=0;O<d;O++)this.rows[O].copy(I.rows[O])},isEmpty:function(){for(var I=!0,O=0;O<d;O++)if(!this.rows[O].isEmpty()){I=!1;break}return I},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(I){this.rows[this.currRow].insertChar(I)},setPen:function(I){this.rows[this.currRow].setPenStyles(I)},moveCursor:function(I){this.rows[this.currRow].moveCursor(I)},setCursor:function(I){C.log("INFO","setCursor: "+I),this.rows[this.currRow].setCursor(I)},setPAC:function(I){C.log("INFO","pacData = "+JSON.stringify(I));var O=I.row-1;this.nrRollUpRows&&O<this.nrRollUpRows-1&&(O=this.nrRollUpRows-1),this.currRow=O;var q=this.rows[this.currRow];if(I.indent!==null){var Q=I.indent,pe=Math.max(Q-1,0);q.setCursor(I.indent),I.color=q.chars[pe].penState.foreground}var re={foreground:I.color,underline:I.underline,italics:I.italics,background:"black",flash:!1};this.setPen(re)},setBkgData:function(I){C.log("INFO","bkgData = "+JSON.stringify(I)),this.backSpace(),this.setPen(I),this.insertChar(32)},setRollUpRows:function(I){this.nrRollUpRows=I},rollUp:function(){if(this.nrRollUpRows===null)return void C.log("DEBUG","roll_up but nrRollUpRows not set yet");C.log("TEXT",this.getDisplayText());var I=this.currRow+1-this.nrRollUpRows,O=this.rows.splice(I,1)[0];O.clear(),this.rows.splice(this.currRow,0,O),C.log("INFO","Rolling up")},getDisplayText:function(I){I=I||!1;for(var O=[],q="",Q=-1,pe=0;pe<d;pe++){var re=this.rows[pe].getTextString();re&&(Q=pe+1,I?O.push("Row "+Q+': "'+re+'"'):O.push(re.trim()))}return O.length>0&&(q=I?"["+O.join(" | ")+"]":O.join(`
`)),q},getTextAndFormat:function(){return this.rows}};var j=function(I,O){this.chNr=I,this.outputFilter=O,this.mode=null,this.verbose=0,this.displayedMemory=new Y,this.nonDisplayedMemory=new Y,this.lastOutputScreen=new Y,this.currRollUpRow=this.displayedMemory.rows[d-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};j.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[d-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(I){this.outputFilter=I},setPAC:function(I){this.writeScreen.setPAC(I)},setBkgData:function(I){this.writeScreen.setBkgData(I)},setMode:function(I){I!==this.mode&&(this.mode=I,C.log("INFO","MODE="+I),this.mode=="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=I)},insertChars:function(I){for(var O=0;O<I.length;O++)this.writeScreen.insertChar(I[O]);var q=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";C.log("INFO",q+": "+this.writeScreen.getDisplayText(!0)),this.mode!=="MODE_PAINT-ON"&&this.mode!=="MODE_ROLL-UP"||(C.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){C.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){C.log("INFO","BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){C.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(I){C.log("INFO","RU("+I+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(I)},cc_FON:function(){C.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){C.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){C.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){C.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){C.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){C.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){C.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(C.log("INFO","EOC - End Of Caption"),this.mode==="MODE_POP-ON"){var I=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=I,this.writeScreen=this.nonDisplayedMemory,C.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(I){C.log("INFO","TO("+I+") - Tab Offset"),this.writeScreen.moveCursor(I)},cc_MIDROW:function(I){var O={flash:!1};if(O.underline=I%2==1,O.italics=I>=46,O.italics)O.foreground="white";else{var q=Math.floor(I/2)-16,Q=["white","green","blue","cyan","red","yellow","magenta"];O.foreground=Q[q]}C.log("INFO","MIDROW: "+JSON.stringify(O)),this.writeScreen.setPen(O)},outputDataUpdate:function(){var I=C.time;I!==null&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(I,this.displayedMemory),this.cueStartTime!==null||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,I,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:I):this.cueStartTime=I,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(I){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,I,this.displayedMemory),this.cueStartTime=I))}};var x=function(I,O,q){this.field=I||1,this.outputs=[O,q],this.channels=[new j(1,O),new j(2,q)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};x.prototype={getHandler:function(I){return this.channels[I].getHandler()},setHandler:function(I,O){this.channels[I].setHandler(O)},addData:function(I,O){var q,Q,pe,re=!1;this.lastTime=I,C.setTime(I);for(var le=0;le<O.length;le+=2)if(Q=127&O[le],pe=127&O[le+1],Q>=16&&Q<=31&&Q===this.lastCmdA&&pe===this.lastCmdB)this.lastCmdA=null,this.lastCmdB=null,C.log("DEBUG","Repeated command ("+R([Q,pe])+") is dropped");else if(Q!==0||pe!==0){if(C.log("DATA","["+R([O[le],O[le+1]])+"] -> ("+R([Q,pe])+")"),q=this.parseCmd(Q,pe),q||(q=this.parseMidrow(Q,pe)),q||(q=this.parsePAC(Q,pe)),q||(q=this.parseBackgroundAttributes(Q,pe)),!q&&(re=this.parseChars(Q,pe)))if(this.currChNr&&this.currChNr>=0){var ee=this.channels[this.currChNr-1];ee.insertChars(re)}else C.log("WARNING","No channel found yet. TEXT-MODE?");q?this.dataCounters.cmd+=2:re?this.dataCounters.char+=2:(this.dataCounters.other+=2,C.log("WARNING","Couldn't parse cleaned data "+R([Q,pe])+" orig: "+R([O[le],O[le+1]])))}else this.dataCounters.padding+=2},parseCmd:function(I,O){var q=null,Q=(I===20||I===21||I===28||I===29)&&32<=O&&O<=47,pe=(I===23||I===31)&&33<=O&&O<=35;if(!Q&&!pe)return!1;q=I===20||I===21||I===23?1:2;var re=this.channels[q-1];return I===20||I===21||I===28||I===29?O===32?re.cc_RCL():O===33?re.cc_BS():O===34?re.cc_AOF():O===35?re.cc_AON():O===36?re.cc_DER():O===37?re.cc_RU(2):O===38?re.cc_RU(3):O===39?re.cc_RU(4):O===40?re.cc_FON():O===41?re.cc_RDC():O===42?re.cc_TR():O===43?re.cc_RTD():O===44?re.cc_EDM():O===45?re.cc_CR():O===46?re.cc_ENM():O===47&&re.cc_EOC():re.cc_TO(O-32),this.lastCmdA=I,this.lastCmdB=O,this.currChNr=q,!0},parseMidrow:function(I,O){var q=null;if((I===17||I===25)&&32<=O&&O<=47){if((q=I===17?1:2)!==this.currChNr)return C.log("ERROR","Mismatch channel in midrow parsing"),!1;var Q=this.channels[q-1];return Q.insertChars([32]),Q.cc_MIDROW(O),C.log("DEBUG","MIDROW ("+R([I,O])+")"),this.lastCmdA=I,this.lastCmdB=O,!0}return!1},parsePAC:function(I,O){var q=null,Q=null,pe=(17<=I&&I<=23||25<=I&&I<=31)&&64<=O&&O<=127,re=(I===16||I===24)&&64<=O&&O<=95;if(!pe&&!re)return!1;q=I<=23?1:2,Q=64<=O&&O<=95?q===1?y[I]:m[I]:q===1?T[I]:b[I];var le=this.interpretPAC(Q,O);return this.channels[q-1].setPAC(le),this.lastCmdA=I,this.lastCmdB=O,this.currChNr=q,!0},interpretPAC:function(I,O){var q=O,Q={color:null,italics:!1,indent:null,underline:!1,row:I};return q=O>95?O-96:O-64,Q.underline=(1&q)==1,q<=13?Q.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(q/2)]:q<=15?(Q.italics=!0,Q.color="white"):Q.indent=4*Math.floor((q-16)/2),Q},parseChars:function(I,O){var q=null,Q=null,pe=null;if(I>=25?(q=2,pe=I-8):(q=1,pe=I),17<=pe&&pe<=19){var re=O;re=pe===17?O+80:pe===18?O+112:O+144,C.log("INFO","Special char '"+E(re)+"' in channel "+q),Q=[re],this.lastCmdA=I,this.lastCmdB=O}else 32<=I&&I<=127&&(Q=O===0?[I]:[I,O],this.lastCmdA=null,this.lastCmdB=null);if(Q){var le=R(Q);C.log("DEBUG","Char codes =  "+le.join(","))}return Q},parseBackgroundAttributes:function(I,O){var q,Q,pe,re,le=(I===16||I===24)&&32<=O&&O<=47,ee=(I===23||I===31)&&45<=O&&O<=47;return!(!le&&!ee)&&(q={},I===16||I===24?(Q=Math.floor((O-32)/2),q.background=A[Q],O%2==1&&(q.background=q.background+"_semi")):O===45?q.background="transparent":(q.foreground="black",O===47&&(q.underline=!0)),pe=I<24?1:2,re=this.channels[pe-1],re.setBkgData(q),this.lastCmdA=I,this.lastCmdB=O,!0)},reset:function(){for(var I=0;I<this.channels.length;I++)this.channels[I]&&this.channels[I].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(I){for(var O=0;O<this.channels.length;O++)this.channels[O]&&this.channels[O].cueSplitAtTime(I)}};var o=function(I,O,q){for(var Q=0,pe=O,re=[],le=function(ve,fe,Ee,Ae){if(ve!==4||fe<8)return null;var z=Ee.getUint8(Ae),ce=Ee.getUint16(Ae+1),Se=Ee.getUint32(Ae+3),De=Ee.getUint8(Ae+7);return z==181&&ce==49&&Se==1195456820&&De==3};pe<O+q;){if(Q=I.getUint32(pe),(31&I.getUint8(pe+4))==6)for(var ee=pe+5,be=-1;ee<pe+4+Q-1;){be=0;for(var ie=255;ie===255;)ie=I.getUint8(ee),be+=ie,ee++;var Te=0;for(ie=255;ie===255;)ie=I.getUint8(ee),Te+=ie,ee++;le(be,Te,I,ee)&&re.push([ee,Te]),ee+=Te}pe+=Q+4}return re},G=function(I,O){var q=O[0],Q=[[],[]];q+=8;var pe=31&I.getUint8(q);q+=2;for(var re=0;re<pe;re++){var le=I.getUint8(q),ee=4&le,be=3&le;q++;var ie=I.getUint8(q);q++;var Te=I.getUint8(q);q++,ee&&(127&ie)+(127&Te)!=0&&(be===0?(Q[0].push(ie),Q[0].push(Te)):be===1&&(Q[1].push(ie),Q[1].push(Te)))}return Q};f.logger=C,f.PenState=N,f.CaptionScreen=Y,f.Cea608Parser=x,f.findCea608Nalus=o,f.extractCea608DataFromRange=G})(u===void 0?(void 0).cea608parser={}:u)},{}],3:[function(t,p,u){"use strict";function f(g){var E,d,_;for(E=[],_=0,d=g.length;_<d;_+=1)g[_].isRoot?E.push("root"):E.push(g[_].name);var y=function(b,A){var C;if(b!==null&&A!==null)for(C in b)b.hasOwnProperty(C)&&(A.hasOwnProperty(C)||(A[C]=b[C]))},T=function(b,A,C){var R,N,M,H,Y;if(b!==null&&b.length!==0)for(R=0,N=b.length;R<N;R+=1)M=b[R],A.hasOwnProperty(M.name)&&(C.hasOwnProperty(M.name)?M.merge&&(H=A[M.name],Y=C[M.name],typeof H=="object"&&typeof Y=="object"?y(H,Y):M.mergeFunction!=null?C[M.name]=M.mergeFunction(H,Y):C[M.name]=H+Y):C[M.name]=A[M.name])},m=function b(A,C){var R,N,M,H,Y,j,x,o=A;if(o.children!==null&&o.children.length!==0){for(R=0,N=o.children.length;R<N;R+=1)if(j=o.children[R],C.hasOwnProperty(j.name))if(j.isArray)for(Y=C[j.name+"_asArray"],M=0,H=Y.length;M<H;M+=1)x=Y[M],T(o.properties,C,x),b(j,x);else x=C[j.name],T(o.properties,C,x),b(j,x)}};return{run:function b(A){var C,R,N,M,H,Y,j;if(A===null||typeof A!="object")return A;for(C=0,R=E.length;C<R;C+=1)E[C]==="root"&&(H=g[C],Y=A,m(H,Y));for(M in A)if(A.hasOwnProperty(M)&&M!="__children"){if((N=E.indexOf(M))!==-1)if(H=g[N],H.isArray)for(j=A[M+"_asArray"],C=0,R=j.length;C<R;C+=1)Y=j[C],m(H,Y);else Y=A[M],m(H,Y);b(A[M])}return A}}}Object.defineProperty(u,"__esModule",{value:!0}),u.default=f,p.exports=u.default},{}],4:[function(t,p,u){"use strict";function f(g){function E(){g.escapeMode===void 0&&(g.escapeMode=!0),g.attributePrefix===void 0&&(g.attributePrefix="_"),g.arrayAccessForm=g.arrayAccessForm||"none",g.emptyNodeForm=g.emptyNodeForm||"text",g.enableToStringFunc===void 0&&(g.enableToStringFunc=!0),g.arrayAccessFormPaths=g.arrayAccessFormPaths||[],g.skipEmptyTextNodesForObj===void 0&&(g.skipEmptyTextNodesForObj=!0),g.stripWhitespaces===void 0&&(g.stripWhitespaces=!0),g.datetimeAccessFormPaths=g.datetimeAccessFormPaths||[],g.useDoubleQuotes===void 0&&(g.useDoubleQuotes=!1),g.xmlElementsFilter=g.xmlElementsFilter||[],g.jsonPropertiesFilter=g.jsonPropertiesFilter||[],g.keepCData===void 0&&(g.keepCData=!1),g.ignoreRoot===void 0&&(g.ignoreRoot=!1)}function d(){}function _(ee){var be=ee.localName;return be==null&&(be=ee.baseName),be!=null&&be!=""||(be=ee.nodeName),be}function y(ee){return ee.prefix}function T(ee){return typeof ee=="string"?ee.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):ee}function m(ee,be,ie,Te){for(var ve=0;ve<ee.length;ve++){var fe=ee[ve];if(typeof fe=="string"){if(fe==Te)break}else if(fe instanceof RegExp){if(fe.test(Te))break}else if(typeof fe=="function"&&fe(be,ie,Te))break}return ve!=ee.length}function b(ee,be,ie){switch(g.arrayAccessForm){case"property":ee[be]instanceof Array?ee[be+"_asArray"]=ee[be]:ee[be+"_asArray"]=[ee[be]]}!(ee[be]instanceof Array)&&g.arrayAccessFormPaths.length>0&&m(g.arrayAccessFormPaths,ee,be,ie)&&(ee[be]=[ee[be]])}function A(ee){var be=ee.split(/[-T:+Z]/g),ie=new Date(be[0],be[1]-1,be[2]),Te=be[5].split(".");if(ie.setHours(be[3],be[4],Te[0]),Te.length>1&&ie.setMilliseconds(Te[1]),be[6]&&be[7]){var ve=60*be[6]+Number(be[7]);ve=0+((/\d\d-\d\d:\d\d$/.test(ee)?"-":"+")=="-"?-1*ve:ve),ie.setMinutes(ie.getMinutes()-ve-ie.getTimezoneOffset())}else ee.indexOf("Z",ee.length-1)!==-1&&(ie=new Date(Date.UTC(ie.getFullYear(),ie.getMonth(),ie.getDate(),ie.getHours(),ie.getMinutes(),ie.getSeconds(),ie.getMilliseconds())));return ie}function C(ee,be,ie){if(g.datetimeAccessFormPaths.length>0){var Te=ie.split(".#")[0];return m(g.datetimeAccessFormPaths,ee,be,Te)?A(ee):ee}return ee}function R(ee,be,ie,Te){return!(be==le.ELEMENT_NODE&&g.xmlElementsFilter.length>0)||m(g.xmlElementsFilter,ee,ie,Te)}function N(ee,be){if(ee.nodeType==le.DOCUMENT_NODE){for(var ie=new Object,Te=ee.childNodes,ve=0;ve<Te.length;ve++){var fe=Te[ve];if(fe.nodeType==le.ELEMENT_NODE)if(g.ignoreRoot)ie=N(fe);else{ie={};var Ee=_(fe);ie[Ee]=N(fe)}}return ie}if(ee.nodeType==le.ELEMENT_NODE){var ie=new Object;ie.__cnt=0;for(var Ae=[],Te=ee.childNodes,ve=0;ve<Te.length;ve++){var fe=Te[ve],Ee=_(fe);if(fe.nodeType!=le.COMMENT_NODE){var z=be+"."+Ee;if(R(ie,fe.nodeType,Ee,z))if(ie.__cnt++,ie[Ee]==null){var ce=N(fe,z);if(Ee!="#text"||/[^\s]/.test(ce)){var Se={};Se[Ee]=ce,Ae.push(Se)}ie[Ee]=ce,b(ie,Ee,z)}else{ie[Ee]!=null&&(ie[Ee]instanceof Array||(ie[Ee]=[ie[Ee]],b(ie,Ee,z)));var ce=N(fe,z);if(Ee!="#text"||/[^\s]/.test(ce)){var Se={};Se[Ee]=ce,Ae.push(Se)}ie[Ee][ie[Ee].length]=ce}}}ie.__children=Ae;for(var De=_(ee),ae=0;ae<ee.attributes.length;ae++){var me=ee.attributes[ae];ie.__cnt++;for(var Ie=me.value,xe=0,de=g.matchers.length;xe<de;xe++){var Pe=g.matchers[xe];Pe.test(me,De)&&(Ie=Pe.converter(me.value))}ie[g.attributePrefix+me.name]=Ie}var P=y(ee);return P!=null&&P!=""&&(ie.__cnt++,ie.__prefix=P),ie["#text"]!=null&&(ie.__text=ie["#text"],ie.__text instanceof Array&&(ie.__text=ie.__text.join(`
`)),g.stripWhitespaces&&(ie.__text=ie.__text.trim()),delete ie["#text"],g.arrayAccessForm=="property"&&delete ie["#text_asArray"],ie.__text=C(ie.__text,Ee,be+"."+Ee)),ie["#cdata-section"]!=null&&(ie.__cdata=ie["#cdata-section"],delete ie["#cdata-section"],g.arrayAccessForm=="property"&&delete ie["#cdata-section_asArray"]),ie.__cnt==0&&g.emptyNodeForm=="text"?ie="":ie.__cnt==1&&ie.__text!=null?ie=ie.__text:ie.__cnt!=1||ie.__cdata==null||g.keepCData?ie.__cnt>1&&ie.__text!=null&&g.skipEmptyTextNodesForObj&&(g.stripWhitespaces&&ie.__text==""||ie.__text.trim()=="")&&delete ie.__text:ie=ie.__cdata,delete ie.__cnt,!g.enableToStringFunc||ie.__text==null&&ie.__cdata==null||(ie.toString=function(){return(this.__text!=null?this.__text:"")+(this.__cdata!=null?this.__cdata:"")}),ie}if(ee.nodeType==le.TEXT_NODE||ee.nodeType==le.CDATA_SECTION_NODE)return ee.nodeValue}function M(ee,be,ie,Te){var ve="<"+(ee!=null&&ee.__prefix!=null?ee.__prefix+":":"")+be;if(ie!=null)for(var fe=0;fe<ie.length;fe++){var Ee=ie[fe],Ae=ee[Ee];g.escapeMode&&(Ae=T(Ae)),ve+=" "+Ee.substr(g.attributePrefix.length)+"=",g.useDoubleQuotes?ve+='"'+Ae+'"':ve+="'"+Ae+"'"}return ve+=Te?"/>":">"}function H(ee,be){return"</"+(ee.__prefix!=null?ee.__prefix+":":"")+be+">"}function Y(ee,be){return ee.indexOf(be,ee.length-be.length)!==-1}function j(ee,be){return!!(g.arrayAccessForm=="property"&&Y(be.toString(),"_asArray")||be.toString().indexOf(g.attributePrefix)==0||be.toString().indexOf("__")==0||ee[be]instanceof Function)}function x(ee){var be=0;if(ee instanceof Object)for(var ie in ee)j(ee,ie)||be++;return be}function o(ee,be,ie){return g.jsonPropertiesFilter.length==0||ie==""||m(g.jsonPropertiesFilter,ee,be,ie)}function G(ee){var be=[];if(ee instanceof Object)for(var ie in ee)ie.toString().indexOf("__")==-1&&ie.toString().indexOf(g.attributePrefix)==0&&be.push(ie);return be}function I(ee){var be="";return ee.__cdata!=null&&(be+="<![CDATA["+ee.__cdata+"]]>"),ee.__text!=null&&(g.escapeMode?be+=T(ee.__text):be+=ee.__text),be}function O(ee){var be="";return ee instanceof Object?be+=I(ee):ee!=null&&(g.escapeMode?be+=T(ee):be+=ee),be}function q(ee,be){return ee===""?be:ee+"."+be}function Q(ee,be,ie,Te){var ve="";if(ee.length==0)ve+=M(ee,be,ie,!0);else for(var fe=0;fe<ee.length;fe++)ve+=M(ee[fe],be,G(ee[fe]),!1),ve+=pe(ee[fe],q(Te,be)),ve+=H(ee[fe],be);return ve}function pe(ee,be){var ie="";if(x(ee)>0){for(var Te in ee)if(!j(ee,Te)&&(be==""||o(ee,Te,q(be,Te)))){var ve=ee[Te],fe=G(ve);if(ve==null||ve==null)ie+=M(ve,Te,fe,!0);else if(ve instanceof Object)if(ve instanceof Array)ie+=Q(ve,Te,fe,be);else if(ve instanceof Date)ie+=M(ve,Te,fe,!1),ie+=ve.toISOString(),ie+=H(ve,Te);else{var Ee=x(ve);Ee>0||ve.__text!=null||ve.__cdata!=null?(ie+=M(ve,Te,fe,!1),ie+=pe(ve,q(be,Te)),ie+=H(ve,Te)):ie+=M(ve,Te,fe,!0)}else ie+=M(ve,Te,fe,!1),ie+=O(ve),ie+=H(ve,Te)}}return ie+=O(ee)}var re="1.2.0";g=g||{},E(),d();var le={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.parseXmlString=function(ee){if(window.ActiveXObject,ee===void 0)return null;var be;if(window.DOMParser){var ie=new window.DOMParser;try{be=ie.parseFromString(ee,"text/xml"),be.getElementsByTagNameNS("*","parsererror").length>0&&(be=null)}catch{be=null}}else ee.indexOf("<?")==0&&(ee=ee.substr(ee.indexOf("?>")+2)),be=new ActiveXObject("Microsoft.XMLDOM"),be.async="false",be.loadXML(ee);return be},this.asArray=function(ee){return ee===void 0||ee==null?[]:ee instanceof Array?ee:[ee]},this.toXmlDateTime=function(ee){return ee instanceof Date?ee.toISOString():typeof ee=="number"?new Date(ee).toISOString():null},this.asDateTime=function(ee){return typeof ee=="string"?A(ee):ee},this.xml2json=function(ee){return N(ee)},this.xml_str2json=function(ee){var be=this.parseXmlString(ee);return be!=null?this.xml2json(be):null},this.json2xml_str=function(ee){return pe(ee,"")},this.json2xml=function(ee){var be=this.json2xml_str(ee);return this.parseXmlString(be)},this.getVersion=function(){return re}}Object.defineProperty(u,"__esModule",{value:!0}),u.default=f,p.exports=u.default},{}],5:[function(t,p,u){(function(f){"use strict";function g(A){return A&&A.__esModule?A:{default:A}}Object.defineProperty(u,"__esModule",{value:!0});var E=t(90),d=g(E),_=t(48),y=g(_),T=t(49),m=typeof window!="undefined"&&window||f,b=m.dashjs;b||(b=m.dashjs={}),b.MediaPlayer=d.default,b.FactoryMaker=y.default,b.Version=(0,T.getVersionString)(),u.default=b,u.MediaPlayer=d.default,u.FactoryMaker=y.default}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{48:48,49:49,90:90}],6:[function(t,p,u){(function(f){"use strict";function g(N){var M=N.charCodeAt(0);return M===y||M===C?62:M===T||M===R?63:M<m?-1:M<m+10?M-m+26+26:M<A+26?M-A:M<b+26?M-b+26:void 0}function E(N){function M(q){G[O++]=q}var H,Y,j,x,o,G;if(N.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var I=N.length;o=N.charAt(I-2)==="="?2:N.charAt(I-1)==="="?1:0,G=new _(3*N.length/4-o),j=o>0?N.length-4:N.length;var O=0;for(H=0,Y=0;H<j;H+=4,Y+=3)x=g(N.charAt(H))<<18|g(N.charAt(H+1))<<12|g(N.charAt(H+2))<<6|g(N.charAt(H+3)),M((16711680&x)>>16),M((65280&x)>>8),M(255&x);return o===2?(x=g(N.charAt(H))<<2|g(N.charAt(H+1))>>4,M(255&x)):o===1&&(x=g(N.charAt(H))<<10|g(N.charAt(H+1))<<4|g(N.charAt(H+2))>>2,M(x>>8&255),M(255&x)),G}function d(N){function M(I){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(I)}function H(I){return M(I>>18&63)+M(I>>12&63)+M(I>>6&63)+M(63&I)}var Y,j,x,o=N.length%3,G="";for(Y=0,x=N.length-o;Y<x;Y+=3)j=(N[Y]<<16)+(N[Y+1]<<8)+N[Y+2],G+=H(j);switch(o){case 1:j=N[N.length-1],G+=M(j>>2),G+=M(j<<4&63),G+="==";break;case 2:j=(N[N.length-2]<<8)+N[N.length-1],G+=M(j>>10),G+=M(j>>4&63),G+=M(j<<2&63),G+="="}return G}var _=typeof Uint8Array!="undefined"?Uint8Array:Array,y="+".charCodeAt(0),T="/".charCodeAt(0),m="0".charCodeAt(0),b="a".charCodeAt(0),A="A".charCodeAt(0),C="-".charCodeAt(0),R="_".charCodeAt(0);f.toByteArray=E,f.fromByteArray=d})(u===void 0?this.base64js={}:u)},{}],7:[function(t,p,u){},{}],8:[function(t,p,u){function f(m){if(m&&!y(m))throw new Error("Unknown encoding: "+m)}function g(m){return m.toString(this.encoding)}function E(m){this.charReceived=m.length%2,this.charLength=this.charReceived?2:0}function d(m){this.charReceived=m.length%3,this.charLength=this.charReceived?3:0}var _=t(9).Buffer,y=_.isEncoding||function(m){switch(m&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},T=u.StringDecoder=function(m){switch(this.encoding=(m||"utf8").toLowerCase().replace(/[-_]/,""),f(m),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=E;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=d;break;default:return void(this.write=g)}this.charBuffer=new _(6),this.charReceived=0,this.charLength=0};T.prototype.write=function(m){for(var b="";this.charLength;){var A=m.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:m.length;if(m.copy(this.charBuffer,this.charReceived,0,A),this.charReceived+=A,this.charReceived<this.charLength)return"";m=m.slice(A,m.length),b=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var R=b.charCodeAt(b.length-1);if(!(R>=55296&&R<=56319)){if(this.charReceived=this.charLength=0,m.length===0)return b;break}this.charLength+=this.surrogateSize,b=""}this.detectIncompleteChar(m);var C=m.length;this.charLength&&(m.copy(this.charBuffer,0,m.length-this.charReceived,C),C-=this.charReceived),b+=m.toString(this.encoding,0,C);var C=b.length-1,R=b.charCodeAt(C);if(R>=55296&&R<=56319){var N=this.surrogateSize;return this.charLength+=N,this.charReceived+=N,this.charBuffer.copy(this.charBuffer,N,0,N),m.copy(this.charBuffer,0,0,N),b.substring(0,C)}return b},T.prototype.detectIncompleteChar=function(m){for(var b=m.length>=3?3:m.length;b>0;b--){var A=m[m.length-b];if(b==1&&A>>5==6){this.charLength=2;break}if(b<=2&&A>>4==14){this.charLength=3;break}if(b<=3&&A>>3==30){this.charLength=4;break}}this.charReceived=b},T.prototype.end=function(m){var b="";if(m&&m.length&&(b=this.write(m)),this.charReceived){var A=this.charReceived,C=this.charBuffer,R=this.encoding;b+=C.slice(0,A).toString(R)}return b}},{9:9}],9:[function(t,p,u){(function(f){"use strict";function g(){function c(){}try{var S=new Uint8Array(1);return S.foo=function(){return 42},S.constructor=c,S.foo()===42&&S.constructor===c&&typeof S.subarray=="function"&&S.subarray(1,1).byteLength===0}catch{return!1}}function E(){return d.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function d(c){return this instanceof d?(d.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),typeof c=="number"?_(this,c):typeof c=="string"?y(this,c,arguments.length>1?arguments[1]:"utf8"):T(this,c)):arguments.length>1?new d(c,arguments[1]):new d(c)}function _(c,S){if(c=M(c,S<0?0:0|H(S)),!d.TYPED_ARRAY_SUPPORT)for(var U=0;U<S;U++)c[U]=0;return c}function y(c,S,U){return typeof U=="string"&&U!==""||(U="utf8"),c=M(c,0|j(S,U)),c.write(S,U),c}function T(c,S){if(d.isBuffer(S))return m(c,S);if(k(S))return b(c,S);if(S==null)throw new TypeError("must start with number, buffer, array or string");if(typeof ArrayBuffer!="undefined"){if(S.buffer instanceof ArrayBuffer)return A(c,S);if(S instanceof ArrayBuffer)return C(c,S)}return S.length?R(c,S):N(c,S)}function m(c,S){var U=0|H(S.length);return c=M(c,U),S.copy(c,0,0,U),c}function b(c,S){var U=0|H(S.length);c=M(c,U);for(var W=0;W<U;W+=1)c[W]=255&S[W];return c}function A(c,S){var U=0|H(S.length);c=M(c,U);for(var W=0;W<U;W+=1)c[W]=255&S[W];return c}function C(c,S){return d.TYPED_ARRAY_SUPPORT?(S.byteLength,c=d._augment(new Uint8Array(S))):c=A(c,new Uint8Array(S)),c}function R(c,S){var U=0|H(S.length);c=M(c,U);for(var W=0;W<U;W+=1)c[W]=255&S[W];return c}function N(c,S){var U,W=0;S.type==="Buffer"&&k(S.data)&&(U=S.data,W=0|H(U.length)),c=M(c,W);for(var Z=0;Z<W;Z+=1)c[Z]=255&U[Z];return c}function M(c,S){return d.TYPED_ARRAY_SUPPORT?(c=d._augment(new Uint8Array(S)),c.__proto__=d.prototype):(c.length=S,c._isBuffer=!0),S!==0&&S<=d.poolSize>>>1&&(c.parent=ne),c}function H(c){if(c>=E())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+E().toString(16)+" bytes");return 0|c}function Y(c,S){if(!(this instanceof Y))return new Y(c,S);var U=new d(c,S);return delete U.parent,U}function j(c,S){typeof c!="string"&&(c=""+c);var U=c.length;if(U===0)return 0;for(var W=!1;;)switch(S){case"ascii":case"binary":case"raw":case"raws":return U;case"utf8":case"utf-8":return Ie(c).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*U;case"hex":return U>>>1;case"base64":return Pe(c).length;default:if(W)return Ie(c).length;S=(""+S).toLowerCase(),W=!0}}function x(c,S,U){var W=!1;if(S|=0,U=U===void 0||U===1/0?this.length:0|U,c||(c="utf8"),S<0&&(S=0),U>this.length&&(U=this.length),U<=S)return"";for(;;)switch(c){case"hex":return ie(this,S,U);case"utf8":case"utf-8":return re(this,S,U);case"ascii":return ee(this,S,U);case"binary":return be(this,S,U);case"base64":return pe(this,S,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Te(this,S,U);default:if(W)throw new TypeError("Unknown encoding: "+c);c=(c+"").toLowerCase(),W=!0}}function o(c,S,U,W){U=Number(U)||0;var Z=c.length-U;W?(W=Number(W))>Z&&(W=Z):W=Z;var ye=S.length;if(ye%2!=0)throw new Error("Invalid hex string");W>ye/2&&(W=ye/2);for(var qe=0;qe<W;qe++){var ke=parseInt(S.substr(2*qe,2),16);if(isNaN(ke))throw new Error("Invalid hex string");c[U+qe]=ke}return qe}function G(c,S,U,W){return P(Ie(S,c.length-U),c,U,W)}function I(c,S,U,W){return P(xe(S),c,U,W)}function O(c,S,U,W){return I(c,S,U,W)}function q(c,S,U,W){return P(Pe(S),c,U,W)}function Q(c,S,U,W){return P(de(S,c.length-U),c,U,W)}function pe(c,S,U){return S===0&&U===c.length?J.fromByteArray(c):J.fromByteArray(c.slice(S,U))}function re(c,S,U){U=Math.min(c.length,U);for(var W=[],Z=S;Z<U;){var ye=c[Z],qe=null,ke=ye>239?4:ye>223?3:ye>191?2:1;if(Z+ke<=U){var We,Ye,Xe,ht;switch(ke){case 1:ye<128&&(qe=ye);break;case 2:We=c[Z+1],(192&We)==128&&(ht=(31&ye)<<6|63&We)>127&&(qe=ht);break;case 3:We=c[Z+1],Ye=c[Z+2],(192&We)==128&&(192&Ye)==128&&(ht=(15&ye)<<12|(63&We)<<6|63&Ye)>2047&&(ht<55296||ht>57343)&&(qe=ht);break;case 4:We=c[Z+1],Ye=c[Z+2],Xe=c[Z+3],(192&We)==128&&(192&Ye)==128&&(192&Xe)==128&&(ht=(15&ye)<<18|(63&We)<<12|(63&Ye)<<6|63&Xe)>65535&&ht<1114112&&(qe=ht)}}qe===null?(qe=65533,ke=1):qe>65535&&(qe-=65536,W.push(qe>>>10&1023|55296),qe=56320|1023&qe),W.push(qe),Z+=ke}return le(W)}function le(c){var S=c.length;if(S<=K)return String.fromCharCode.apply(String,c);for(var U="",W=0;W<S;)U+=String.fromCharCode.apply(String,c.slice(W,W+=K));return U}function ee(c,S,U){var W="";U=Math.min(c.length,U);for(var Z=S;Z<U;Z++)W+=String.fromCharCode(127&c[Z]);return W}function be(c,S,U){var W="";U=Math.min(c.length,U);for(var Z=S;Z<U;Z++)W+=String.fromCharCode(c[Z]);return W}function ie(c,S,U){var W=c.length;(!S||S<0)&&(S=0),(!U||U<0||U>W)&&(U=W);for(var Z="",ye=S;ye<U;ye++)Z+=me(c[ye]);return Z}function Te(c,S,U){for(var W=c.slice(S,U),Z="",ye=0;ye<W.length;ye+=2)Z+=String.fromCharCode(W[ye]+256*W[ye+1]);return Z}function ve(c,S,U){if(c%1!=0||c<0)throw new RangeError("offset is not uint");if(c+S>U)throw new RangeError("Trying to access beyond buffer length")}function fe(c,S,U,W,Z,ye){if(!d.isBuffer(c))throw new TypeError("buffer must be a Buffer instance");if(S>Z||S<ye)throw new RangeError("value is out of bounds");if(U+W>c.length)throw new RangeError("index out of range")}function Ee(c,S,U,W){S<0&&(S=65535+S+1);for(var Z=0,ye=Math.min(c.length-U,2);Z<ye;Z++)c[U+Z]=(S&255<<8*(W?Z:1-Z))>>>8*(W?Z:1-Z)}function Ae(c,S,U,W){S<0&&(S=4294967295+S+1);for(var Z=0,ye=Math.min(c.length-U,4);Z<ye;Z++)c[U+Z]=S>>>8*(W?Z:3-Z)&255}function z(c,S,U,W,Z,ye){if(S>Z||S<ye)throw new RangeError("value is out of bounds");if(U+W>c.length)throw new RangeError("index out of range");if(U<0)throw new RangeError("index out of range")}function ce(c,S,U,W,Z){return Z||z(c,S,U,4,34028234663852886e22,-34028234663852886e22),L.write(c,S,U,W,23,4),U+4}function Se(c,S,U,W,Z){return Z||z(c,S,U,8,17976931348623157e292,-17976931348623157e292),L.write(c,S,U,W,52,8),U+8}function De(c){if(c=ae(c).replace(we,""),c.length<2)return"";for(;c.length%4!=0;)c+="=";return c}function ae(c){return c.trim?c.trim():c.replace(/^\s+|\s+$/g,"")}function me(c){return c<16?"0"+c.toString(16):c.toString(16)}function Ie(c,S){S=S||1/0;for(var U,W=c.length,Z=null,ye=[],qe=0;qe<W;qe++){if((U=c.charCodeAt(qe))>55295&&U<57344){if(!Z){if(U>56319){(S-=3)>-1&&ye.push(239,191,189);continue}if(qe+1===W){(S-=3)>-1&&ye.push(239,191,189);continue}Z=U;continue}if(U<56320){(S-=3)>-1&&ye.push(239,191,189),Z=U;continue}U=65536+(Z-55296<<10|U-56320)}else Z&&(S-=3)>-1&&ye.push(239,191,189);if(Z=null,U<128){if((S-=1)<0)break;ye.push(U)}else if(U<2048){if((S-=2)<0)break;ye.push(U>>6|192,63&U|128)}else if(U<65536){if((S-=3)<0)break;ye.push(U>>12|224,U>>6&63|128,63&U|128)}else{if(!(U<1114112))throw new Error("Invalid code point");if((S-=4)<0)break;ye.push(U>>18|240,U>>12&63|128,U>>6&63|128,63&U|128)}}return ye}function xe(c){for(var S=[],U=0;U<c.length;U++)S.push(255&c.charCodeAt(U));return S}function de(c,S){for(var U,W,Z,ye=[],qe=0;qe<c.length&&!((S-=2)<0);qe++)U=c.charCodeAt(qe),W=U>>8,Z=U%256,ye.push(Z),ye.push(W);return ye}function Pe(c){return J.toByteArray(De(c))}function P(c,S,U,W){for(var Z=0;Z<W&&!(Z+U>=S.length||Z>=c.length);Z++)S[Z+U]=c[Z];return Z}var J=t(6),L=t(14),k=t(24);u.Buffer=d,u.SlowBuffer=Y,u.INSPECT_MAX_BYTES=50,d.poolSize=8192;var ne={};d.TYPED_ARRAY_SUPPORT=f.TYPED_ARRAY_SUPPORT!==void 0?f.TYPED_ARRAY_SUPPORT:g(),d.TYPED_ARRAY_SUPPORT?(d.prototype.__proto__=Uint8Array.prototype,d.__proto__=Uint8Array):(d.prototype.length=void 0,d.prototype.parent=void 0),d.isBuffer=function(c){return!(c==null||!c._isBuffer)},d.compare=function(c,S){if(!d.isBuffer(c)||!d.isBuffer(S))throw new TypeError("Arguments must be Buffers");if(c===S)return 0;for(var U=c.length,W=S.length,Z=0,ye=Math.min(U,W);Z<ye&&c[Z]===S[Z];)++Z;return Z!==ye&&(U=c[Z],W=S[Z]),U<W?-1:W<U?1:0},d.isEncoding=function(c){switch(String(c).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(c,S){if(!k(c))throw new TypeError("list argument must be an Array of Buffers.");if(c.length===0)return new d(0);var U;if(S===void 0)for(S=0,U=0;U<c.length;U++)S+=c[U].length;var W=new d(S),Z=0;for(U=0;U<c.length;U++){var ye=c[U];ye.copy(W,Z),Z+=ye.length}return W},d.byteLength=j,d.prototype.toString=function(){var c=0|this.length;return c===0?"":arguments.length===0?re(this,0,c):x.apply(this,arguments)},d.prototype.equals=function(c){if(!d.isBuffer(c))throw new TypeError("Argument must be a Buffer");return this===c||d.compare(this,c)===0},d.prototype.inspect=function(){var c="",S=u.INSPECT_MAX_BYTES;return this.length>0&&(c=this.toString("hex",0,S).match(/.{2}/g).join(" "),this.length>S&&(c+=" ... ")),"<Buffer "+c+">"},d.prototype.compare=function(c){if(!d.isBuffer(c))throw new TypeError("Argument must be a Buffer");return this===c?0:d.compare(this,c)},d.prototype.indexOf=function(c,S){function U(W,Z,ye){for(var qe=-1,ke=0;ye+ke<W.length;ke++)if(W[ye+ke]===Z[qe===-1?0:ke-qe]){if(qe===-1&&(qe=ke),ke-qe+1===Z.length)return ye+qe}else qe=-1;return-1}if(S>2147483647?S=2147483647:S<-2147483648&&(S=-2147483648),S>>=0,this.length===0||S>=this.length)return-1;if(S<0&&(S=Math.max(this.length+S,0)),typeof c=="string")return c.length===0?-1:String.prototype.indexOf.call(this,c,S);if(d.isBuffer(c))return U(this,c,S);if(typeof c=="number")return d.TYPED_ARRAY_SUPPORT&&Uint8Array.prototype.indexOf==="function"?Uint8Array.prototype.indexOf.call(this,c,S):U(this,[c],S);throw new TypeError("val must be string, number or Buffer")},d.prototype.get=function(c){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(c)},d.prototype.set=function(c,S){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(c,S)},d.prototype.write=function(c,S,U,W){if(S===void 0)W="utf8",U=this.length,S=0;else if(U===void 0&&typeof S=="string")W=S,U=this.length,S=0;else if(isFinite(S))S|=0,isFinite(U)?(U|=0,W===void 0&&(W="utf8")):(W=U,U=void 0);else{var Z=W;W=S,S=0|U,U=Z}var ye=this.length-S;if((U===void 0||U>ye)&&(U=ye),c.length>0&&(U<0||S<0)||S>this.length)throw new RangeError("attempt to write outside buffer bounds");W||(W="utf8");for(var qe=!1;;)switch(W){case"hex":return o(this,c,S,U);case"utf8":case"utf-8":return G(this,c,S,U);case"ascii":return I(this,c,S,U);case"binary":return O(this,c,S,U);case"base64":return q(this,c,S,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,c,S,U);default:if(qe)throw new TypeError("Unknown encoding: "+W);W=(""+W).toLowerCase(),qe=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var K=4096;d.prototype.slice=function(c,S){var U=this.length;c=~~c,S=S===void 0?U:~~S,c<0?(c+=U)<0&&(c=0):c>U&&(c=U),S<0?(S+=U)<0&&(S=0):S>U&&(S=U),S<c&&(S=c);var W;if(d.TYPED_ARRAY_SUPPORT)W=d._augment(this.subarray(c,S));else{var Z=S-c;W=new d(Z,void 0);for(var ye=0;ye<Z;ye++)W[ye]=this[ye+c]}return W.length&&(W.parent=this.parent||this),W},d.prototype.readUIntLE=function(c,S,U){c|=0,S|=0,U||ve(c,S,this.length);for(var W=this[c],Z=1,ye=0;++ye<S&&(Z*=256);)W+=this[c+ye]*Z;return W},d.prototype.readUIntBE=function(c,S,U){c|=0,S|=0,U||ve(c,S,this.length);for(var W=this[c+--S],Z=1;S>0&&(Z*=256);)W+=this[c+--S]*Z;return W},d.prototype.readUInt8=function(c,S){return S||ve(c,1,this.length),this[c]},d.prototype.readUInt16LE=function(c,S){return S||ve(c,2,this.length),this[c]|this[c+1]<<8},d.prototype.readUInt16BE=function(c,S){return S||ve(c,2,this.length),this[c]<<8|this[c+1]},d.prototype.readUInt32LE=function(c,S){return S||ve(c,4,this.length),(this[c]|this[c+1]<<8|this[c+2]<<16)+16777216*this[c+3]},d.prototype.readUInt32BE=function(c,S){return S||ve(c,4,this.length),16777216*this[c]+(this[c+1]<<16|this[c+2]<<8|this[c+3])},d.prototype.readIntLE=function(c,S,U){c|=0,S|=0,U||ve(c,S,this.length);for(var W=this[c],Z=1,ye=0;++ye<S&&(Z*=256);)W+=this[c+ye]*Z;return Z*=128,W>=Z&&(W-=Math.pow(2,8*S)),W},d.prototype.readIntBE=function(c,S,U){c|=0,S|=0,U||ve(c,S,this.length);for(var W=S,Z=1,ye=this[c+--W];W>0&&(Z*=256);)ye+=this[c+--W]*Z;return Z*=128,ye>=Z&&(ye-=Math.pow(2,8*S)),ye},d.prototype.readInt8=function(c,S){return S||ve(c,1,this.length),128&this[c]?-1*(255-this[c]+1):this[c]},d.prototype.readInt16LE=function(c,S){S||ve(c,2,this.length);var U=this[c]|this[c+1]<<8;return 32768&U?4294901760|U:U},d.prototype.readInt16BE=function(c,S){S||ve(c,2,this.length);var U=this[c+1]|this[c]<<8;return 32768&U?4294901760|U:U},d.prototype.readInt32LE=function(c,S){return S||ve(c,4,this.length),this[c]|this[c+1]<<8|this[c+2]<<16|this[c+3]<<24},d.prototype.readInt32BE=function(c,S){return S||ve(c,4,this.length),this[c]<<24|this[c+1]<<16|this[c+2]<<8|this[c+3]},d.prototype.readFloatLE=function(c,S){return S||ve(c,4,this.length),L.read(this,c,!0,23,4)},d.prototype.readFloatBE=function(c,S){return S||ve(c,4,this.length),L.read(this,c,!1,23,4)},d.prototype.readDoubleLE=function(c,S){return S||ve(c,8,this.length),L.read(this,c,!0,52,8)},d.prototype.readDoubleBE=function(c,S){return S||ve(c,8,this.length),L.read(this,c,!1,52,8)},d.prototype.writeUIntLE=function(c,S,U,W){c=+c,S|=0,U|=0,W||fe(this,c,S,U,Math.pow(2,8*U),0);var Z=1,ye=0;for(this[S]=255&c;++ye<U&&(Z*=256);)this[S+ye]=c/Z&255;return S+U},d.prototype.writeUIntBE=function(c,S,U,W){c=+c,S|=0,U|=0,W||fe(this,c,S,U,Math.pow(2,8*U),0);var Z=U-1,ye=1;for(this[S+Z]=255&c;--Z>=0&&(ye*=256);)this[S+Z]=c/ye&255;return S+U},d.prototype.writeUInt8=function(c,S,U){return c=+c,S|=0,U||fe(this,c,S,1,255,0),d.TYPED_ARRAY_SUPPORT||(c=Math.floor(c)),this[S]=255&c,S+1},d.prototype.writeUInt16LE=function(c,S,U){return c=+c,S|=0,U||fe(this,c,S,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[S]=255&c,this[S+1]=c>>>8):Ee(this,c,S,!0),S+2},d.prototype.writeUInt16BE=function(c,S,U){return c=+c,S|=0,U||fe(this,c,S,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[S]=c>>>8,this[S+1]=255&c):Ee(this,c,S,!1),S+2},d.prototype.writeUInt32LE=function(c,S,U){return c=+c,S|=0,U||fe(this,c,S,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[S+3]=c>>>24,this[S+2]=c>>>16,this[S+1]=c>>>8,this[S]=255&c):Ae(this,c,S,!0),S+4},d.prototype.writeUInt32BE=function(c,S,U){return c=+c,S|=0,U||fe(this,c,S,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[S]=c>>>24,this[S+1]=c>>>16,this[S+2]=c>>>8,this[S+3]=255&c):Ae(this,c,S,!1),S+4},d.prototype.writeIntLE=function(c,S,U,W){if(c=+c,S|=0,!W){var Z=Math.pow(2,8*U-1);fe(this,c,S,U,Z-1,-Z)}var ye=0,qe=1,ke=c<0?1:0;for(this[S]=255&c;++ye<U&&(qe*=256);)this[S+ye]=(c/qe>>0)-ke&255;return S+U},d.prototype.writeIntBE=function(c,S,U,W){if(c=+c,S|=0,!W){var Z=Math.pow(2,8*U-1);fe(this,c,S,U,Z-1,-Z)}var ye=U-1,qe=1,ke=c<0?1:0;for(this[S+ye]=255&c;--ye>=0&&(qe*=256);)this[S+ye]=(c/qe>>0)-ke&255;return S+U},d.prototype.writeInt8=function(c,S,U){return c=+c,S|=0,U||fe(this,c,S,1,127,-128),d.TYPED_ARRAY_SUPPORT||(c=Math.floor(c)),c<0&&(c=255+c+1),this[S]=255&c,S+1},d.prototype.writeInt16LE=function(c,S,U){return c=+c,S|=0,U||fe(this,c,S,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[S]=255&c,this[S+1]=c>>>8):Ee(this,c,S,!0),S+2},d.prototype.writeInt16BE=function(c,S,U){return c=+c,S|=0,U||fe(this,c,S,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[S]=c>>>8,this[S+1]=255&c):Ee(this,c,S,!1),S+2},d.prototype.writeInt32LE=function(c,S,U){return c=+c,S|=0,U||fe(this,c,S,4,2147483647,-2147483648),d.TYPED_ARRAY_SUPPORT?(this[S]=255&c,this[S+1]=c>>>8,this[S+2]=c>>>16,this[S+3]=c>>>24):Ae(this,c,S,!0),S+4},d.prototype.writeInt32BE=function(c,S,U){return c=+c,S|=0,U||fe(this,c,S,4,2147483647,-2147483648),c<0&&(c=4294967295+c+1),d.TYPED_ARRAY_SUPPORT?(this[S]=c>>>24,this[S+1]=c>>>16,this[S+2]=c>>>8,this[S+3]=255&c):Ae(this,c,S,!1),S+4},d.prototype.writeFloatLE=function(c,S,U){return ce(this,c,S,!0,U)},d.prototype.writeFloatBE=function(c,S,U){return ce(this,c,S,!1,U)},d.prototype.writeDoubleLE=function(c,S,U){return Se(this,c,S,!0,U)},d.prototype.writeDoubleBE=function(c,S,U){return Se(this,c,S,!1,U)},d.prototype.copy=function(c,S,U,W){if(U||(U=0),W||W===0||(W=this.length),S>=c.length&&(S=c.length),S||(S=0),W>0&&W<U&&(W=U),W===U||c.length===0||this.length===0)return 0;if(S<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("sourceStart out of bounds");if(W<0)throw new RangeError("sourceEnd out of bounds");W>this.length&&(W=this.length),c.length-S<W-U&&(W=c.length-S+U);var Z,ye=W-U;if(this===c&&U<S&&S<W)for(Z=ye-1;Z>=0;Z--)c[Z+S]=this[Z+U];else if(ye<1e3||!d.TYPED_ARRAY_SUPPORT)for(Z=0;Z<ye;Z++)c[Z+S]=this[Z+U];else c._set(this.subarray(U,U+ye),S);return ye},d.prototype.fill=function(c,S,U){if(c||(c=0),S||(S=0),U||(U=this.length),U<S)throw new RangeError("end < start");if(U!==S&&this.length!==0){if(S<0||S>=this.length)throw new RangeError("start out of bounds");if(U<0||U>this.length)throw new RangeError("end out of bounds");var W;if(typeof c=="number")for(W=S;W<U;W++)this[W]=c;else{var Z=Ie(c.toString()),ye=Z.length;for(W=S;W<U;W++)this[W]=Z[W%ye]}return this}},d.prototype.toArrayBuffer=function(){if(typeof Uint8Array!="undefined"){if(d.TYPED_ARRAY_SUPPORT)return new d(this).buffer;for(var c=new Uint8Array(this.length),S=0,U=c.length;S<U;S+=1)c[S]=this[S];return c.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var he=d.prototype;d._augment=function(c){return c.constructor=d,c._isBuffer=!0,c._set=c.set,c.get=he.get,c.set=he.set,c.write=he.write,c.toString=he.toString,c.toLocaleString=he.toString,c.toJSON=he.toJSON,c.equals=he.equals,c.compare=he.compare,c.indexOf=he.indexOf,c.copy=he.copy,c.slice=he.slice,c.readUIntLE=he.readUIntLE,c.readUIntBE=he.readUIntBE,c.readUInt8=he.readUInt8,c.readUInt16LE=he.readUInt16LE,c.readUInt16BE=he.readUInt16BE,c.readUInt32LE=he.readUInt32LE,c.readUInt32BE=he.readUInt32BE,c.readIntLE=he.readIntLE,c.readIntBE=he.readIntBE,c.readInt8=he.readInt8,c.readInt16LE=he.readInt16LE,c.readInt16BE=he.readInt16BE,c.readInt32LE=he.readInt32LE,c.readInt32BE=he.readInt32BE,c.readFloatLE=he.readFloatLE,c.readFloatBE=he.readFloatBE,c.readDoubleLE=he.readDoubleLE,c.readDoubleBE=he.readDoubleBE,c.writeUInt8=he.writeUInt8,c.writeUIntLE=he.writeUIntLE,c.writeUIntBE=he.writeUIntBE,c.writeUInt16LE=he.writeUInt16LE,c.writeUInt16BE=he.writeUInt16BE,c.writeUInt32LE=he.writeUInt32LE,c.writeUInt32BE=he.writeUInt32BE,c.writeIntLE=he.writeIntLE,c.writeIntBE=he.writeIntBE,c.writeInt8=he.writeInt8,c.writeInt16LE=he.writeInt16LE,c.writeInt16BE=he.writeInt16BE,c.writeInt32LE=he.writeInt32LE,c.writeInt32BE=he.writeInt32BE,c.writeFloatLE=he.writeFloatLE,c.writeFloatBE=he.writeFloatBE,c.writeDoubleLE=he.writeDoubleLE,c.writeDoubleBE=he.writeDoubleBE,c.fill=he.fill,c.inspect=he.inspect,c.toArrayBuffer=he.toArrayBuffer,c};var we=/[^+\/0-9A-Za-z-_]/g}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{14:14,24:24,6:6}],10:[function(t,p,u){var f={};f.parseBuffer=function(d){return new g(d).parse()},f.addBoxProcessor=function(d,_){typeof d=="string"&&typeof _=="function"&&(E.prototype._boxProcessors[d]=_)},f.createFile=function(){return new g},f.createBox=function(d,_,y){var T=E.create(d);return _&&_.append(T,y),T},f.createFullBox=function(d,_,y){var T=f.createBox(d,_,y);return T.version=0,T.flags=0,T},f.Utils={},f.Utils.dataViewToString=function(d,_){var y=_||"utf-8";if(typeof TextDecoder!="undefined")return new TextDecoder(y).decode(d);var T=[],m=0;if(y==="utf-8")for(;m<d.byteLength;){var b=d.getUint8(m++);b<128||(b<224?(b=(31&b)<<6,b|=63&d.getUint8(m++)):b<240?(b=(15&b)<<12,b|=(63&d.getUint8(m++))<<6,b|=63&d.getUint8(m++)):(b=(7&b)<<18,b|=(63&d.getUint8(m++))<<12,b|=(63&d.getUint8(m++))<<6,b|=63&d.getUint8(m++))),T.push(String.fromCharCode(b))}else for(;m<d.byteLength;)T.push(String.fromCharCode(d.getUint8(m++)));return T.join("")},f.Utils.utf8ToByteArray=function(d){var _,y;if(typeof TextEncoder!="undefined")_=new TextEncoder().encode(d);else for(_=[],y=0;y<d.length;++y){var T=d.charCodeAt(y);T<128?_.push(T):T<2048?(_.push(192|T>>6),_.push(128|63&T)):T<65536?(_.push(224|T>>12),_.push(128|63&T>>6),_.push(128|63&T)):(_.push(240|T>>18),_.push(128|63&T>>12),_.push(128|63&T>>6),_.push(128|63&T))}return _},f.Utils.appendBox=function(d,_,y){if(_._offset=d._cursor.offset,_._root=d._root?d._root:d,_._raw=d._raw,_._parent=d,y!==-1){if(y==null)return void d.boxes.push(_);var T,m=-1;if(typeof y=="number")m=y;else{if(typeof y=="string")T=y;else{if(typeof y!="object"||!y.type)return void d.boxes.push(_);T=y.type}for(var b=0;b<d.boxes.length;b++)if(T===d.boxes[b].type){m=b+1;break}}d.boxes.splice(m,0,_)}},u!==void 0&&(u.parseBuffer=f.parseBuffer,u.addBoxProcessor=f.addBoxProcessor,u.createFile=f.createFile,u.createBox=f.createBox,u.createFullBox=f.createFullBox,u.Utils=f.Utils),f.Cursor=function(d){this.offset=d===void 0?0:d};var g=function(d){this._cursor=new f.Cursor,this.boxes=[],d&&(this._raw=new DataView(d))};g.prototype.fetch=function(d){var _=this.fetchAll(d,!0);return _.length?_[0]:null},g.prototype.fetchAll=function(d,_){var y=[];return g._sweep.call(this,d,y,_),y},g.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var d=E.parse(this);if(d.type===void 0)break;this.boxes.push(d)}return this},g._sweep=function(d,_,y){this.type&&this.type==d&&_.push(this);for(var T in this.boxes){if(_.length&&y)return;g._sweep.call(this.boxes[T],d,_,y)}},g.prototype.write=function(){var d,_=0;for(d=0;d<this.boxes.length;d++)_+=this.boxes[d].getLength(!1);var y=new Uint8Array(_);for(this._rawo=new DataView(y.buffer),this.bytes=y,this._cursor.offset=0,d=0;d<this.boxes.length;d++)this.boxes[d].write();return y.buffer},g.prototype.append=function(d,_){f.Utils.appendBox(this,d,_)};var E=function(){this._cursor=new f.Cursor};E.parse=function(d){var _=new E;return _._offset=d._cursor.offset,_._root=d._root?d._root:d,_._raw=d._raw,_._parent=d,_._parseBox(),d._cursor.offset=_._raw.byteOffset+_._raw.byteLength,_},E.create=function(d){var _=new E;return _.type=d,_.boxes=[],_},E.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],E.prototype._boxProcessors={},E.prototype._procField=function(d,_,y){this._parsing?this[d]=this._readField(_,y):this._writeField(_,y,this[d])},E.prototype._procFieldArray=function(d,_,y,T){var m;if(this._parsing)for(this[d]=[],m=0;m<_;m++)this[d][m]=this._readField(y,T);else for(m=0;m<this[d].length;m++)this._writeField(y,T,this[d][m])},E.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},E.prototype._procEntries=function(d,_,y){var T;if(this._parsing)for(this[d]=[],T=0;T<_;T++)this[d].push({}),y.call(this,this[d][T]);else for(T=0;T<_;T++)y.call(this,this[d][T])},E.prototype._procSubEntries=function(d,_,y,T){var m;if(this._parsing)for(d[_]=[],m=0;m<y;m++)d[_].push({}),T.call(this,d[_][m]);else for(m=0;m<y;m++)T.call(this,d[_][m])},E.prototype._procEntryField=function(d,_,y,T){this._parsing?d[_]=this._readField(y,T):this._writeField(y,T,d[_])},E.prototype._procSubBoxes=function(d,_){var y;if(this._parsing)for(this[d]=[],y=0;y<_;y++)this[d].push(E.parse(this));else for(y=0;y<_;y++)this._rawo?this[d][y].write():this.size+=this[d][y].getLength()},E.prototype._readField=function(d,_){switch(d){case"uint":return this._readUint(_);case"int":return this._readInt(_);case"template":return this._readTemplate(_);case"string":return _===-1?this._readTerminatedString():this._readString(_);case"data":return this._readData(_);case"utf8":return this._readUTF8String();default:return-1}},E.prototype._readInt=function(d){var _=null,y=this._cursor.offset-this._raw.byteOffset;switch(d){case 8:_=this._raw.getInt8(y);break;case 16:_=this._raw.getInt16(y);break;case 32:_=this._raw.getInt32(y);break;case 64:var T=this._raw.getInt32(y),m=this._raw.getInt32(y+4);_=T*Math.pow(2,32)+m}return this._cursor.offset+=d>>3,_},E.prototype._readUint=function(d){var _,y,T=null,m=this._cursor.offset-this._raw.byteOffset;switch(d){case 8:T=this._raw.getUint8(m);break;case 16:T=this._raw.getUint16(m);break;case 24:_=this._raw.getUint16(m),y=this._raw.getUint8(m+2),T=(_<<8)+y;break;case 32:T=this._raw.getUint32(m);break;case 64:_=this._raw.getUint32(m),y=this._raw.getUint32(m+4),T=_*Math.pow(2,32)+y}return this._cursor.offset+=d>>3,T},E.prototype._readString=function(d){for(var _="",y=0;y<d;y++){var T=this._readUint(8);_+=String.fromCharCode(T)}return _},E.prototype._readTemplate=function(d){return this._readUint(d/2)+this._readUint(d/2)/Math.pow(2,d/2)},E.prototype._readTerminatedString=function(){for(var d="";this._cursor.offset-this._offset<this._raw.byteLength;){var _=this._readUint(8);if(_===0)break;d+=String.fromCharCode(_)}return d},E.prototype._readData=function(d){var _=d>0?d:this._raw.byteLength-(this._cursor.offset-this._offset);if(_>0){var y=new Uint8Array(this._raw.buffer,this._cursor.offset,_);return this._cursor.offset+=_,y}return null},E.prototype._readUTF8String=function(){var d=this._raw.byteLength-(this._cursor.offset-this._offset),_=null;return d>0&&(_=new DataView(this._raw.buffer,this._cursor.offset,d),this._cursor.offset+=d),_&&f.Utils.dataViewToString(_)},E.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)return void(this._root._incomplete=!0);switch(this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset+8);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1?this._parseContainerBox():this._data=this._readData())},E.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},E.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(E.parse(this))},E.prototype.append=function(d,_){f.Utils.appendBox(this,d,_)},E.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1)for(var d=0;d<this.boxes.length;d++)this.size+=this.boxes[d].getLength();return this._data&&this._writeData(this._data),this.size},E.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1)for(var d=0;d<this.boxes.length;d++)this.boxes[d].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},E.prototype._writeInt=function(d,_){if(this._rawo){var y=this._cursor.offset-this._rawo.byteOffset;switch(d){case 8:this._rawo.setInt8(y,_);break;case 16:this._rawo.setInt16(y,_);break;case 32:this._rawo.setInt32(y,_);break;case 64:var T=Math.floor(_/Math.pow(2,32)),m=_-T*Math.pow(2,32);this._rawo.setUint32(y,T),this._rawo.setUint32(y+4,m)}this._cursor.offset+=d>>3}else this.size+=d>>3},E.prototype._writeUint=function(d,_){if(this._rawo){var y,T,m=this._cursor.offset-this._rawo.byteOffset;switch(d){case 8:this._rawo.setUint8(m,_);break;case 16:this._rawo.setUint16(m,_);break;case 24:y=(16776960&_)>>8,T=255&_,this._rawo.setUint16(m,y),this._rawo.setUint8(m+2,T);break;case 32:this._rawo.setUint32(m,_);break;case 64:y=Math.floor(_/Math.pow(2,32)),T=_-y*Math.pow(2,32),this._rawo.setUint32(m,y),this._rawo.setUint32(m+4,T)}this._cursor.offset+=d>>3}else this.size+=d>>3},E.prototype._writeString=function(d,_){for(var y=0;y<d;y++)this._writeUint(8,_.charCodeAt(y))},E.prototype._writeTerminatedString=function(d){if(d.length!==0){for(var _=0;_<d.length;_++)this._writeUint(8,d.charCodeAt(_));this._writeUint(8,0)}},E.prototype._writeTemplate=function(d,_){var y=Math.floor(_),T=(_-y)*Math.pow(2,d/2);this._writeUint(d/2,y),this._writeUint(d/2,T)},E.prototype._writeData=function(d){var _;if(d)if(this._rawo){if(d instanceof Array){for(var y=this._cursor.offset-this._rawo.byteOffset,_=0;_<d.length;_++)this._rawo.setInt8(y+_,d[_]);this._cursor.offset+=d.length}d instanceof Uint8Array&&(this._root.bytes.set(d,this._cursor.offset),this._cursor.offset+=d.length)}else this.size+=d.length},E.prototype._writeUTF8String=function(d){var _=f.Utils.utf8ToByteArray(d);if(this._rawo)for(var y=new DataView(this._rawo.buffer,this._cursor.offset,_.length),T=0;T<_.length;T++)y.setUint8(T,_[T]);else this.size+=_.length},E.prototype._writeField=function(d,_,y){switch(d){case"uint":this._writeUint(_,y);break;case"int":this._writeInt(_,y);break;case"template":this._writeTemplate(_,y);break;case"string":_==-1?this._writeTerminatedString(y):this._writeString(_,y);break;case"data":this._writeData(y);break;case"utf8":this._writeUTF8String(y)}},E.prototype._boxProcessors.avc1=E.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},E.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},E.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(d){this._procEntryField(d,"segment_duration","uint",this.version===1?64:32),this._procEntryField(d,"media_time","int",this.version===1?64:32),this._procEntryField(d,"media_rate_integer","int",16),this._procEntryField(d,"media_rate_fraction","int",16)})},E.prototype._boxProcessors.emsg=function(){this._procFullBox(),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("message_data","data",-1)},E.prototype._boxProcessors.free=E.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},E.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},E.prototype._boxProcessors.ftyp=E.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var d=-1;this._parsing&&(d=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",d,"string",4)},E.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},E.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},E.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",this.version==1?64:32),this._parsing||typeof this.language!="string"||(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},E.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",this.version==1?64:32)},E.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},E.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},E.prototype._boxProcessors.mp4a=E.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},E.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",this.version==1?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},E.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},E.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},E.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},E.prototype._boxProcessors.sdtp=function(){this._procFullBox();var d=-1;this._parsing&&(d=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",d,"uint",8)},E.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",this.version==1?64:32),this._procField("first_offset","uint",this.version==1?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(d){this._parsing||(d.reference=(1&d.reference_type)<<31,d.reference|=2147483647&d.referenced_size,d.sap=(1&d.starts_with_SAP)<<31,d.sap|=(3&d.SAP_type)<<28,d.sap|=268435455&d.SAP_delta_time),this._procEntryField(d,"reference","uint",32),this._procEntryField(d,"subsegment_duration","uint",32),this._procEntryField(d,"sap","uint",32),this._parsing&&(d.reference_type=d.reference>>31&1,d.referenced_size=2147483647&d.reference,d.starts_with_SAP=d.sap>>31&1,d.SAP_type=d.sap>>28&7,d.SAP_delta_time=268435455&d.sap)})},E.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},E.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(d){this._procEntryField(d,"ranges_count","uint",32),this._procSubEntries(d,"ranges",d.ranges_count,function(_){this._procEntryField(_,"level","uint",8),this._procEntryField(_,"range_size","uint",24)})})},E.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},E.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(d){this._procEntryField(d,"sample_delta","uint",32),this._procEntryField(d,"subsample_count","uint",16),this._procSubEntries(d,"subsamples",d.subsample_count,function(_){this._procEntryField(_,"subsample_size","uint",this.version===1?32:16),this._procEntryField(_,"subsample_priority","uint",8),this._procEntryField(_,"discardable","uint",8),this._procEntryField(_,"codec_specific_parameters","uint",32)})})},E.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},E.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",this.version==1?64:32)},E.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},E.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(d){this._procEntryField(d,"time","uint",this.version===1?64:32),this._procEntryField(d,"moof_offset","uint",this.version===1?64:32),this._procEntryField(d,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(d,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(d,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},E.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",this.version==1?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},E.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},E.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(d){256&this.flags&&this._procEntryField(d,"sample_duration","uint",32),512&this.flags&&this._procEntryField(d,"sample_size","uint",32),1024&this.flags&&this._procEntryField(d,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(d,"sample_composition_time_offset",this.version===1?"int":"uint",32)})},E.prototype._boxProcessors["url "]=E.prototype._boxProcessors["urn "]=function(){this._procFullBox(),this.type==="urn "&&this._procField("name","string",-1),this._procField("location","string",-1)},E.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},E.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},E.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},E.prototype._boxProcessors.vtte=function(){}},{}],11:[function(t,p,u){(function(f){function g(j){return Array.isArray?Array.isArray(j):Y(j)==="[object Array]"}function E(j){return typeof j=="boolean"}function d(j){return j===null}function _(j){return j==null}function y(j){return typeof j=="number"}function T(j){return typeof j=="string"}function m(j){return typeof j=="symbol"}function b(j){return j===void 0}function A(j){return Y(j)==="[object RegExp]"}function C(j){return typeof j=="object"&&j!==null}function R(j){return Y(j)==="[object Date]"}function N(j){return Y(j)==="[object Error]"||j instanceof Error}function M(j){return typeof j=="function"}function H(j){return j===null||typeof j=="boolean"||typeof j=="number"||typeof j=="string"||typeof j=="symbol"||j===void 0}function Y(j){return Object.prototype.toString.call(j)}u.isArray=g,u.isBoolean=E,u.isNull=d,u.isNullOrUndefined=_,u.isNumber=y,u.isString=T,u.isSymbol=m,u.isUndefined=b,u.isRegExp=A,u.isObject=C,u.isDate=R,u.isError=N,u.isFunction=M,u.isPrimitive=H,u.isBuffer=f.isBuffer}).call(this,{isBuffer:t(23)})},{23:23}],12:[function(t,p,u){function f(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function g(y){return typeof y=="function"}function E(y){return typeof y=="number"}function d(y){return typeof y=="object"&&y!==null}function _(y){return y===void 0}p.exports=f,f.EventEmitter=f,f.prototype._events=void 0,f.prototype._maxListeners=void 0,f.defaultMaxListeners=10,f.prototype.setMaxListeners=function(y){if(!E(y)||y<0||isNaN(y))throw TypeError("n must be a positive number");return this._maxListeners=y,this},f.prototype.emit=function(y){var T,m,b,A,C,R;if(this._events||(this._events={}),y==="error"&&(!this._events.error||d(this._events.error)&&!this._events.error.length))throw(T=arguments[1])instanceof Error?T:TypeError('Uncaught, unspecified "error" event.');if(m=this._events[y],_(m))return!1;if(g(m))switch(arguments.length){case 1:m.call(this);break;case 2:m.call(this,arguments[1]);break;case 3:m.call(this,arguments[1],arguments[2]);break;default:for(b=arguments.length,A=new Array(b-1),C=1;C<b;C++)A[C-1]=arguments[C];m.apply(this,A)}else if(d(m)){for(b=arguments.length,A=new Array(b-1),C=1;C<b;C++)A[C-1]=arguments[C];for(R=m.slice(),b=R.length,C=0;C<b;C++)R[C].apply(this,A)}return!0},f.prototype.addListener=function(y,T){var m;if(!g(T))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",y,g(T.listener)?T.listener:T),this._events[y]?d(this._events[y])?this._events[y].push(T):this._events[y]=[this._events[y],T]:this._events[y]=T,d(this._events[y])&&!this._events[y].warned){var m;m=_(this._maxListeners)?f.defaultMaxListeners:this._maxListeners,m&&m>0&&this._events[y].length>m&&(this._events[y].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[y].length),typeof console.trace=="function"&&console.trace())}return this},f.prototype.on=f.prototype.addListener,f.prototype.once=function(y,T){function m(){this.removeListener(y,m),b||(b=!0,T.apply(this,arguments))}if(!g(T))throw TypeError("listener must be a function");var b=!1;return m.listener=T,this.on(y,m),this},f.prototype.removeListener=function(y,T){var m,b,A,C;if(!g(T))throw TypeError("listener must be a function");if(!this._events||!this._events[y])return this;if(m=this._events[y],A=m.length,b=-1,m===T||g(m.listener)&&m.listener===T)delete this._events[y],this._events.removeListener&&this.emit("removeListener",y,T);else if(d(m)){for(C=A;C-- >0;)if(m[C]===T||m[C].listener&&m[C].listener===T){b=C;break}if(b<0)return this;m.length===1?(m.length=0,delete this._events[y]):m.splice(b,1),this._events.removeListener&&this.emit("removeListener",y,T)}return this},f.prototype.removeAllListeners=function(y){var T,m;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[y]&&delete this._events[y],this;if(arguments.length===0){for(T in this._events)T!=="removeListener"&&this.removeAllListeners(T);return this.removeAllListeners("removeListener"),this._events={},this}if(m=this._events[y],g(m))this.removeListener(y,m);else for(;m.length;)this.removeListener(y,m[m.length-1]);return delete this._events[y],this},f.prototype.listeners=function(y){return this._events&&this._events[y]?g(this._events[y])?[this._events[y]]:this._events[y].slice():[]},f.listenerCount=function(y,T){return y._events&&y._events[T]?g(y._events[T])?1:y._events[T].length:0}},{}],13:[function(t,p,u){"use strict";p.exports=function f(g,E){if(g===E)return!0;var d,_=Array.isArray(g),y=Array.isArray(E);if(_&&y){if(g.length!=E.length)return!1;for(d=0;d<g.length;d++)if(!f(g[d],E[d]))return!1;return!0}if(_!=y)return!1;if(g&&E&&typeof g=="object"&&typeof E=="object"){var T=Object.keys(g);if(T.length!==Object.keys(E).length)return!1;var m=g instanceof Date,b=E instanceof Date;if(m&&b)return g.getTime()==E.getTime();if(m!=b)return!1;var A=g instanceof RegExp,C=E instanceof RegExp;if(A&&C)return g.toString()==E.toString();if(A!=C)return!1;for(d=0;d<T.length;d++)if(!Object.prototype.hasOwnProperty.call(E,T[d]))return!1;for(d=0;d<T.length;d++)if(!f(g[T[d]],E[T[d]]))return!1;return!0}return!1}},{}],14:[function(t,p,u){u.read=function(f,g,E,d,_){var y,T,m=8*_-d-1,b=(1<<m)-1,A=b>>1,C=-7,R=E?_-1:0,N=E?-1:1,M=f[g+R];for(R+=N,y=M&(1<<-C)-1,M>>=-C,C+=m;C>0;y=256*y+f[g+R],R+=N,C-=8);for(T=y&(1<<-C)-1,y>>=-C,C+=d;C>0;T=256*T+f[g+R],R+=N,C-=8);if(y===0)y=1-A;else{if(y===b)return T?NaN:1/0*(M?-1:1);T+=Math.pow(2,d),y-=A}return(M?-1:1)*T*Math.pow(2,y-d)},u.write=function(f,g,E,d,_,y){var T,m,b,A=8*y-_-1,C=(1<<A)-1,R=C>>1,N=_===23?Math.pow(2,-24)-Math.pow(2,-77):0,M=d?0:y-1,H=d?1:-1,Y=g<0||g===0&&1/g<0?1:0;for(g=Math.abs(g),isNaN(g)||g===1/0?(m=isNaN(g)?1:0,T=C):(T=Math.floor(Math.log(g)/Math.LN2),g*(b=Math.pow(2,-T))<1&&(T--,b*=2),g+=T+R>=1?N/b:N*Math.pow(2,1-R),g*b>=2&&(T++,b/=2),T+R>=C?(m=0,T=C):T+R>=1?(m=(g*b-1)*Math.pow(2,_),T+=R):(m=g*Math.pow(2,R-1)*Math.pow(2,_),T=0));_>=8;f[E+M]=255&m,M+=H,m/=256,_-=8);for(T=T<<_|m,A+=_;A>0;f[E+M]=255&T,M+=H,T/=256,A-=8);f[E+M-H]|=128*Y}},{}],15:[function(t,p,u){(function(f,g,E,d,_){function y(ae){this.node=ae}function T(){this.events=[],this.head=null,this.body=null}function m(){this.styling=null,this.layout=null}function b(){this.styles={}}function A(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function C(){this.regions={}}function R(ae){this.kind=ae,this.begin=null,this.end=null,this.styleAttrs=null,this.regionID=null,this.sets=null,this.timeContainer=null}function N(){R.call(this,"body")}function M(){R.call(this,"div")}function H(){R.call(this,"p")}function Y(){R.call(this,"span"),this.space=null}function j(){R.call(this,"span"),this.space=null,this.text=null}function x(){R.call(this,"br")}function o(){this.id=null,this.begin=null,this.end=null,this.styleAttrs=null,this.sets=null}function G(){this.begin=null,this.end=null,this.qname=null,this.value=null}function I(ae){return ae&&"xml:id"in ae.attributes&&ae.attributes["xml:id"].value||null}function O(ae){return ae&&"region"in ae.attributes?ae.attributes.region.value:""}function q(ae,me){var Ie=ae&&"timeContainer"in ae.attributes?ae.attributes.timeContainer.value:null;return Ie&&Ie!=="par"?Ie==="seq"?"seq":(ce(me,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"}function Q(ae){return ae&&"style"in ae.attributes?ae.attributes.style.value.split(" "):[]}function pe(ae,me){var Ie={};if(ae!==null)for(var xe in ae.attributes){var de=ae.attributes[xe].uri+" "+ae.attributes[xe].local,Pe=d.byQName[de];if(Pe!==void 0){var P=Pe.parse(ae.attributes[xe].value);P!==null?(Ie[de]=P,Pe===d.byName.zIndex&&z(me,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):ce(me,"Cannot parse styling attribute "+de+" --> "+ae.attributes[xe].value)}}return Ie}function re(ae,me,Ie){for(var xe in ae.attributes)if(ae.attributes[xe].uri===me&&ae.attributes[xe].local===Ie)return ae.attributes[xe].value;return null}function le(ae,me){var Ie=re(ae,E.ns_ittp,"aspectRatio"),xe=null;if(Ie!==null){var de=/(\d+) (\d+)/,Pe=de.exec(Ie);if(Pe!==null){var P=parseInt(Pe[1]),J=parseInt(Pe[2]);P!==0&&J!==0?xe=P/J:ce(me,"Illegal aspectRatio values (ignoring)")}else ce(me,"Malformed aspectRatio attribute (ignoring)")}return xe}function ee(ae,me){var Ie=re(ae,E.ns_ttp,"cellResolution"),xe=15,de=32;if(Ie!==null){var Pe=/(\d+) (\d+)/,P=Pe.exec(Ie);P!==null?(de=parseInt(P[1]),xe=parseInt(P[2])):z(me,"Malformed cellResolution value (using initial value instead)")}return{w:de,h:xe}}function be(ae,me){var Ie,xe=re(ae,E.ns_ttp,"frameRate"),de=30;xe!==null&&(Ie=/(\d+)/.exec(xe),Ie!==null?de=parseInt(Ie[1]):z(me,"Malformed frame rate attribute (using initial value instead)"));var Pe=re(ae,E.ns_ttp,"frameRateMultiplier"),P=1;Pe!==null&&(Ie=/(\d+) (\d+)/.exec(Pe),Ie!==null?P=parseInt(Ie[1])/parseInt(Ie[2]):z(me,"Malformed frame rate multiplier attribute (using initial value instead)"));var J=P*de,L=1,k=re(ae,E.ns_ttp,"tickRate");return k===null?xe!==null&&(L=J):(Ie=/(\d+)/.exec(k),Ie!==null?L=parseInt(Ie[1]):z(me,"Malformed tick rate attribute (using initial value instead)")),{effectiveFrameRate:J,tickRate:L}}function ie(ae,me){var Ie=re(ae,E.ns_tts,"extent");if(Ie===null)return null;var xe=Ie.split(" ");if(xe.length!==2)return z(me,"Malformed extent (ignoring)"),null;var de=_.parseLength(xe[0]),Pe=_.parseLength(xe[1]);return Pe&&de?{h:Pe,w:de}:(z(me,"Malformed extent values (ignoring)"),null)}function Te(ae,me,Ie){var xe,de=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/,Pe=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/,P=/^(\d+(?:\.\d+)?)f$/,J=/^(\d+(?:\.\d+)?)t$/,L=/^(\d+(?:\.\d+)?)ms$/,k=/^(\d+(?:\.\d+)?)s$/,ne=/^(\d+(?:\.\d+)?)h$/,K=/^(\d+(?:\.\d+)?)m$/,he=null;return(xe=P.exec(Ie))!==null?me!==null&&(he=parseFloat(xe[1])/me):(xe=J.exec(Ie))!==null?ae!==null&&(he=parseFloat(xe[1])/ae):(xe=L.exec(Ie))!==null?he=parseFloat(xe[1])/1e3:(xe=k.exec(Ie))!==null?he=parseFloat(xe[1]):(xe=ne.exec(Ie))!==null?he=3600*parseFloat(xe[1]):(xe=K.exec(Ie))!==null?he=60*parseFloat(xe[1]):(xe=de.exec(Ie))!==null?he=3600*parseInt(xe[1])+60*parseInt(xe[2])+parseFloat(xe[3]):(xe=Pe.exec(Ie))!==null&&me!==null&&(he=3600*parseInt(xe[1])+60*parseInt(xe[2])+parseInt(xe[3])+(xe[4]===null?0:parseInt(xe[4])/me)),he}function ve(ae,me,Ie,xe){var de=me&&me.timeContainer==="seq",Pe=0;Ie&&"begin"in Ie.attributes&&(Pe=Te(ae.tickRate,ae.effectiveFrameRate,Ie.attributes.begin.value))===null&&(z(xe,"Malformed begin value "+Ie.attributes.begin.value+" (using 0)"),Pe=0);var P=de?0:null;Ie&&"dur"in Ie.attributes&&(P=Te(ae.tickRate,ae.effectiveFrameRate,Ie.attributes.dur.value))===null&&z(xe,"Malformed dur value "+Ie.attributes.dur.value+" (ignoring)");var J=null;Ie&&"end"in Ie.attributes&&(J=Te(ae.tickRate,ae.effectiveFrameRate,Ie.attributes.end.value))===null&&z(xe,"Malformed end value (ignoring)");var L=0;if(me&&(L=de&&"contents"in me&&me.contents.length>0?me.contents[me.contents.length-1].end:me.begin||0),Pe+=L,P!==null)J=Pe+P;else{var k=me&&"end"in me?me.end:Number.POSITIVE_INFINITY;J=J!==null?J+L:k}return{begin:Pe,end:J}}function fe(ae,me,Ie){for(;me.styleRefs.length>0;){var xe=me.styleRefs.pop();xe in ae.styles?(fe(ae,ae.styles[xe],Ie),Ae(ae.styles[xe].styleAttrs,me.styleAttrs)):ce(Ie,"Non-existant style id referenced")}}function Ee(ae,me,Ie,xe){for(var de=me.length-1;de>=0;de--){var Pe=me[de];Pe in ae.styles?Ae(ae.styles[Pe].styleAttrs,Ie):ce(xe,"Non-existant style id referenced")}}function Ae(ae,me){for(var Ie in ae)Ie in me||(me[Ie]=ae[Ie])}function z(ae,me){if(ae&&ae.warn&&ae.warn(me))throw me}function ce(ae,me){if(ae&&ae.error&&ae.error(me))throw me}function Se(ae,me){throw ae&&ae.fatal&&ae.fatal(me),me}function De(ae,me){for(var Ie,xe=0,de=ae.length-1;xe<=de;){Ie=Math.floor((xe+de)/2);var Pe=ae[Ie];if(Pe<me)xe=Ie+1;else{if(!(Pe>me))return{found:!0,index:Ie};de=Ie-1}}return{found:!1,index:xe}}f.fromXML=function(ae,me,Ie){var xe=g.parser(!0,{xmlns:!0}),de=[],Pe=[],P=[],J=0,L=null;xe.onclosetag=function(he){if(de[0]instanceof b)for(var we in de[0].styles)fe(de[0],de[0].styles[we],me);else if(de[0]instanceof H||de[0]instanceof Y){if(de[0].contents.length>1){var c,S=[de[0].contents[0]];for(c=1;c<de[0].contents.length;c++)de[0].contents[c]instanceof j&&S[S.length-1]instanceof j?S[S.length-1].text+=de[0].contents[c].text:S.push(de[0].contents[c]);de[0].contents=S}de[0]instanceof Y&&de[0].contents.length===1&&de[0].contents[0]instanceof j&&de[0].text===null&&(de[0].text=de[0].contents[0].text,delete de[0].contents)}else de[0]instanceof y&&(de[0].node.uri===E.ns_tt&&de[0].node.local==="metadata"?J--:J>0&&Ie&&"onCloseTag"in Ie&&Ie.onCloseTag());P.shift(),Pe.shift(),de.shift()},xe.ontext=function(he){if(de[0]!==void 0)if(de[0]instanceof Y||de[0]instanceof H){var we=new j;we.initFromText(L,de[0],he,P[0],me),de[0].contents.push(we)}else de[0]instanceof y&&J>0&&Ie&&"onText"in Ie&&Ie.onText(he)},xe.onopentag=function(he){var we=he.attributes["xml:space"];we?P.unshift(we.value):P.length===0?P.unshift("default"):P.unshift(P[0]);var c=he.attributes["xml:lang"];if(c?Pe.unshift(c.value):Pe.length===0?Pe.unshift(""):Pe.unshift(Pe[0]),he.uri===E.ns_tt)if(he.local==="tt")L!==null&&Se("Two <tt> elements at ("+this.line+","+this.column+")"),L=new T,L.initFromNode(he,me),de.unshift(L);else if(he.local==="head")de[0]instanceof T||Se("Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),L.head!==null&&Se("Second <head> element at ("+this.line+","+this.column+")"),L.head=new m,de.unshift(L.head);else if(he.local==="styling")de[0]instanceof m||Se("Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),L.head.styling!==null&&Se("Second <styling> element at ("+this.line+","+this.column+")"),L.head.styling=new b,de.unshift(L.head.styling);else if(he.local==="style"){var S;de[0]instanceof b?(S=new A,S.initFromNode(he,me),S.id?L.head.styling.styles[S.id]=S:ce("<style> element missing @id attribute"),de.unshift(S)):de[0]instanceof o?(S=new A,S.initFromNode(he,me),Ae(S.styleAttrs,de[0].styleAttrs),de.unshift(S)):Se(me,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if(he.local==="layout")de[0]instanceof m||Se(me,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),L.head.layout!==null&&Se(me,"Second <layout> element at "+this.line+","+this.column+")"),L.head.layout=new C,de.unshift(L.head.layout);else if(he.local==="region"){de[0]instanceof C||Se(me,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var U=new o;U.initFromNode(L,he,me),!U.id||U.id in L.head.layout.regions?ce(me,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):(L.head.layout.regions[U.id]=U,L._registerEvent(U)),de.unshift(U)}else if(he.local==="body"){de[0]instanceof T||Se(me,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),L.body!==null&&Se(me,"Second <body> element at "+this.line+","+this.column+")");var W=new N;W.initFromNode(L,he,me),L._registerEvent(W),L.body=W,de.unshift(W)}else if(he.local==="div"){de[0]instanceof M||de[0]instanceof N||Se(me,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var Z=new M;Z.initFromNode(L,de[0],he,me),L._registerEvent(Z),de[0].contents.push(Z),de.unshift(Z)}else if(he.local==="p"){de[0]instanceof M||Se(me,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var ye=new H;ye.initFromNode(L,de[0],he,me),L._registerEvent(ye),de[0].contents.push(ye),de.unshift(ye)}else if(he.local==="span"){de[0]instanceof Y||de[0]instanceof H||Se(me,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var qe=new Y;qe.initFromNode(L,de[0],he,P[0],me),L._registerEvent(qe),de[0].contents.push(qe),de.unshift(qe)}else if(he.local==="br"){de[0]instanceof Y||de[0]instanceof H||Se(me,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var ke=new x;ke.initFromNode(L,de[0],he,me),L._registerEvent(ke),de[0].contents.push(ke),de.unshift(ke)}else if(he.local==="set"){de[0]instanceof Y||de[0]instanceof H||de[0]instanceof M||de[0]instanceof N||de[0]instanceof o||de[0]instanceof x||Se(me,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var We=new G;We.initFromNode(L,de[0],he,me),L._registerEvent(We),de[0].sets.push(We),de.unshift(We)}else de.unshift(new y(he));else de.unshift(new y(he));if(de[0]instanceof y){if(he.uri===E.ns_tt&&he.local==="metadata")J++;else if(J>0&&Ie&&"onOpenTag"in Ie){var Ye=[];for(var Xe in he.attributes)Ye[he.attributes[Xe].uri+" "+he.attributes[Xe].local]={uri:he.attributes[Xe].uri,local:he.attributes[Xe].local,value:he.attributes[Xe].value};Ie.onOpenTag(he.uri,he.local,Ye)}}},xe.write(ae).close(),L.head!==null?delete L.head.styling:L.head=new m,L.head.layout===null&&(L.head.layout=new C);var k=!1;for(var ne in L.head.layout.regions){k=!0;break}if(!k){var K=o.createDefaultRegion();L.head.layout.regions[K.id]=K}return L},T.prototype.initFromNode=function(ae,me){this.cellResolution=ee(ae,me);var Ie=be(ae,me);this.effectiveFrameRate=Ie.effectiveFrameRate,this.tickRate=Ie.tickRate,this.aspectRatio=le(ae,me);var xe=re(ae,E.ns_ttp,"timeBase");xe!==null&&xe!=="media"&&Se(me,"Unsupported time base");var de=ie(ae,me);de===null?this.pxDimensions={h:480,w:640}:(de.h.unit==="px"&&de.w.unit==="px"||Se(me,"Extent on TT must be in px or absent"),this.pxDimensions={h:de.h.value,w:de.w.value})},T.prototype._registerEvent=function(ae){if(!(ae.end<=ae.begin)){var me=De(this.events,ae.begin);if(me.found||this.events.splice(me.index,0,ae.begin),ae.end!==Number.POSITIVE_INFINITY){var Ie=De(this.events,ae.end);Ie.found||this.events.splice(Ie.index,0,ae.end)}}},T.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},T.prototype.getMediaTimeEvents=function(){return this.events},A.prototype.initFromNode=function(ae,me){this.id=I(ae),this.styleAttrs=pe(ae,me),this.styleRefs=Q(ae)},R.prototype.initFromNode=function(ae,me,Ie,xe){var de=ve(ae,me,Ie,xe);this.begin=de.begin,this.end=de.end,this.styleAttrs=pe(Ie,xe),ae.head!==null&&ae.head.styling!==null&&Ee(ae.head.styling,Q(Ie),this.styleAttrs,xe),this.regionID=O(Ie),this.sets=[],this.timeContainer=q(Ie,xe)},N.prototype.initFromNode=function(ae,me,Ie){R.prototype.initFromNode.call(this,ae,null,me,Ie),this.contents=[]},M.prototype.initFromNode=function(ae,me,Ie,xe){R.prototype.initFromNode.call(this,ae,me,Ie,xe),this.contents=[]},H.prototype.initFromNode=function(ae,me,Ie,xe){R.prototype.initFromNode.call(this,ae,me,Ie,xe),this.contents=[]},Y.prototype.initFromNode=function(ae,me,Ie,xe,de){R.prototype.initFromNode.call(this,ae,me,Ie,de),this.space=xe,this.contents=[]},j.prototype.initFromText=function(ae,me,Ie,xe,de){R.prototype.initFromNode.call(this,ae,me,null,de),this.text=Ie,this.space=xe},x.prototype.initFromNode=function(ae,me,Ie,xe){R.prototype.initFromNode.call(this,ae,me,Ie,xe)},o.createDefaultRegion=function(){var ae=new o;return ae.id="",ae.begin=0,ae.end=Number.POSITIVE_INFINITY,ae.styleAttrs={},ae.sets=[],ae},o.prototype.initFromNode=function(ae,me,Ie){this.id=I(me);var xe=ve(ae,null,me,Ie);this.begin=xe.begin,this.end=xe.end,this.styleAttrs=pe(me,Ie),this.sets=[],ae.head!==null&&ae.head.styling!==null&&Ee(ae.head.styling,Q(me),this.styleAttrs,Ie)},G.prototype.initFromNode=function(ae,me,Ie,xe){var de=ve(ae,me,Ie,xe);this.begin=de.begin,this.end=de.end;var Pe=pe(Ie,xe);for(var P in Pe){if(this.qname){ce(xe,"More than one style specified on set");break}this.qname=P,this.value=Pe[P]}}})(u===void 0?this.imscDoc={}:u,typeof sax=="undefined"?t(42):sax,typeof imscNames=="undefined"?t(19):imscNames,typeof imscStyles=="undefined"?t(20):imscStyles,typeof imscUtils=="undefined"?t(21):imscUtils)},{19:19,20:20,21:21,42:42}],16:[function(t,p,u){(function(f,g,E){function d(x,o,G){var I;if(G.kind==="region"?(I=document.createElement("div"),I.style.position="absolute"):G.kind==="body"||G.kind==="div"?I=document.createElement("div"):G.kind==="p"?I=document.createElement("p"):G.kind==="span"?I=document.createElement("span"):G.kind==="br"&&(I=document.createElement("br")),!I)return void M(x.errorHandler,"Error processing ISD element kind: "+G.kind);I.style.margin="0";for(var O in H){var q=H[O],Q=G.styleAttrs[q.qname];Q!==void 0&&q.map!==null&&q.map(x,I,G,Q)}var pe=I,re=G.styleAttrs[E.byName.multiRowAlign.qname];if(re&&re!=="auto"){var le=document.createElement("span");le.style.display="inline-block",le.style.textAlign=re,I.appendChild(le),pe=le,x.mra=re}var ee=G.styleAttrs[E.byName.linePadding.qname];if(ee&&ee>0&&(x.lp=ee),G.kind==="span"&&G.text)if(x.lp||x.mra)for(var be=0;be<G.text.length;be++){var ie=document.createElement("span");ie.textContent=G.text.charAt(be),I.appendChild(ie)}else I.textContent=G.text;o.appendChild(I);for(var Te in G.contents)d(x,pe,G.contents[Te]);if((x.lp||x.mra)&&G.kind==="p"){var ve=[];y(pe,ve,"red"),b(ve,x.lp*x.h),x.lp&&delete x.lp,x.mra&&delete x.mra}if(G.kind==="region"){var fe=[];T(pe,fe);var Ee=G.styleAttrs[E.byName.writingMode.qname];if((Ee==="lrtb"||Ee==="lr"||Ee==="rltb"||Ee==="rl")&&x.enableRollUp&&G.contents.length>0&&G.styleAttrs[E.byName.displayAlign.qname]==="after"){var Ae=G.id===""?"_":G.id,z=new _(Ae,fe);if(x.currentISDState[z.id]=z,x.previousISDState&&z.id in x.previousISDState&&x.previousISDState[z.id].plist.length>0&&z.plist.length>1&&z.plist[z.plist.length-2].text===x.previousISDState[z.id].plist[x.previousISDState[z.id].plist.length-1].text){var ce=I.firstElementChild;ce.style.bottom="-"+z.plist[z.plist.length-1].height+"px",ce.style.transition="transform 0.4s",ce.style.position="relative",ce.style.transform="translateY(-"+z.plist[z.plist.length-1].height+"px)"}}}}function _(x,o){this.id=x,this.plist=o}function y(x,o,G){if(x.childElementCount===0)o.push({element:x,bgcolor:G});else for(var I=x.style.backgroundColor||G,O=x.firstChild;O;)O.nodeType===Node.ELEMENT_NODE&&y(O,o,I),O=O.nextSibling}function T(x,o){if(x.childElementCount===0&&x.localName==="span"){var G=x.getBoundingClientRect();o.length!==0&&m(G.top,G.height,o[o.length-1].top,o[o.length-1].height)?(G.top<o[o.length-1].top&&(o[o.length-1].top=G.top),G.height>o[o.length-1].height&&(o[o.length-1].height=G.height),o[o.length-1].text+=x.textContent):o.push({top:G.top,height:G.height,text:x.textContent})}else for(var I=x.firstChild;I;)I.nodeType===Node.ELEMENT_NODE&&T(I,o),I=I.nextSibling}function m(x,o,G,I){return x+o<G+I&&x>G||G+I<=x+o&&G>=x}function b(x,o){for(var G=null,I=!0,O=!1,q=0;q<=x.length;q++)if(q===x.length||x[q].element.localName!=="br"){if(G===null||q===x.length||!m(x[q].element.getBoundingClientRect().top,x[q].element.getBoundingClientRect().height,x[G].element.getBoundingClientRect().top,x[G].element.getBoundingClientRect().height)){if(o&&!I){for(;--q>=0;)if(x[q].element.getBoundingClientRect().width!==0){if(C(x[q].element,x[q].color,o),x[q].element.getBoundingClientRect().width!==0&&m(x[q].element.getBoundingClientRect().top,x[q].element.getBoundingClientRect().height,x[G].element.getBoundingClientRect().top,x[G].element.getBoundingClientRect().height))break;R(x[q].element)}I=!0;continue}if(q!==x.length&&G!==null&&!O){var Q=document.createElement("br");x[q].element.parentElement.insertBefore(Q,x[q].element),x.splice(q,0,{element:Q}),O=!0;continue}if(q!==x.length&&o){for(;q<x.length;q++)if(x[q].element.getBoundingClientRect().width!==0){A(x[q].element,x[q].color,o);break}}I=!1,O=!1,G=q}}else O=!0}function A(x,o,G){x.style.paddingLeft=G+"px",x.style.backgroundColor=o}function C(x,o,G){x.style.paddingRight=G+"px",x.style.backgroundColor=o}function R(x){x.style.paddingRight=null}function N(x,o){this.qname=x,this.map=o}function M(x,o){if(x&&x.error&&x.error(o))throw o}f.render=function(x,o,G,I,O,q,Q,pe,re){var le=I||o.clientHeight,ee=O||o.clientWidth;if(x.aspectRatio!==null){var be=le*x.aspectRatio;be>ee?le=Math.round(ee/x.aspectRatio):ee=be}var ie=document.createElement("div");ie.style.position="relative",ie.style.width=ee+"px",ie.style.height=le+"px",ie.style.margin="auto",ie.style.top=0,ie.style.bottom=0,ie.style.left=0,ie.style.right=0,ie.style.zIndex=0;var Te={h:le,w:ee,regionH:null,regionW:null,imgResolver:G,displayForcedOnlyMode:q||!1,isd:x,errorHandler:Q,previousISDState:pe,enableRollUp:re||!1,currentISDState:{}};o.appendChild(ie);for(var ve in x.contents)d(Te,ie,x.contents[ve]);return Te.currentISDState};var H=[new N("http://www.w3.org/ns/ttml#styling backgroundColor",function(x,o,G,I){o.style.backgroundColor="rgba("+I[0].toString()+","+I[1].toString()+","+I[2].toString()+","+(I[3]/255).toString()+")"}),new N("http://www.w3.org/ns/ttml#styling color",function(x,o,G,I){o.style.color="rgba("+I[0].toString()+","+I[1].toString()+","+I[2].toString()+","+(I[3]/255).toString()+")"}),new N("http://www.w3.org/ns/ttml#styling direction",function(x,o,G,I){o.style.direction=I}),new N("http://www.w3.org/ns/ttml#styling display",function(x,o,G,I){}),new N("http://www.w3.org/ns/ttml#styling displayAlign",function(x,o,G,I){o.style.display="flex",o.style.flexDirection="column",I==="before"?o.style.justifyContent="flex-start":I==="center"?o.style.justifyContent="center":I==="after"&&(o.style.justifyContent="flex-end")}),new N("http://www.w3.org/ns/ttml#styling extent",function(x,o,G,I){x.regionH=I.h*x.h,x.regionW=I.w*x.w;var O=0,q=0,Q=G.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];Q&&(O=(Q[0]+Q[2])*x.h,q=(Q[1]+Q[3])*x.w),o.style.height=x.regionH-O+"px",o.style.width=x.regionW-q+"px"}),new N("http://www.w3.org/ns/ttml#styling fontFamily",function(x,o,G,I){var O=[];for(var q in I)I[q]==="monospaceSerif"?(O.push("Courier New"),O.push('"Liberation Mono"'),O.push("Courier"),O.push("monospace")):I[q]==="proportionalSansSerif"?(O.push("Arial"),O.push("Helvetica"),O.push('"Liberation Sans"'),O.push("sans-serif")):I[q]==="monospace"?O.push("monospace"):I[q]==="sansSerif"?O.push("sans-serif"):I[q]==="serif"?O.push("serif"):I[q]==="monospaceSansSerif"?(O.push("Consolas"),O.push("monospace")):I[q]==="proportionalSerif"?O.push("serif"):O.push(I[q]);o.style.fontFamily=O.join(",")}),new N("http://www.w3.org/ns/ttml#styling fontSize",function(x,o,G,I){o.style.fontSize=I*x.h+"px"}),new N("http://www.w3.org/ns/ttml#styling fontStyle",function(x,o,G,I){o.style.fontStyle=I}),new N("http://www.w3.org/ns/ttml#styling fontWeight",function(x,o,G,I){o.style.fontWeight=I}),new N("http://www.w3.org/ns/ttml#styling lineHeight",function(x,o,G,I){o.style.lineHeight=I==="normal"?"normal":I*x.h+"px"}),new N("http://www.w3.org/ns/ttml#styling opacity",function(x,o,G,I){o.style.opacity=I}),new N("http://www.w3.org/ns/ttml#styling origin",function(x,o,G,I){o.style.top=I.h*x.h+"px",o.style.left=I.w*x.w+"px"}),new N("http://www.w3.org/ns/ttml#styling overflow",function(x,o,G,I){o.style.overflow=I}),new N("http://www.w3.org/ns/ttml#styling padding",function(x,o,G,I){var O=[];O[0]=I[0]*x.h+"px",O[1]=I[3]*x.w+"px",O[2]=I[2]*x.h+"px",O[3]=I[1]*x.w+"px",o.style.padding=O.join(" ")}),new N("http://www.w3.org/ns/ttml#styling showBackground",null),new N("http://www.w3.org/ns/ttml#styling textAlign",function(x,o,G,I){var O,q=G.styleAttrs[E.byName.direction.qname];O=I==="start"?q==="rtl"?"right":"left":I==="end"?q==="rtl"?"left":"right":I,o.style.textAlign=O}),new N("http://www.w3.org/ns/ttml#styling textDecoration",function(x,o,G,I){o.style.textDecoration=I.join(" ").replace("lineThrough","line-through")}),new N("http://www.w3.org/ns/ttml#styling textOutline",function(x,o,G,I){o.style.textShadow=I==="none"?"":"rgba("+I.color[0].toString()+","+I.color[1].toString()+","+I.color[2].toString()+","+(I.color[3]/255).toString()+") 0px 0px "+I.thickness*x.h+"px"}),new N("http://www.w3.org/ns/ttml#styling unicodeBidi",function(x,o,G,I){var O;O=I==="bidiOverride"?"bidi-override":I,o.style.unicodeBidi=O}),new N("http://www.w3.org/ns/ttml#styling visibility",function(x,o,G,I){o.style.visibility=I}),new N("http://www.w3.org/ns/ttml#styling wrapOption",function(x,o,G,I){I==="wrap"?G.space==="preserve"?o.style.whiteSpace="pre-wrap":o.style.whiteSpace="normal":G.space==="preserve"?o.style.whiteSpace="pre":o.style.whiteSpace="noWrap"}),new N("http://www.w3.org/ns/ttml#styling writingMode",function(x,o,G,I){I==="lrtb"||I==="lr"||I==="rltb"||I==="rl"?o.style.writingMode="horizontal-tb":I==="tblr"?o.style.writingMode="vertical-lr":I!=="tbrl"&&I!=="tb"||(o.style.writingMode="vertical-rl")}),new N("http://www.w3.org/ns/ttml#styling zIndex",function(x,o,G,I){o.style.zIndex=I}),new N("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt backgroundImage",function(x,o,G,I){if(x.imgResolver!==null&&I!==null){var O=document.createElement("img"),q=x.imgResolver(I,O);q&&(O.src=q),O.height=x.regionH,O.width=x.regionW,o.appendChild(O)}}),new N("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(x,o,G,I){x.displayForcedOnlyMode&&I===!1&&(o.style.visibility="hidden")})],Y={};for(var j in H)Y[H[j].qname]=H[j]})(u===void 0?this.imscHTML={}:u,typeof imscNames=="undefined"?t(19):imscNames,typeof imscStyles=="undefined"?t(20):imscStyles)},{19:19,20:20}],17:[function(t,p,u){(function(f,g,E){function d(A,C,R,N,M,H,Y,j){if(C<Y.begin||C>=Y.end)return null;var x="regionID"in Y&&Y.regionID!==""?Y.regionID:H;if(M!==null&&x!==R.id&&(!("contents"in Y)||"contents"in Y&&Y.contents.length===0||x!==""))return null;var o=new m(Y);for(var G in Y.sets)C<Y.sets[G].begin||C>=Y.sets[G].end||(o.styleAttrs[Y.sets[G].qname]=Y.sets[G].value);var I={};for(var O in o.styleAttrs)if(I[O]=!0,O===E.byName.writingMode.qname&&!(E.byName.direction.qname in o.styleAttrs)){var q=o.styleAttrs[O];q==="lrtb"||q==="lr"?o.styleAttrs[E.byName.direction.qname]="ltr":q!=="rltb"&&q!=="rl"||(o.styleAttrs[E.byName.direction.qname]="rtl")}if(M!==null)for(var Q in E.all){var pe=E.all[Q];if(pe.qname===E.byName.textDecoration.qname){var re=M.styleAttrs[pe.qname],le=o.styleAttrs[pe.qname],ee=[];le===void 0?ee=re:le.indexOf("none")===-1?((le.indexOf("noUnderline")===-1&&re.indexOf("underline")!==-1||le.indexOf("underline")!==-1)&&ee.push("underline"),(le.indexOf("noLineThrough")===-1&&re.indexOf("lineThrough")!==-1||le.indexOf("lineThrough")!==-1)&&ee.push("lineThrough"),(le.indexOf("noOverline")===-1&&re.indexOf("overline")!==-1||le.indexOf("overline")!==-1)&&ee.push("overline")):ee.push("none"),o.styleAttrs[pe.qname]=ee}else pe.inherit&&pe.qname in M.styleAttrs&&!(pe.qname in o.styleAttrs)&&(o.styleAttrs[pe.qname]=M.styleAttrs[pe.qname])}for(var be in E.all){var ie=E.all[be];ie.qname in o.styleAttrs||(o.kind==="region"||ie.inherit===!1&&ie.initial!==null)&&(o.styleAttrs[ie.qname]=ie.parse(ie.initial),I[ie.qname]=!0)}for(var Te in E.all){var ve=E.all[Te];if(ve.qname in I&&ve.compute!==null){var fe=ve.compute(A,M,o,o.styleAttrs[ve.qname]);fe!==null?o.styleAttrs[ve.qname]=fe:b(j,"Style '"+ve.qname+"' on element '"+o.kind+"' cannot be computed")}}if(o.styleAttrs[E.byName.display.qname]==="none")return null;var Ee;M===null?Ee=N===null?[]:[N]:"contents"in Y&&(Ee=Y.contents);for(var Ae in Ee){var z=d(A,C,R,N,o,x,Ee[Ae]);z!==null&&o.contents.push(z.element)}for(var ce in o.styleAttrs)E.byQName[ce].applies.indexOf(o.kind)===-1&&delete o.styleAttrs[ce];if(o.kind==="span"&&o.text&&o.space==="default"){var Se=o.text.replace(/\s+/g," ");o.text=Se}if(o.kind==="p"){var De=[];_(o,De);for(var ae=0,me="after_br",Ie=0;;)if(me==="after_br")ae>=De.length||De[ae].kind==="br"?(me="before_br",Ie=ae,ae--):(De[ae].space!=="preserve"&&(De[ae].text=De[ae].text.replace(/^\s+/g,"")),De[ae].text.length>0?(me="looking_br",ae++):De.splice(ae,1));else if(me==="before_br")if(ae<0||De[ae].kind==="br"){if(me="after_br",(ae=Ie+1)>=De.length)break}else if(De[ae].space!=="preserve"&&(De[ae].text=De[ae].text.replace(/\s+$/g,"")),De[ae].text.length>0){if(me="after_br",(ae=Ie+1)>=De.length)break}else De.splice(ae,1),ae--;else ae>=De.length||De[ae].kind==="br"?(me="before_br",Ie=ae,ae--):ae++;y(o)}return o.kind==="div"&&E.byName.backgroundImage.qname in o.styleAttrs||o.kind==="br"||"contents"in o&&o.contents.length>0||o.kind==="span"&&o.text!==null||o.kind==="region"&&o.styleAttrs[E.byName.showBackground.qname]==="always"?{region_id:x,element:o}:null}function _(A,C){if("contents"in A)for(var R in A.contents)_(A.contents[R],C);else C.push(A)}function y(A){if(A.kind==="br")return!1;if("text"in A)return A.text.length===0;if("contents"in A){for(var C=A.contents.length;C--;)y(A.contents[C])&&A.contents.splice(C,1);return A.contents.length===0}}function T(A){this.contents=[],this.aspectRatio=A.aspectRatio}function m(A){this.kind=A.kind||"region",A.id&&(this.id=A.id),this.styleAttrs={};for(var C in A.styleAttrs)this.styleAttrs[C]=A.styleAttrs[C];"text"in A?this.text=A.text:A.kind!=="br"&&(this.contents=[]),"space"in A&&(this.space=A.space)}function b(A,C){if(A&&A.error&&A.error(C))throw C}f.generateISD=function(A,C,R){var N=new T(A);for(var M in A.head.layout.regions){var H=d(A,C,A.head.layout.regions[M],A.body,null,"",A.head.layout.regions[M],R);H!==null&&N.contents.push(H.element)}return N}})(u===void 0?this.imscISD={}:u,typeof imscNames=="undefined"?t(19):imscNames,typeof imscStyles=="undefined"?t(20):imscStyles)},{19:19,20:20}],18:[function(t,p,u){u.generateISD=t(17).generateISD,u.fromXML=t(15).fromXML,u.renderHTML=t(16).render},{15:15,16:16,17:17}],19:[function(t,p,u){(function(f){f.ns_tt="http://www.w3.org/ns/ttml",f.ns_tts="http://www.w3.org/ns/ttml#styling",f.ns_ttp="http://www.w3.org/ns/ttml#parameter",f.ns_xml="http://www.w3.org/XML/1998/namespace",f.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",f.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",f.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",f.ns_ebutts="urn:ebu:tt:style"})(u===void 0?this.imscNames={}:u)},{}],20:[function(t,p,u){(function(f,g,E){function d(T,m,b,A,C,R,N,M){this.name=m,this.ns=T,this.qname=T+" "+m,this.inherit=C,this.animatable=R,this.initial=b,this.applies=A,this.parse=N,this.compute=M}f.all=[new d(g.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,E.parseColor,null),new d(g.ns_tts,"color","white",["span"],!0,!0,E.parseColor,null),new d(g.ns_tts,"direction","ltr",["p","span"],!0,!0,function(T){return T},null),new d(g.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(T){return T},null),new d(g.ns_tts,"displayAlign","before",["region"],!1,!0,function(T){return T},null),new d(g.ns_tts,"extent","auto",["tt","region"],!1,!0,function(T){if(T==="auto")return T;var m=T.split(" ");if(m.length!==2)return null;var b=E.parseLength(m[0]),A=E.parseLength(m[1]);return A&&b?{h:A,w:b}:null},function(T,m,b,A){var C,R;if(A==="auto")C=1;else if(A.h.unit==="%")C=A.h.value/100;else{if(A.h.unit!=="px")return null;C=A.h.value/T.pxDimensions.h}if(A==="auto")R=1;else if(A.w.unit==="%")R=A.w.value/100;else{if(A.w.unit!=="px")return null;R=A.w.value/T.pxDimensions.w}return{h:C,w:R}}),new d(g.ns_tts,"fontFamily","default",["span"],!0,!0,function(T){var m=T.split(","),b=[];for(var A in m)m[A].charAt(0)!=="'"&&m[A].charAt(0)!=='"'&&m[A]==="default"?b.push("monospaceSerif"):b.push(m[A]);return b},null),new d(g.ns_tts,"fontSize","1c",["span"],!0,!0,E.parseLength,function(T,m,b,A){var C;if(A.unit==="%")C=m!==null?m.styleAttrs[f.byName.fontSize.qname]*A.value/100:A.value/100/T.cellResolution.h;else if(A.unit==="em")C=m!==null?m.styleAttrs[f.byName.fontSize.qname]*A.value:A.value/T.cellResolution.h;else if(A.unit==="c")C=A.value/T.cellResolution.h;else{if(A.unit!=="px")return null;C=A.value/T.pxDimensions.h}return C}),new d(g.ns_tts,"fontStyle","normal",["span"],!0,!0,function(T){return T},null),new d(g.ns_tts,"fontWeight","normal",["span"],!0,!0,function(T){return T},null),new d(g.ns_tts,"lineHeight","normal",["p"],!0,!0,function(T){return T==="normal"?T:E.parseLength(T)},function(T,m,b,A){var C;if(A==="normal")C=A;else if(A.unit==="%")C=b.styleAttrs[f.byName.fontSize.qname]*A.value/100;else if(A.unit==="em")C=b.styleAttrs[f.byName.fontSize.qname]*A.value;else if(A.unit==="c")C=A.value/T.cellResolution.h;else{if(A.unit!=="px")return null;C=A.value/T.pxDimensions.h}return C}),new d(g.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new d(g.ns_tts,"origin","auto",["region"],!1,!0,function(T){if(T==="auto")return T;var m=T.split(" ");if(m.length!==2)return null;var b=E.parseLength(m[0]),A=E.parseLength(m[1]);return A&&b?{h:A,w:b}:null},function(T,m,b,A){var C,R;if(A==="auto")C=0;else if(A.h.unit==="%")C=A.h.value/100;else{if(A.h.unit!=="px")return null;C=A.h.value/T.pxDimensions.h}if(A==="auto")R=0;else if(A.w.unit==="%")R=A.w.value/100;else{if(A.w.unit!=="px")return null;R=A.w.value/T.pxDimensions.w}return{h:C,w:R}}),new d(g.ns_tts,"overflow","hidden",["region"],!1,!0,function(T){return T},null),new d(g.ns_tts,"padding","0px",["region"],!1,!0,function(T){var m=T.split(" ");if(m.length>4)return null;var b=[];for(var A in m){var C=E.parseLength(m[A]);if(!C)return null;b.push(C)}return b},function(T,m,b,A){var C;if(A.length===1)C=[A[0],A[0],A[0],A[0]];else if(A.length===2)C=[A[0],A[1],A[0],A[1]];else if(A.length===3)C=[A[0],A[1],A[2],A[1]];else{if(A.length!==4)return null;C=[A[0],A[1],A[2],A[3]]}var R=b.styleAttrs[f.byName.writingMode.qname];if(R==="lrtb"||R==="lr")C=[C[0],C[3],C[2],C[1]];else if(R==="rltb"||R==="rl")C=[C[0],C[1],C[2],C[3]];else if(R==="tblr")C=[C[3],C[0],C[1],C[2]];else{if(R!=="tbrl"&&R!=="tb")return null;C=[C[3],C[2],C[1],C[0]]}var N=[];for(var M in C)if(C[M].value===0)N[M]=0;else if(C[M].unit==="%")N[M]=M==="0"||M==="2"?b.styleAttrs[f.byName.extent.qname].h*C[M].value/100:b.styleAttrs[f.byName.extent.qname].w*C[M].value/100;else if(C[M].unit==="em")N[M]=b.styleAttrs[f.byName.fontSize.qname]*C[M].value;else if(C[M].unit==="c")N[M]=C[M].value/T.cellResolution.h;else{if(C[M].unit!=="px")return null;N[M]=C[M].value/T.pxDimensions.h}return N}),new d(g.ns_tts,"showBackground","always",["region"],!1,!0,function(T){return T},null),new d(g.ns_tts,"textAlign","start",["p"],!0,!0,function(T){return T},function(T,m,b,A){return A==="left"?"start":A==="right"?"end":A}),new d(g.ns_tts,"textDecoration","none",["span"],!0,!0,function(T){return T.split(" ")},null),new d(g.ns_tts,"textOutline","none",["span"],!0,!0,function(T){if(T==="none")return T;var m={},b=T.split(" ");if(b.length===0||b.length>2)return null;var A=E.parseColor(b[0]);if(m.color=A,A!==null&&b.shift(),b.length!==1)return null;var C=E.parseLength(b[0]);return C?(m.thickness=C,m):null},function(T,m,b,A){if(A==="none")return A;var C={};if(A.color===null?C.color=b.styleAttrs[f.byName.color.qname]:C.color=A.color,A.thickness.unit==="%")C.thickness=b.styleAttrs[f.byName.fontSize.qname]*A.thickness.value/100;else if(A.thickness.unit==="em")C.thickness=b.styleAttrs[f.byName.fontSize.qname]*A.thickness.value;else if(A.thickness.unit==="c")C.thickness=A.thickness.value/T.cellResolution.h;else{if(A.thickness.unit!=="px")return null;C.thickness=A.thickness.value/T.pxDimensions.h}return C}),new d(g.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(T){return T},null),new d(g.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(T){return T},null),new d(g.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(T){return T},null),new d(g.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(T){return T},null),new d(g.ns_tts,"zIndex","auto",["region"],!1,!0,function(T){var m;return T==="auto"?m=T:(m=parseInt(T),isNaN(m)&&(m=null)),m},null),new d(g.ns_ebutts,"linePadding","0c",["p"],!0,!1,E.parseLength,function(T,m,b,A){return A.unit==="c"?A.value/T.cellResolution.h:null}),new d(g.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(T){return T},null),new d(g.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(T){return T},null),new d(g.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(T){return T==="true"},null)],f.byQName={};for(var _ in f.all)f.byQName[f.all[_].qname]=f.all[_];f.byName={};for(var y in f.all)f.byName[f.all[y].name]=f.all[y]})(u===void 0?this.imscStyles={}:u,typeof imscNames=="undefined"?t(19):imscNames,typeof imscUtils=="undefined"?t(21):imscUtils)},{19:19,21:21}],21:[function(t,p,u){(function(f){var g=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,E=/rgb\((\d+),(\d+),(\d+)\)/,d=/rgba\((\d+),(\d+),(\d+),(\d+)\)/,_={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};f.parseColor=function(T){var m,b=null;return T in _?b=_[T]:(m=g.exec(T))!==null?b=[parseInt(m[1],16),parseInt(m[2],16),parseInt(m[3],16),m[4]!==void 0?parseInt(m[4],16):255]:(m=E.exec(T))!==null?b=[parseInt(m[1]),parseInt(m[2]),parseInt(m[3]),255]:(m=d.exec(T))!==null&&(b=[parseInt(m[1]),parseInt(m[2]),parseInt(m[3]),parseInt(m[4])]),b};var y=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%)$/;f.parseLength=function(T){var m,b=null;return(m=y.exec(T))!==null&&(b={value:parseFloat(m[1]),unit:m[2]}),b}})(u===void 0?this.imscUtils={}:u)},{}],22:[function(t,p,u){typeof Object.create=="function"?p.exports=function(f,g){f.super_=g,f.prototype=Object.create(g.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}})}:p.exports=function(f,g){f.super_=g;var E=function(){};E.prototype=g.prototype,f.prototype=new E,f.prototype.constructor=f}},{}],23:[function(t,p,u){function f(E){return!!E.constructor&&typeof E.constructor.isBuffer=="function"&&E.constructor.isBuffer(E)}function g(E){return typeof E.readFloatLE=="function"&&typeof E.slice=="function"&&f(E.slice(0,0))}p.exports=function(E){return E!=null&&(f(E)||g(E)||!!E._isBuffer)}},{}],24:[function(t,p,u){var f={}.toString;p.exports=Array.isArray||function(g){return f.call(g)=="[object Array]"}},{}],25:[function(t,p,u){(function(f){"use strict";function g(E,d,_,y){if(typeof E!="function")throw new TypeError('"callback" argument must be a function');var T,m,b=arguments.length;switch(b){case 0:case 1:return f.nextTick(E);case 2:return f.nextTick(function(){E.call(null,d)});case 3:return f.nextTick(function(){E.call(null,d,_)});case 4:return f.nextTick(function(){E.call(null,d,_,y)});default:for(T=new Array(b-1),m=0;m<T.length;)T[m++]=arguments[m];return f.nextTick(function(){E.apply(null,T)})}}!f.version||f.version.indexOf("v0.")===0||f.version.indexOf("v1.")===0&&f.version.indexOf("v1.8.")!==0?p.exports=g:p.exports=f.nextTick}).call(this,t(26))},{26:26}],26:[function(t,p,u){function f(){throw new Error("setTimeout has not been defined")}function g(){throw new Error("clearTimeout has not been defined")}function E(Y){if(b===setTimeout)return setTimeout(Y,0);if((b===f||!b)&&setTimeout)return b=setTimeout,setTimeout(Y,0);try{return b(Y,0)}catch{try{return b.call(null,Y,0)}catch{return b.call(this,Y,0)}}}function d(Y){if(A===clearTimeout)return clearTimeout(Y);if((A===g||!A)&&clearTimeout)return A=clearTimeout,clearTimeout(Y);try{return A(Y)}catch{try{return A.call(null,Y)}catch{return A.call(this,Y)}}}function _(){M&&R&&(M=!1,R.length?N=R.concat(N):H=-1,N.length&&y())}function y(){if(!M){var Y=E(_);M=!0;for(var j=N.length;j;){for(R=N,N=[];++H<j;)R&&R[H].run();H=-1,j=N.length}R=null,M=!1,d(Y)}}function T(Y,j){this.fun=Y,this.array=j}function m(){}var b,A,C=p.exports={};(function(){try{b=typeof setTimeout=="function"?setTimeout:f}catch{b=f}try{A=typeof clearTimeout=="function"?clearTimeout:g}catch{A=g}})();var R,N=[],M=!1,H=-1;C.nextTick=function(Y){var j=new Array(arguments.length-1);if(arguments.length>1)for(var x=1;x<arguments.length;x++)j[x-1]=arguments[x];N.push(new T(Y,j)),N.length!==1||M||E(y)},T.prototype.run=function(){this.fun.apply(null,this.array)},C.title="browser",C.browser=!0,C.env={},C.argv=[],C.version="",C.versions={},C.on=m,C.addListener=m,C.once=m,C.off=m,C.removeListener=m,C.removeAllListeners=m,C.emit=m,C.prependListener=m,C.prependOnceListener=m,C.listeners=function(Y){return[]},C.binding=function(Y){throw new Error("process.binding is not supported")},C.cwd=function(){return"/"},C.chdir=function(Y){throw new Error("process.chdir is not supported")},C.umask=function(){return 0}},{}],27:[function(t,p,u){p.exports=t(28)},{28:28}],28:[function(t,p,u){"use strict";function f(R){if(!(this instanceof f))return new f(R);T.call(this,R),m.call(this,R),R&&R.readable===!1&&(this.readable=!1),R&&R.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,R&&R.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",g)}function g(){this.allowHalfOpen||this._writableState.ended||d(E,this)}function E(R){R.end()}var d=t(25),_=Object.keys||function(R){var N=[];for(var M in R)N.push(M);return N};p.exports=f;var y=t(11);y.inherits=t(22);var T=t(30),m=t(32);y.inherits(f,T);for(var b=_(m.prototype),A=0;A<b.length;A++){var C=b[A];f.prototype[C]||(f.prototype[C]=m.prototype[C])}Object.defineProperty(f.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(R){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=R,this._writableState.destroyed=R)}}),f.prototype._destroy=function(R,N){this.push(null),this.end(),d(N,R)}},{11:11,22:22,25:25,30:30,32:32}],29:[function(t,p,u){"use strict";function f(d){if(!(this instanceof f))return new f(d);g.call(this,d)}p.exports=f;var g=t(31),E=t(11);E.inherits=t(22),E.inherits(f,g),f.prototype._transform=function(d,_,y){y(null,d)}},{11:11,22:22,31:31}],30:[function(t,p,u){(function(f,g){"use strict";function E(P){return z.from(P)}function d(P){return z.isBuffer(P)||P instanceof ce}function _(P,J,L){if(typeof P.prependListener=="function")return P.prependListener(J,L);P._events&&P._events[J]?fe(P._events[J])?P._events[J].unshift(L):P._events[J]=[L,P._events[J]]:P.on(J,L)}function y(P,J){ve=ve||t(28),P=P||{},this.objectMode=!!P.objectMode,J instanceof ve&&(this.objectMode=this.objectMode||!!P.readableObjectMode);var L=P.highWaterMark,k=this.objectMode?16:16384;this.highWaterMark=L||L===0?L:k,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new Ie,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=P.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,P.encoding&&(me||(me=t(44).StringDecoder),this.decoder=new me(P.encoding),this.encoding=P.encoding)}function T(P){if(ve=ve||t(28),!(this instanceof T))return new T(P);this._readableState=new y(P,this),this.readable=!0,P&&(typeof P.read=="function"&&(this._read=P.read),typeof P.destroy=="function"&&(this._destroy=P.destroy)),Ae.call(this)}function m(P,J,L,k,ne){var K=P._readableState;if(J===null)K.reading=!1,M(P,K);else{var he;ne||(he=A(K,J)),he?P.emit("error",he):K.objectMode||J&&J.length>0?(typeof J=="string"||K.objectMode||Object.getPrototypeOf(J)===z.prototype||(J=E(J)),k?K.endEmitted?P.emit("error",new Error("stream.unshift() after end event")):b(P,K,J,!0):K.ended?P.emit("error",new Error("stream.push() after EOF")):(K.reading=!1,K.decoder&&!L?(J=K.decoder.write(J),K.objectMode||J.length!==0?b(P,K,J,!1):j(P,K)):b(P,K,J,!1))):k||(K.reading=!1)}return C(K)}function b(P,J,L,k){J.flowing&&J.length===0&&!J.sync?(P.emit("data",L),P.read(0)):(J.length+=J.objectMode?1:L.length,k?J.buffer.unshift(L):J.buffer.push(L),J.needReadable&&H(P)),j(P,J)}function A(P,J){var L;return d(J)||typeof J=="string"||J===void 0||P.objectMode||(L=new TypeError("Invalid non-string/buffer chunk")),L}function C(P){return!P.ended&&(P.needReadable||P.length<P.highWaterMark||P.length===0)}function R(P){return P>=Pe?P=Pe:(P--,P|=P>>>1,P|=P>>>2,P|=P>>>4,P|=P>>>8,P|=P>>>16,P++),P}function N(P,J){return P<=0||J.length===0&&J.ended?0:J.objectMode?1:P!==P?J.flowing&&J.length?J.buffer.head.data.length:J.length:(P>J.highWaterMark&&(J.highWaterMark=R(P)),P<=J.length?P:J.ended?J.length:(J.needReadable=!0,0))}function M(P,J){if(!J.ended){if(J.decoder){var L=J.decoder.end();L&&L.length&&(J.buffer.push(L),J.length+=J.objectMode?1:L.length)}J.ended=!0,H(P)}}function H(P){var J=P._readableState;J.needReadable=!1,J.emittedReadable||(ae("emitReadable",J.flowing),J.emittedReadable=!0,J.sync?Te(Y,P):Y(P))}function Y(P){ae("emit readable"),P.emit("readable"),q(P)}function j(P,J){J.readingMore||(J.readingMore=!0,Te(x,P,J))}function x(P,J){for(var L=J.length;!J.reading&&!J.flowing&&!J.ended&&J.length<J.highWaterMark&&(ae("maybeReadMore read 0"),P.read(0),L!==J.length);)L=J.length;J.readingMore=!1}function o(P){return function(){var J=P._readableState;ae("pipeOnDrain",J.awaitDrain),J.awaitDrain&&J.awaitDrain--,J.awaitDrain===0&&Ee(P,"data")&&(J.flowing=!0,q(P))}}function G(P){ae("readable nexttick read 0"),P.read(0)}function I(P,J){J.resumeScheduled||(J.resumeScheduled=!0,Te(O,P,J))}function O(P,J){J.reading||(ae("resume read 0"),P.read(0)),J.resumeScheduled=!1,J.awaitDrain=0,P.emit("resume"),q(P),J.flowing&&!J.reading&&P.read(0)}function q(P){var J=P._readableState;for(ae("flow",J.flowing);J.flowing&&P.read()!==null;);}function Q(P,J){if(J.length===0)return null;var L;return J.objectMode?L=J.buffer.shift():!P||P>=J.length?(L=J.decoder?J.buffer.join(""):J.buffer.length===1?J.buffer.head.data:J.buffer.concat(J.length),J.buffer.clear()):L=pe(P,J.buffer,J.decoder),L}function pe(P,J,L){var k;return P<J.head.data.length?(k=J.head.data.slice(0,P),J.head.data=J.head.data.slice(P)):k=P===J.head.data.length?J.shift():L?re(P,J):le(P,J),k}function re(P,J){var L=J.head,k=1,ne=L.data;for(P-=ne.length;L=L.next;){var K=L.data,he=P>K.length?K.length:P;if(he===K.length?ne+=K:ne+=K.slice(0,P),(P-=he)==0){he===K.length?(++k,L.next?J.head=L.next:J.head=J.tail=null):(J.head=L,L.data=K.slice(he));break}++k}return J.length-=k,ne}function le(P,J){var L=z.allocUnsafe(P),k=J.head,ne=1;for(k.data.copy(L),P-=k.data.length;k=k.next;){var K=k.data,he=P>K.length?K.length:P;if(K.copy(L,L.length-P,0,he),(P-=he)==0){he===K.length?(++ne,k.next?J.head=k.next:J.head=J.tail=null):(J.head=k,k.data=K.slice(he));break}++ne}return J.length-=ne,L}function ee(P){var J=P._readableState;if(J.length>0)throw new Error('"endReadable()" called on non-empty stream');J.endEmitted||(J.ended=!0,Te(be,J,P))}function be(P,J){P.endEmitted||P.length!==0||(P.endEmitted=!0,J.readable=!1,J.emit("end"))}function ie(P,J){for(var L=0,k=P.length;L<k;L++)if(P[L]===J)return L;return-1}var Te=t(25);p.exports=T;var ve,fe=t(24);T.ReadableState=y;var Ee=(t(12).EventEmitter,function(P,J){return P.listeners(J).length}),Ae=t(35),z=t(41).Buffer,ce=g.Uint8Array||function(){},Se=t(11);Se.inherits=t(22);var De=t(7),ae=void 0;ae=De&&De.debuglog?De.debuglog("stream"):function(){};var me,Ie=t(33),xe=t(34);Se.inherits(T,Ae);var de=["error","close","destroy","pause","resume"];Object.defineProperty(T.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(P){this._readableState&&(this._readableState.destroyed=P)}}),T.prototype.destroy=xe.destroy,T.prototype._undestroy=xe.undestroy,T.prototype._destroy=function(P,J){this.push(null),J(P)},T.prototype.push=function(P,J){var L,k=this._readableState;return k.objectMode?L=!0:typeof P=="string"&&(J=J||k.defaultEncoding,J!==k.encoding&&(P=z.from(P,J),J=""),L=!0),m(this,P,J,!1,L)},T.prototype.unshift=function(P){return m(this,P,null,!0,!1)},T.prototype.isPaused=function(){return this._readableState.flowing===!1},T.prototype.setEncoding=function(P){return me||(me=t(44).StringDecoder),this._readableState.decoder=new me(P),this._readableState.encoding=P,this};var Pe=8388608;T.prototype.read=function(P){ae("read",P),P=parseInt(P,10);var J=this._readableState,L=P;if(P!==0&&(J.emittedReadable=!1),P===0&&J.needReadable&&(J.length>=J.highWaterMark||J.ended))return ae("read: emitReadable",J.length,J.ended),J.length===0&&J.ended?ee(this):H(this),null;if((P=N(P,J))===0&&J.ended)return J.length===0&&ee(this),null;var k=J.needReadable;ae("need readable",k),(J.length===0||J.length-P<J.highWaterMark)&&(k=!0,ae("length less than watermark",k)),J.ended||J.reading?(k=!1,ae("reading or ended",k)):k&&(ae("do read"),J.reading=!0,J.sync=!0,J.length===0&&(J.needReadable=!0),this._read(J.highWaterMark),J.sync=!1,J.reading||(P=N(L,J)));var ne;return ne=P>0?Q(P,J):null,ne===null?(J.needReadable=!0,P=0):J.length-=P,J.length===0&&(J.ended||(J.needReadable=!0),L!==P&&J.ended&&ee(this)),ne!==null&&this.emit("data",ne),ne},T.prototype._read=function(P){this.emit("error",new Error("_read() is not implemented"))},T.prototype.pipe=function(P,J){function L(Ye,Xe){ae("onunpipe"),Ye===U&&Xe&&Xe.hasUnpiped===!1&&(Xe.hasUnpiped=!0,ne())}function k(){ae("onend"),P.end()}function ne(){ae("cleanup"),P.removeListener("close",we),P.removeListener("finish",c),P.removeListener("drain",qe),P.removeListener("error",he),P.removeListener("unpipe",L),U.removeListener("end",k),U.removeListener("end",S),U.removeListener("data",K),ke=!0,!W.awaitDrain||P._writableState&&!P._writableState.needDrain||qe()}function K(Ye){ae("ondata"),We=!1,P.write(Ye)!==!1||We||((W.pipesCount===1&&W.pipes===P||W.pipesCount>1&&ie(W.pipes,P)!==-1)&&!ke&&(ae("false write response, pause",U._readableState.awaitDrain),U._readableState.awaitDrain++,We=!0),U.pause())}function he(Ye){ae("onerror",Ye),S(),P.removeListener("error",he),Ee(P,"error")===0&&P.emit("error",Ye)}function we(){P.removeListener("finish",c),S()}function c(){ae("onfinish"),P.removeListener("close",we),S()}function S(){ae("unpipe"),U.unpipe(P)}var U=this,W=this._readableState;switch(W.pipesCount){case 0:W.pipes=P;break;case 1:W.pipes=[W.pipes,P];break;default:W.pipes.push(P)}W.pipesCount+=1,ae("pipe count=%d opts=%j",W.pipesCount,J);var Z=(!J||J.end!==!1)&&P!==f.stdout&&P!==f.stderr,ye=Z?k:S;W.endEmitted?Te(ye):U.once("end",ye),P.on("unpipe",L);var qe=o(U);P.on("drain",qe);var ke=!1,We=!1;return U.on("data",K),_(P,"error",he),P.once("close",we),P.once("finish",c),P.emit("pipe",U),W.flowing||(ae("pipe resume"),U.resume()),P},T.prototype.unpipe=function(P){var J=this._readableState,L={hasUnpiped:!1};if(J.pipesCount===0)return this;if(J.pipesCount===1)return P&&P!==J.pipes?this:(P||(P=J.pipes),J.pipes=null,J.pipesCount=0,J.flowing=!1,P&&P.emit("unpipe",this,L),this);if(!P){var k=J.pipes,ne=J.pipesCount;J.pipes=null,J.pipesCount=0,J.flowing=!1;for(var K=0;K<ne;K++)k[K].emit("unpipe",this,L);return this}var he=ie(J.pipes,P);return he===-1?this:(J.pipes.splice(he,1),J.pipesCount-=1,J.pipesCount===1&&(J.pipes=J.pipes[0]),P.emit("unpipe",this,L),this)},T.prototype.on=function(P,J){var L=Ae.prototype.on.call(this,P,J);if(P==="data")this._readableState.flowing!==!1&&this.resume();else if(P==="readable"){var k=this._readableState;k.endEmitted||k.readableListening||(k.readableListening=k.needReadable=!0,k.emittedReadable=!1,k.reading?k.length&&H(this):Te(G,this))}return L},T.prototype.addListener=T.prototype.on,T.prototype.resume=function(){var P=this._readableState;return P.flowing||(ae("resume"),P.flowing=!0,I(this,P)),this},T.prototype.pause=function(){return ae("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ae("pause"),this._readableState.flowing=!1,this.emit("pause")),this},T.prototype.wrap=function(P){var J=this._readableState,L=!1,k=this;P.on("end",function(){if(ae("wrapped end"),J.decoder&&!J.ended){var he=J.decoder.end();he&&he.length&&k.push(he)}k.push(null)}),P.on("data",function(he){ae("wrapped data"),J.decoder&&(he=J.decoder.write(he)),(!J.objectMode||he!=null)&&(J.objectMode||he&&he.length)&&(k.push(he)||(L=!0,P.pause()))});for(var ne in P)this[ne]===void 0&&typeof P[ne]=="function"&&(this[ne]=function(he){return function(){return P[he].apply(P,arguments)}}(ne));for(var K=0;K<de.length;K++)P.on(de[K],k.emit.bind(k,de[K]));return k._read=function(he){ae("wrapped _read",he),L&&(L=!1,P.resume())},k},T._fromList=Q}).call(this,t(26),typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{11:11,12:12,22:22,24:24,25:25,26:26,28:28,33:33,34:34,35:35,41:41,44:44,7:7}],31:[function(t,p,u){"use strict";function f(T){this.afterTransform=function(m,b){return g(T,m,b)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function g(T,m,b){var A=T._transformState;A.transforming=!1;var C=A.writecb;if(!C)return T.emit("error",new Error("write callback called multiple times"));A.writechunk=null,A.writecb=null,b!=null&&T.push(b),C(m);var R=T._readableState;R.reading=!1,(R.needReadable||R.length<R.highWaterMark)&&T._read(R.highWaterMark)}function E(T){if(!(this instanceof E))return new E(T);_.call(this,T),this._transformState=new f(this);var m=this;this._readableState.needReadable=!0,this._readableState.sync=!1,T&&(typeof T.transform=="function"&&(this._transform=T.transform),typeof T.flush=="function"&&(this._flush=T.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(b,A){d(m,b,A)}):d(m)})}function d(T,m,b){if(m)return T.emit("error",m);b!=null&&T.push(b);var A=T._writableState,C=T._transformState;if(A.length)throw new Error("Calling transform done when ws.length != 0");if(C.transforming)throw new Error("Calling transform done when still transforming");return T.push(null)}p.exports=E;var _=t(28),y=t(11);y.inherits=t(22),y.inherits(E,_),E.prototype.push=function(T,m){return this._transformState.needTransform=!1,_.prototype.push.call(this,T,m)},E.prototype._transform=function(T,m,b){throw new Error("_transform() is not implemented")},E.prototype._write=function(T,m,b){var A=this._transformState;if(A.writecb=b,A.writechunk=T,A.writeencoding=m,!A.transforming){var C=this._readableState;(A.needTransform||C.needReadable||C.length<C.highWaterMark)&&this._read(C.highWaterMark)}},E.prototype._read=function(T){var m=this._transformState;m.writechunk!==null&&m.writecb&&!m.transforming?(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform)):m.needTransform=!0},E.prototype._destroy=function(T,m){var b=this;_.prototype._destroy.call(this,T,function(A){m(A),b.emit("close")})}},{11:11,22:22,28:28}],32:[function(t,p,u){(function(f,g){"use strict";function E(z){var ce=this;this.next=null,this.entry=null,this.finish=function(){pe(ce,z)}}function d(z){return ve.from(z)}function _(z){return ve.isBuffer(z)||z instanceof fe}function y(){}function T(z,ce){le=le||t(28),z=z||{},this.objectMode=!!z.objectMode,ce instanceof le&&(this.objectMode=this.objectMode||!!z.writableObjectMode);var Se=z.highWaterMark,De=this.objectMode?16:16384;this.highWaterMark=Se||Se===0?Se:De,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ae=z.decodeStrings===!1;this.decodeStrings=!ae,this.defaultEncoding=z.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(me){Y(ce,me)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new E(this)}function m(z){if(le=le||t(28),!(Ae.call(m,this)||this instanceof le))return new m(z);this._writableState=new T(z,this),this.writable=!0,z&&(typeof z.write=="function"&&(this._write=z.write),typeof z.writev=="function"&&(this._writev=z.writev),typeof z.destroy=="function"&&(this._destroy=z.destroy),typeof z.final=="function"&&(this._final=z.final)),Te.call(this)}function b(z,ce){var Se=new Error("write after end");z.emit("error",Se),re(ce,Se)}function A(z,ce,Se,De){var ae=!0,me=!1;return Se===null?me=new TypeError("May not write null values to stream"):typeof Se=="string"||Se===void 0||ce.objectMode||(me=new TypeError("Invalid non-string/buffer chunk")),me&&(z.emit("error",me),re(De,me),ae=!1),ae}function C(z,ce,Se){return z.objectMode||z.decodeStrings===!1||typeof ce!="string"||(ce=ve.from(ce,Se)),ce}function R(z,ce,Se,De,ae,me){if(!Se){var Ie=C(ce,De,ae);De!==Ie&&(Se=!0,ae="buffer",De=Ie)}var xe=ce.objectMode?1:De.length;ce.length+=xe;var de=ce.length<ce.highWaterMark;if(de||(ce.needDrain=!0),ce.writing||ce.corked){var Pe=ce.lastBufferedRequest;ce.lastBufferedRequest={chunk:De,encoding:ae,isBuf:Se,callback:me,next:null},Pe?Pe.next=ce.lastBufferedRequest:ce.bufferedRequest=ce.lastBufferedRequest,ce.bufferedRequestCount+=1}else N(z,ce,!1,xe,De,ae,me);return de}function N(z,ce,Se,De,ae,me,Ie){ce.writelen=De,ce.writecb=Ie,ce.writing=!0,ce.sync=!0,Se?z._writev(ae,ce.onwrite):z._write(ae,me,ce.onwrite),ce.sync=!1}function M(z,ce,Se,De,ae){--ce.pendingcb,Se?(re(ae,De),re(q,z,ce),z._writableState.errorEmitted=!0,z.emit("error",De)):(ae(De),z._writableState.errorEmitted=!0,z.emit("error",De),q(z,ce))}function H(z){z.writing=!1,z.writecb=null,z.length-=z.writelen,z.writelen=0}function Y(z,ce){var Se=z._writableState,De=Se.sync,ae=Se.writecb;if(H(Se),ce)M(z,Se,De,ce,ae);else{var me=G(Se);me||Se.corked||Se.bufferProcessing||!Se.bufferedRequest||o(z,Se),De?ee(j,z,Se,me,ae):j(z,Se,me,ae)}}function j(z,ce,Se,De){Se||x(z,ce),ce.pendingcb--,De(),q(z,ce)}function x(z,ce){ce.length===0&&ce.needDrain&&(ce.needDrain=!1,z.emit("drain"))}function o(z,ce){ce.bufferProcessing=!0;var Se=ce.bufferedRequest;if(z._writev&&Se&&Se.next){var De=ce.bufferedRequestCount,ae=new Array(De),me=ce.corkedRequestsFree;me.entry=Se;for(var Ie=0,xe=!0;Se;)ae[Ie]=Se,Se.isBuf||(xe=!1),Se=Se.next,Ie+=1;ae.allBuffers=xe,N(z,ce,!0,ce.length,ae,"",me.finish),ce.pendingcb++,ce.lastBufferedRequest=null,me.next?(ce.corkedRequestsFree=me.next,me.next=null):ce.corkedRequestsFree=new E(ce)}else{for(;Se;){var de=Se.chunk,Pe=Se.encoding,P=Se.callback;if(N(z,ce,!1,ce.objectMode?1:de.length,de,Pe,P),Se=Se.next,ce.writing)break}Se===null&&(ce.lastBufferedRequest=null)}ce.bufferedRequestCount=0,ce.bufferedRequest=Se,ce.bufferProcessing=!1}function G(z){return z.ending&&z.length===0&&z.bufferedRequest===null&&!z.finished&&!z.writing}function I(z,ce){z._final(function(Se){ce.pendingcb--,Se&&z.emit("error",Se),ce.prefinished=!0,z.emit("prefinish"),q(z,ce)})}function O(z,ce){ce.prefinished||ce.finalCalled||(typeof z._final=="function"?(ce.pendingcb++,ce.finalCalled=!0,re(I,z,ce)):(ce.prefinished=!0,z.emit("prefinish")))}function q(z,ce){var Se=G(ce);return Se&&(O(z,ce),ce.pendingcb===0&&(ce.finished=!0,z.emit("finish"))),Se}function Q(z,ce,Se){ce.ending=!0,q(z,ce),Se&&(ce.finished?re(Se):z.once("finish",Se)),ce.ended=!0,z.writable=!1}function pe(z,ce,Se){var De=z.entry;for(z.entry=null;De;){var ae=De.callback;ce.pendingcb--,ae(Se),De=De.next}ce.corkedRequestsFree?ce.corkedRequestsFree.next=z:ce.corkedRequestsFree=z}var re=t(25);p.exports=m;var le,ee=!f.browser&&["v0.10","v0.9."].indexOf(f.version.slice(0,5))>-1?setImmediate:re;m.WritableState=T;var be=t(11);be.inherits=t(22);var ie={deprecate:t(45)},Te=t(35),ve=t(41).Buffer,fe=g.Uint8Array||function(){},Ee=t(34);be.inherits(m,Te),T.prototype.getBuffer=function(){for(var z=this.bufferedRequest,ce=[];z;)ce.push(z),z=z.next;return ce},function(){try{Object.defineProperty(T.prototype,"buffer",{get:ie.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Ae;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Ae=Function.prototype[Symbol.hasInstance],Object.defineProperty(m,Symbol.hasInstance,{value:function(z){return!!Ae.call(this,z)||z&&z._writableState instanceof T}})):Ae=function(z){return z instanceof this},m.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},m.prototype.write=function(z,ce,Se){var De=this._writableState,ae=!1,me=_(z)&&!De.objectMode;return me&&!ve.isBuffer(z)&&(z=d(z)),typeof ce=="function"&&(Se=ce,ce=null),me?ce="buffer":ce||(ce=De.defaultEncoding),typeof Se!="function"&&(Se=y),De.ended?b(this,Se):(me||A(this,De,z,Se))&&(De.pendingcb++,ae=R(this,De,me,z,ce,Se)),ae},m.prototype.cork=function(){this._writableState.corked++},m.prototype.uncork=function(){var z=this._writableState;z.corked&&(z.corked--,z.writing||z.corked||z.finished||z.bufferProcessing||!z.bufferedRequest||o(this,z))},m.prototype.setDefaultEncoding=function(z){if(typeof z=="string"&&(z=z.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((z+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+z);return this._writableState.defaultEncoding=z,this},m.prototype._write=function(z,ce,Se){Se(new Error("_write() is not implemented"))},m.prototype._writev=null,m.prototype.end=function(z,ce,Se){var De=this._writableState;typeof z=="function"?(Se=z,z=null,ce=null):typeof ce=="function"&&(Se=ce,ce=null),z!=null&&this.write(z,ce),De.corked&&(De.corked=1,this.uncork()),De.ending||De.finished||Q(this,De,Se)},Object.defineProperty(m.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(z){this._writableState&&(this._writableState.destroyed=z)}}),m.prototype.destroy=Ee.destroy,m.prototype._undestroy=Ee.undestroy,m.prototype._destroy=function(z,ce){this.end(),ce(z)}}).call(this,t(26),typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{11:11,22:22,25:25,26:26,28:28,34:34,35:35,41:41,45:45}],33:[function(t,p,u){"use strict";function f(d,_){if(!(d instanceof _))throw new TypeError("Cannot call a class as a function")}function g(d,_,y){d.copy(_,y)}var E=t(41).Buffer;p.exports=function(){function d(){f(this,d),this.head=null,this.tail=null,this.length=0}return d.prototype.push=function(_){var y={data:_,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length},d.prototype.unshift=function(_){var y={data:_,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length},d.prototype.shift=function(){if(this.length!==0){var _=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,_}},d.prototype.clear=function(){this.head=this.tail=null,this.length=0},d.prototype.join=function(_){if(this.length===0)return"";for(var y=this.head,T=""+y.data;y=y.next;)T+=_+y.data;return T},d.prototype.concat=function(_){if(this.length===0)return E.alloc(0);if(this.length===1)return this.head.data;for(var y=E.allocUnsafe(_>>>0),T=this.head,m=0;T;)g(T.data,y,m),m+=T.data.length,T=T.next;return y},d}()},{41:41}],34:[function(t,p,u){"use strict";function f(_,y){var T=this,m=this._readableState&&this._readableState.destroyed,b=this._writableState&&this._writableState.destroyed;if(m||b)return void(y?y(_):!_||this._writableState&&this._writableState.errorEmitted||d(E,this,_));this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(_||null,function(A){!y&&A?(d(E,T,A),T._writableState&&(T._writableState.errorEmitted=!0)):y&&y(A)})}function g(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function E(_,y){_.emit("error",y)}var d=t(25);p.exports={destroy:f,undestroy:g}},{25:25}],35:[function(t,p,u){p.exports=t(12).EventEmitter},{12:12}],36:[function(t,p,u){p.exports=t(37).PassThrough},{37:37}],37:[function(t,p,u){u=p.exports=t(30),u.Stream=u,u.Readable=u,u.Writable=t(32),u.Duplex=t(28),u.Transform=t(31),u.PassThrough=t(29)},{28:28,29:29,30:30,31:31,32:32}],38:[function(t,p,u){p.exports=t(37).Transform},{37:37}],39:[function(t,p,u){p.exports=t(32)},{32:32}],40:[function(t,p,u){var f=u.decimalAdjust=function(g,E,d){return d===void 0||+d==0?Math[g](E):(E=+E,d=+d,isNaN(E)||typeof d!="number"||d%1!=0?NaN:(E=E.toString().split("e"),E=Math[g](+(E[0]+"e"+(E[1]?+E[1]-d:-d))),E=E.toString().split("e"),+(E[0]+"e"+(E[1]?+E[1]+d:d))))};p.exports={round10:function(g,E){return f("round",g,E)},floor10:function(g,E){return f("floor",g,E)},ceil10:function(g,E){return f("ceil",g,E)}},p.exports.polyfill=function(){Math.round10||(Math.round10=p.exports.round10),Math.floor10||(Math.floor10=p.exports.floor10),Math.ceil10||(Math.ceil10=p.exports.ceil10)}},{}],41:[function(t,p,u){function f(_,y){for(var T in _)y[T]=_[T]}function g(_,y,T){return d(_,y,T)}var E=t(9),d=E.Buffer;d.from&&d.alloc&&d.allocUnsafe&&d.allocUnsafeSlow?p.exports=E:(f(E,u),u.Buffer=g),f(d,g),g.from=function(_,y,T){if(typeof _=="number")throw new TypeError("Argument must not be a number");return d(_,y,T)},g.alloc=function(_,y,T){if(typeof _!="number")throw new TypeError("Argument must be a number");var m=d(_);return y!==void 0?typeof T=="string"?m.fill(y,T):m.fill(y):m.fill(0),m},g.allocUnsafe=function(_){if(typeof _!="number")throw new TypeError("Argument must be a number");return d(_)},g.allocUnsafeSlow=function(_){if(typeof _!="number")throw new TypeError("Argument must be a number");return E.SlowBuffer(_)}},{9:9}],42:[function(t,p,u){(function(f){(function(g){function E(L,k){if(!(this instanceof E))return new E(L,k);var ne=this;_(ne),ne.q=ne.c="",ne.bufferCheckPosition=g.MAX_BUFFER_LENGTH,ne.opt=k||{},ne.opt.lowercase=ne.opt.lowercase||ne.opt.lowercasetags,ne.looseCase=ne.opt.lowercase?"toLowerCase":"toUpperCase",ne.tags=[],ne.closed=ne.closedRoot=ne.sawRoot=!1,ne.tag=ne.error=null,ne.strict=!!L,ne.noscript=!(!L&&!ne.opt.noscript),ne.state=P.BEGIN,ne.strictEntities=ne.opt.strictEntities,ne.ENTITIES=ne.strictEntities?Object.create(g.XML_ENTITIES):Object.create(g.ENTITIES),ne.attribList=[],ne.opt.xmlns&&(ne.ns=Object.create(me)),ne.trackPosition=ne.opt.position!==!1,ne.trackPosition&&(ne.position=ne.line=ne.column=0),N(ne,"onready")}function d(L){for(var k=Math.max(g.MAX_BUFFER_LENGTH,10),ne=0,K=0,he=be.length;K<he;K++){var we=L[be[K]].length;if(we>k)switch(be[K]){case"textNode":H(L);break;case"cdata":M(L,"oncdata",L.cdata),L.cdata="";break;case"script":M(L,"onscript",L.script),L.script="";break;default:j(L,"Max buffer length exceeded: "+be[K])}ne=Math.max(ne,we)}var c=g.MAX_BUFFER_LENGTH-ne;L.bufferCheckPosition=c+L.position}function _(L){for(var k=0,ne=be.length;k<ne;k++)L[be[k]]=""}function y(L){H(L),L.cdata!==""&&(M(L,"oncdata",L.cdata),L.cdata=""),L.script!==""&&(M(L,"onscript",L.script),L.script="")}function T(L,k){return new m(L,k)}function m(L,k){if(!(this instanceof m))return new m(L,k);ie.apply(this),this._parser=new E(L,k),this.writable=!0,this.readable=!0;var ne=this;this._parser.onend=function(){ne.emit("end")},this._parser.onerror=function(K){ne.emit("error",K),ne._parser.error=null},this._decoder=null,Te.forEach(function(K){Object.defineProperty(ne,"on"+K,{get:function(){return ne._parser["on"+K]},set:function(he){if(!he)return ne.removeAllListeners(K),ne._parser["on"+K]=he,he;ne.on(K,he)},enumerable:!0,configurable:!1})})}function b(L){return L.split("").reduce(function(k,ne){return k[ne]=!0,k},{})}function A(L){return Object.prototype.toString.call(L)==="[object RegExp]"}function C(L,k){return A(L)?!!k.match(L):L[k]}function R(L,k){return!C(L,k)}function N(L,k,ne){L[k]&&L[k](ne)}function M(L,k,ne){L.textNode&&H(L),N(L,k,ne)}function H(L){L.textNode=Y(L.opt,L.textNode),L.textNode&&N(L,"ontext",L.textNode),L.textNode=""}function Y(L,k){return L.trim&&(k=k.trim()),L.normalize&&(k=k.replace(/\s+/g," ")),k}function j(L,k){return H(L),L.trackPosition&&(k+=`
Line: `+L.line+`
Column: `+L.column+`
Char: `+L.c),k=new Error(k),L.error=k,N(L,"onerror",k),L}function x(L){return L.sawRoot&&!L.closedRoot&&o(L,"Unclosed root tag"),L.state!==P.BEGIN&&L.state!==P.BEGIN_WHITESPACE&&L.state!==P.TEXT&&j(L,"Unexpected end"),H(L),L.c="",L.closed=!0,N(L,"onend"),E.call(L,L.strict,L.opt),L}function o(L,k){if(typeof L!="object"||!(L instanceof E))throw new Error("bad call to strictFail");L.strict&&j(L,k)}function G(L){L.strict||(L.tagName=L.tagName[L.looseCase]());var k=L.tags[L.tags.length-1]||L,ne=L.tag={name:L.tagName,attributes:{}};L.opt.xmlns&&(ne.ns=k.ns),L.attribList.length=0,M(L,"onopentagstart",ne)}function I(L,k){var ne=L.indexOf(":"),K=ne<0?["",L]:L.split(":"),he=K[0],we=K[1];return k&&L==="xmlns"&&(he="xmlns",we=""),{prefix:he,local:we}}function O(L){if(L.strict||(L.attribName=L.attribName[L.looseCase]()),L.attribList.indexOf(L.attribName)!==-1||L.tag.attributes.hasOwnProperty(L.attribName))return void(L.attribName=L.attribValue="");if(L.opt.xmlns){var k=I(L.attribName,!0),ne=k.prefix,K=k.local;if(ne==="xmlns")if(K==="xml"&&L.attribValue!==De)o(L,"xml: prefix must be bound to "+De+`
Actual: `+L.attribValue);else if(K==="xmlns"&&L.attribValue!==ae)o(L,"xmlns: prefix must be bound to "+ae+`
Actual: `+L.attribValue);else{var he=L.tag,we=L.tags[L.tags.length-1]||L;he.ns===we.ns&&(he.ns=Object.create(we.ns)),he.ns[K]=L.attribValue}L.attribList.push([L.attribName,L.attribValue])}else L.tag.attributes[L.attribName]=L.attribValue,M(L,"onattribute",{name:L.attribName,value:L.attribValue});L.attribName=L.attribValue=""}function q(L,k){if(L.opt.xmlns){var ne=L.tag,K=I(L.tagName);ne.prefix=K.prefix,ne.local=K.local,ne.uri=ne.ns[K.prefix]||"",ne.prefix&&!ne.uri&&(o(L,"Unbound namespace prefix: "+JSON.stringify(L.tagName)),ne.uri=K.prefix);var he=L.tags[L.tags.length-1]||L;ne.ns&&he.ns!==ne.ns&&Object.keys(ne.ns).forEach(function(Ye){M(L,"onopennamespace",{prefix:Ye,uri:ne.ns[Ye]})});for(var we=0,c=L.attribList.length;we<c;we++){var S=L.attribList[we],U=S[0],W=S[1],Z=I(U,!0),ye=Z.prefix,qe=Z.local,ke=ye===""?"":ne.ns[ye]||"",We={name:U,value:W,prefix:ye,local:qe,uri:ke};ye&&ye!=="xmlns"&&!ke&&(o(L,"Unbound namespace prefix: "+JSON.stringify(ye)),We.uri=ye),L.tag.attributes[U]=We,M(L,"onattribute",We)}L.attribList.length=0}L.tag.isSelfClosing=!!k,L.sawRoot=!0,L.tags.push(L.tag),M(L,"onopentag",L.tag),k||(L.noscript||L.tagName.toLowerCase()!=="script"?L.state=P.TEXT:L.state=P.SCRIPT,L.tag=null,L.tagName=""),L.attribName=L.attribValue="",L.attribList.length=0}function Q(L){if(!L.tagName)return o(L,"Weird empty close tag."),L.textNode+="</>",void(L.state=P.TEXT);if(L.script){if(L.tagName!=="script")return L.script+="</"+L.tagName+">",L.tagName="",void(L.state=P.SCRIPT);M(L,"onscript",L.script),L.script=""}var k=L.tags.length,ne=L.tagName;L.strict||(ne=ne[L.looseCase]());for(var K=ne;k--&&L.tags[k].name!==K;)o(L,"Unexpected close tag");if(k<0)return o(L,"Unmatched closing tag: "+L.tagName),L.textNode+="</"+L.tagName+">",void(L.state=P.TEXT);L.tagName=ne;for(var he=L.tags.length;he-- >k;){var we=L.tag=L.tags.pop();L.tagName=L.tag.name,M(L,"onclosetag",L.tagName);var c={};for(var S in we.ns)c[S]=we.ns[S];var U=L.tags[L.tags.length-1]||L;L.opt.xmlns&&we.ns!==U.ns&&Object.keys(we.ns).forEach(function(W){var Z=we.ns[W];M(L,"onclosenamespace",{prefix:W,uri:Z})})}k===0&&(L.closedRoot=!0),L.tagName=L.attribValue=L.attribName="",L.attribList.length=0,L.state=P.TEXT}function pe(L){var k,ne=L.entity,K=ne.toLowerCase(),he="";return L.ENTITIES[ne]?L.ENTITIES[ne]:L.ENTITIES[K]?L.ENTITIES[K]:(ne=K,ne.charAt(0)==="#"&&(ne.charAt(1)==="x"?(ne=ne.slice(2),k=parseInt(ne,16),he=k.toString(16)):(ne=ne.slice(1),k=parseInt(ne,10),he=k.toString(10))),ne=ne.replace(/^0+/,""),he.toLowerCase()!==ne?(o(L,"Invalid character entity"),"&"+L.entity+";"):String.fromCodePoint(k))}function re(L,k){k==="<"?(L.state=P.OPEN_WAKA,L.startTagPosition=L.position):R(ve,k)&&(o(L,"Non-whitespace before first tag."),L.textNode=k,L.state=P.TEXT)}function le(L,k){var ne="";return k<L.length&&(ne=L.charAt(k)),ne}function ee(L){var k=this;if(this.error)throw this.error;if(k.closed)return j(k,"Cannot write after close. Assign an onready handler.");if(L===null)return x(k);typeof L=="object"&&(L=L.toString());for(var ne=0,K="";K=le(L,ne++),k.c=K,!!K;)switch(k.trackPosition&&(k.position++,K===`
`?(k.line++,k.column=0):k.column++),k.state){case P.BEGIN:if(k.state=P.BEGIN_WHITESPACE,K==="\uFEFF")continue;re(k,K);continue;case P.BEGIN_WHITESPACE:re(k,K);continue;case P.TEXT:if(k.sawRoot&&!k.closedRoot){for(var he=ne-1;K&&K!=="<"&&K!=="&";)(K=le(L,ne++))&&k.trackPosition&&(k.position++,K===`
`?(k.line++,k.column=0):k.column++);k.textNode+=L.substring(he,ne-1)}K!=="<"||k.sawRoot&&k.closedRoot&&!k.strict?(!R(ve,K)||k.sawRoot&&!k.closedRoot||o(k,"Text data outside of root node."),K==="&"?k.state=P.TEXT_ENTITY:k.textNode+=K):(k.state=P.OPEN_WAKA,k.startTagPosition=k.position);continue;case P.SCRIPT:K==="<"?k.state=P.SCRIPT_ENDING:k.script+=K;continue;case P.SCRIPT_ENDING:K==="/"?k.state=P.CLOSE_TAG:(k.script+="<"+K,k.state=P.SCRIPT);continue;case P.OPEN_WAKA:if(K==="!")k.state=P.SGML_DECL,k.sgmlDecl="";else if(!C(ve,K))if(C(Ie,K))k.state=P.OPEN_TAG,k.tagName=K;else if(K==="/")k.state=P.CLOSE_TAG,k.tagName="";else if(K==="?")k.state=P.PROC_INST,k.procInstName=k.procInstBody="";else{if(o(k,"Unencoded <"),k.startTagPosition+1<k.position){var we=k.position-k.startTagPosition;K=new Array(we).join(" ")+K}k.textNode+="<"+K,k.state=P.TEXT}continue;case P.SGML_DECL:(k.sgmlDecl+K).toUpperCase()===ce?(M(k,"onopencdata"),k.state=P.CDATA,k.sgmlDecl="",k.cdata=""):k.sgmlDecl+K==="--"?(k.state=P.COMMENT,k.comment="",k.sgmlDecl=""):(k.sgmlDecl+K).toUpperCase()===Se?(k.state=P.DOCTYPE,(k.doctype||k.sawRoot)&&o(k,"Inappropriately located doctype declaration"),k.doctype="",k.sgmlDecl=""):K===">"?(M(k,"onsgmldeclaration",k.sgmlDecl),k.sgmlDecl="",k.state=P.TEXT):(C(Ae,K)&&(k.state=P.SGML_DECL_QUOTED),k.sgmlDecl+=K);continue;case P.SGML_DECL_QUOTED:K===k.q&&(k.state=P.SGML_DECL,k.q=""),k.sgmlDecl+=K;continue;case P.DOCTYPE:K===">"?(k.state=P.TEXT,M(k,"ondoctype",k.doctype),k.doctype=!0):(k.doctype+=K,K==="["?k.state=P.DOCTYPE_DTD:C(Ae,K)&&(k.state=P.DOCTYPE_QUOTED,k.q=K));continue;case P.DOCTYPE_QUOTED:k.doctype+=K,K===k.q&&(k.q="",k.state=P.DOCTYPE);continue;case P.DOCTYPE_DTD:k.doctype+=K,K==="]"?k.state=P.DOCTYPE:C(Ae,K)&&(k.state=P.DOCTYPE_DTD_QUOTED,k.q=K);continue;case P.DOCTYPE_DTD_QUOTED:k.doctype+=K,K===k.q&&(k.state=P.DOCTYPE_DTD,k.q="");continue;case P.COMMENT:K==="-"?k.state=P.COMMENT_ENDING:k.comment+=K;continue;case P.COMMENT_ENDING:K==="-"?(k.state=P.COMMENT_ENDED,k.comment=Y(k.opt,k.comment),k.comment&&M(k,"oncomment",k.comment),k.comment=""):(k.comment+="-"+K,k.state=P.COMMENT);continue;case P.COMMENT_ENDED:K!==">"?(o(k,"Malformed comment"),k.comment+="--"+K,k.state=P.COMMENT):k.state=P.TEXT;continue;case P.CDATA:K==="]"?k.state=P.CDATA_ENDING:k.cdata+=K;continue;case P.CDATA_ENDING:K==="]"?k.state=P.CDATA_ENDING_2:(k.cdata+="]"+K,k.state=P.CDATA);continue;case P.CDATA_ENDING_2:K===">"?(k.cdata&&M(k,"oncdata",k.cdata),M(k,"onclosecdata"),k.cdata="",k.state=P.TEXT):K==="]"?k.cdata+="]":(k.cdata+="]]"+K,k.state=P.CDATA);continue;case P.PROC_INST:K==="?"?k.state=P.PROC_INST_ENDING:C(ve,K)?k.state=P.PROC_INST_BODY:k.procInstName+=K;continue;case P.PROC_INST_BODY:if(!k.procInstBody&&C(ve,K))continue;K==="?"?k.state=P.PROC_INST_ENDING:k.procInstBody+=K;continue;case P.PROC_INST_ENDING:K===">"?(M(k,"onprocessinginstruction",{name:k.procInstName,body:k.procInstBody}),k.procInstName=k.procInstBody="",k.state=P.TEXT):(k.procInstBody+="?"+K,k.state=P.PROC_INST_BODY);continue;case P.OPEN_TAG:C(xe,K)?k.tagName+=K:(G(k),K===">"?q(k):K==="/"?k.state=P.OPEN_TAG_SLASH:(R(ve,K)&&o(k,"Invalid character in tag name"),k.state=P.ATTRIB));continue;case P.OPEN_TAG_SLASH:K===">"?(q(k,!0),Q(k)):(o(k,"Forward-slash in opening tag not followed by >"),k.state=P.ATTRIB);continue;case P.ATTRIB:if(C(ve,K))continue;K===">"?q(k):K==="/"?k.state=P.OPEN_TAG_SLASH:C(Ie,K)?(k.attribName=K,k.attribValue="",k.state=P.ATTRIB_NAME):o(k,"Invalid attribute name");continue;case P.ATTRIB_NAME:K==="="?k.state=P.ATTRIB_VALUE:K===">"?(o(k,"Attribute without value"),k.attribValue=k.attribName,O(k),q(k)):C(ve,K)?k.state=P.ATTRIB_NAME_SAW_WHITE:C(xe,K)?k.attribName+=K:o(k,"Invalid attribute name");continue;case P.ATTRIB_NAME_SAW_WHITE:if(K==="=")k.state=P.ATTRIB_VALUE;else{if(C(ve,K))continue;o(k,"Attribute without value"),k.tag.attributes[k.attribName]="",k.attribValue="",M(k,"onattribute",{name:k.attribName,value:""}),k.attribName="",K===">"?q(k):C(Ie,K)?(k.attribName=K,k.state=P.ATTRIB_NAME):(o(k,"Invalid attribute name"),k.state=P.ATTRIB)}continue;case P.ATTRIB_VALUE:if(C(ve,K))continue;C(Ae,K)?(k.q=K,k.state=P.ATTRIB_VALUE_QUOTED):(o(k,"Unquoted attribute value"),k.state=P.ATTRIB_VALUE_UNQUOTED,k.attribValue=K);continue;case P.ATTRIB_VALUE_QUOTED:if(K!==k.q){K==="&"?k.state=P.ATTRIB_VALUE_ENTITY_Q:k.attribValue+=K;continue}O(k),k.q="",k.state=P.ATTRIB_VALUE_CLOSED;continue;case P.ATTRIB_VALUE_CLOSED:C(ve,K)?k.state=P.ATTRIB:K===">"?q(k):K==="/"?k.state=P.OPEN_TAG_SLASH:C(Ie,K)?(o(k,"No whitespace between attributes"),k.attribName=K,k.attribValue="",k.state=P.ATTRIB_NAME):o(k,"Invalid attribute name");continue;case P.ATTRIB_VALUE_UNQUOTED:if(R(z,K)){K==="&"?k.state=P.ATTRIB_VALUE_ENTITY_U:k.attribValue+=K;continue}O(k),K===">"?q(k):k.state=P.ATTRIB;continue;case P.CLOSE_TAG:if(k.tagName)K===">"?Q(k):C(xe,K)?k.tagName+=K:k.script?(k.script+="</"+k.tagName,k.tagName="",k.state=P.SCRIPT):(R(ve,K)&&o(k,"Invalid tagname in closing tag"),k.state=P.CLOSE_TAG_SAW_WHITE);else{if(C(ve,K))continue;R(Ie,K)?k.script?(k.script+="</"+K,k.state=P.SCRIPT):o(k,"Invalid tagname in closing tag."):k.tagName=K}continue;case P.CLOSE_TAG_SAW_WHITE:if(C(ve,K))continue;K===">"?Q(k):o(k,"Invalid characters in closing tag");continue;case P.TEXT_ENTITY:case P.ATTRIB_VALUE_ENTITY_Q:case P.ATTRIB_VALUE_ENTITY_U:var c,S;switch(k.state){case P.TEXT_ENTITY:c=P.TEXT,S="textNode";break;case P.ATTRIB_VALUE_ENTITY_Q:c=P.ATTRIB_VALUE_QUOTED,S="attribValue";break;case P.ATTRIB_VALUE_ENTITY_U:c=P.ATTRIB_VALUE_UNQUOTED,S="attribValue"}K===";"?(k[S]+=pe(k),k.entity="",k.state=c):C(k.entity.length?Pe:de,K)?k.entity+=K:(o(k,"Invalid character in entity name"),k[S]+="&"+k.entity+K,k.entity="",k.state=c);continue;default:throw new Error(k,"Unknown state: "+k.state)}return k.position>=k.bufferCheckPosition&&d(k),k}g.parser=function(L,k){return new E(L,k)},g.SAXParser=E,g.SAXStream=m,g.createStream=T,g.MAX_BUFFER_LENGTH=65536;var be=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];g.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(L){function k(){}return k.prototype=L,new k}),Object.keys||(Object.keys=function(L){var k=[];for(var ne in L)L.hasOwnProperty(ne)&&k.push(ne);return k}),E.prototype={end:function(){x(this)},write:ee,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){y(this)}};var ie;try{ie=t(43).Stream}catch{ie=function(){}}var Te=g.EVENTS.filter(function(L){return L!=="error"&&L!=="end"});m.prototype=Object.create(ie.prototype,{constructor:{value:m}}),m.prototype.write=function(L){if(typeof f=="function"&&typeof f.isBuffer=="function"&&f.isBuffer(L)){if(!this._decoder){var k=t(8).StringDecoder;this._decoder=new k("utf8")}L=this._decoder.write(L)}return this._parser.write(L.toString()),this.emit("data",L),!0},m.prototype.end=function(L){return L&&L.length&&this.write(L),this._parser.end(),!0},m.prototype.on=function(L,k){var ne=this;return ne._parser["on"+L]||Te.indexOf(L)===-1||(ne._parser["on"+L]=function(){var K=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);K.splice(0,0,L),ne.emit.apply(ne,K)}),ie.prototype.on.call(ne,L,k)};var ve=`\r
	 `,fe="0124356789",Ee="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",Ae=`'"`,z=ve+">",ce="[CDATA[",Se="DOCTYPE",De="http://www.w3.org/XML/1998/namespace",ae="http://www.w3.org/2000/xmlns/",me={xml:De,xmlns:ae};ve=b(ve),fe=b(fe),Ee=b(Ee);var Ie=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,xe=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,de=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Pe=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;Ae=b(Ae),z=b(z);var P=0;g.STATE={BEGIN:P++,BEGIN_WHITESPACE:P++,TEXT:P++,TEXT_ENTITY:P++,OPEN_WAKA:P++,SGML_DECL:P++,SGML_DECL_QUOTED:P++,DOCTYPE:P++,DOCTYPE_QUOTED:P++,DOCTYPE_DTD:P++,DOCTYPE_DTD_QUOTED:P++,COMMENT_STARTING:P++,COMMENT:P++,COMMENT_ENDING:P++,COMMENT_ENDED:P++,CDATA:P++,CDATA_ENDING:P++,CDATA_ENDING_2:P++,PROC_INST:P++,PROC_INST_BODY:P++,PROC_INST_ENDING:P++,OPEN_TAG:P++,OPEN_TAG_SLASH:P++,ATTRIB:P++,ATTRIB_NAME:P++,ATTRIB_NAME_SAW_WHITE:P++,ATTRIB_VALUE:P++,ATTRIB_VALUE_QUOTED:P++,ATTRIB_VALUE_CLOSED:P++,ATTRIB_VALUE_UNQUOTED:P++,ATTRIB_VALUE_ENTITY_Q:P++,ATTRIB_VALUE_ENTITY_U:P++,CLOSE_TAG:P++,CLOSE_TAG_SAW_WHITE:P++,SCRIPT:P++,SCRIPT_ENDING:P++},g.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},g.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(g.ENTITIES).forEach(function(L){var k=g.ENTITIES[L],ne=typeof k=="number"?String.fromCharCode(k):k;g.ENTITIES[L]=ne});for(var J in g.STATE)g.STATE[g.STATE[J]]=J;P=g.STATE,String.fromCodePoint||function(){var L=String.fromCharCode,k=Math.floor,ne=function(){var K,he,we=16384,c=[],S=-1,U=arguments.length;if(!U)return"";for(var W="";++S<U;){var Z=Number(arguments[S]);if(!isFinite(Z)||Z<0||Z>1114111||k(Z)!==Z)throw RangeError("Invalid code point: "+Z);Z<=65535?c.push(Z):(Z-=65536,K=55296+(Z>>10),he=Z%1024+56320,c.push(K,he)),(S+1===U||c.length>we)&&(W+=L.apply(null,c),c.length=0)}return W};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:ne,configurable:!0,writable:!0}):String.fromCodePoint=ne}()})(u===void 0?this.sax={}:u)}).call(this,t(9).Buffer)},{43:43,8:8,9:9}],43:[function(t,p,u){function f(){g.call(this)}p.exports=f;var g=t(12).EventEmitter;t(22)(f,g),f.Readable=t(37),f.Writable=t(39),f.Duplex=t(27),f.Transform=t(38),f.PassThrough=t(36),f.Stream=f,f.prototype.pipe=function(E,d){function _(N){E.writable&&E.write(N)===!1&&C.pause&&C.pause()}function y(){C.readable&&C.resume&&C.resume()}function T(){R||(R=!0,E.end())}function m(){R||(R=!0,typeof E.destroy=="function"&&E.destroy())}function b(N){if(A(),g.listenerCount(this,"error")===0)throw N}function A(){C.removeListener("data",_),E.removeListener("drain",y),C.removeListener("end",T),C.removeListener("close",m),C.removeListener("error",b),E.removeListener("error",b),C.removeListener("end",A),C.removeListener("close",A),E.removeListener("close",A)}var C=this;C.on("data",_),E.on("drain",y),E._isStdio||d&&d.end===!1||(C.on("end",T),C.on("close",m));var R=!1;return C.on("error",b),E.on("error",b),C.on("end",A),C.on("close",A),E.on("close",A),E.emit("pipe",C),E}},{12:12,22:22,27:27,36:36,37:37,38:38,39:39}],44:[function(t,p,u){"use strict";function f(x){if(!x)return"utf8";for(var o;;)switch(x){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return x;default:if(o)return;x=(""+x).toLowerCase(),o=!0}}function g(x){var o=f(x);if(typeof o!="string"&&(Y.isEncoding===j||!j(x)))throw new Error("Unknown encoding: "+x);return o||x}function E(x){this.encoding=g(x);var o;switch(this.encoding){case"utf16le":this.text=A,this.end=C,o=4;break;case"utf8":this.fillLast=T,o=4;break;case"base64":this.text=R,this.end=N,o=3;break;default:return this.write=M,void(this.end=H)}this.lastNeed=0,this.lastTotal=0,this.lastChar=Y.allocUnsafe(o)}function d(x){return x<=127?0:x>>5==6?2:x>>4==14?3:x>>3==30?4:-1}function _(x,o,G){var I=o.length-1;if(I<G)return 0;var O=d(o[I]);return O>=0?(O>0&&(x.lastNeed=O-1),O):--I<G?0:(O=d(o[I]))>=0?(O>0&&(x.lastNeed=O-2),O):--I<G?0:(O=d(o[I]),O>=0?(O>0&&(O===2?O=0:x.lastNeed=O-3),O):0)}function y(x,o,G){if((192&o[0])!=128)return x.lastNeed=0,"\uFFFD".repeat(G);if(x.lastNeed>1&&o.length>1){if((192&o[1])!=128)return x.lastNeed=1,"\uFFFD".repeat(G+1);if(x.lastNeed>2&&o.length>2&&(192&o[2])!=128)return x.lastNeed=2,"\uFFFD".repeat(G+2)}}function T(x){var o=this.lastTotal-this.lastNeed,G=y(this,x,o);return G!==void 0?G:this.lastNeed<=x.length?(x.copy(this.lastChar,o,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(x.copy(this.lastChar,o,0,x.length),void(this.lastNeed-=x.length))}function m(x,o){var G=_(this,x,o);if(!this.lastNeed)return x.toString("utf8",o);this.lastTotal=G;var I=x.length-(G-this.lastNeed);return x.copy(this.lastChar,0,I),x.toString("utf8",o,I)}function b(x){var o=x&&x.length?this.write(x):"";return this.lastNeed?o+"\uFFFD".repeat(this.lastTotal-this.lastNeed):o}function A(x,o){if((x.length-o)%2==0){var G=x.toString("utf16le",o);if(G){var I=G.charCodeAt(G.length-1);if(I>=55296&&I<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1],G.slice(0,-1)}return G}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=x[x.length-1],x.toString("utf16le",o,x.length-1)}function C(x){var o=x&&x.length?this.write(x):"";if(this.lastNeed){var G=this.lastTotal-this.lastNeed;return o+this.lastChar.toString("utf16le",0,G)}return o}function R(x,o){var G=(x.length-o)%3;return G===0?x.toString("base64",o):(this.lastNeed=3-G,this.lastTotal=3,G===1?this.lastChar[0]=x[x.length-1]:(this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1]),x.toString("base64",o,x.length-G))}function N(x){var o=x&&x.length?this.write(x):"";return this.lastNeed?o+this.lastChar.toString("base64",0,3-this.lastNeed):o}function M(x){return x.toString(this.encoding)}function H(x){return x&&x.length?this.write(x):""}var Y=t(41).Buffer,j=Y.isEncoding||function(x){switch((x=""+x)&&x.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};u.StringDecoder=E,E.prototype.write=function(x){if(x.length===0)return"";var o,G;if(this.lastNeed){if((o=this.fillLast(x))===void 0)return"";G=this.lastNeed,this.lastNeed=0}else G=0;return G<x.length?o?o+this.text(x,G):this.text(x,G):o||""},E.prototype.end=b,E.prototype.text=m,E.prototype.fillLast=function(x){if(this.lastNeed<=x.length)return x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,x.length),this.lastNeed-=x.length}},{41:41}],45:[function(t,p,u){(function(f){function g(d,_){function y(){if(!T){if(E("throwDeprecation"))throw new Error(_);E("traceDeprecation")?console.trace(_):console.warn(_),T=!0}return d.apply(this,arguments)}if(E("noDeprecation"))return d;var T=!1;return y}function E(d){try{if(!f.localStorage)return!1}catch{return!1}var _=f.localStorage[d];return _!=null&&String(_).toLowerCase()==="true"}p.exports=g}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],46:[function(t,p,u){"use strict";function f(b){return b&&b.__esModule?b:{default:b}}function g(){function b(){x=!0,o=!0,G=!1,I=new Date().getTime()}function A(O){o=O}function C(O){G=O}function R(O){x=O}function N(){return x}function M(){var O="",q=null;o&&(q=new Date().getTime(),O+="["+(q-I)+"]"),G&&this&&this.getClassName&&(O+="["+this.getClassName()+"]",this.getType&&(O+="["+this.getType()+"]")),O.length>0&&(O+=" "),Array.apply(null,arguments).forEach(function(Q){O+=Q+" "}),x&&console.log(O),Y.trigger(y.default.LOG,{message:O})}var H=this.context,Y=(0,d.default)(H).getInstance(),j=void 0,x=void 0,o=void 0,G=void 0,I=void 0;return j={log:M,setLogTimestampVisible:A,setCalleeNameVisible:C,setLogToBrowserConsole:R,getLogToBrowserConsole:N},b(),j}Object.defineProperty(u,"__esModule",{value:!0});var E=t(47),d=f(E),_=t(51),y=f(_),T=t(48),m=f(T);g.__dashjs_factory_name="Debug",u.default=m.default.getSingletonFactory(g),p.exports=u.default},{47:47,48:48,51:51}],47:[function(t,p,u){"use strict";function f(m){return m&&m.__esModule?m:{default:m}}function g(){function m(M,H,Y){var j=arguments.length<=3||arguments[3]===void 0?_:arguments[3];if(!M)throw new Error("event type cannot be null or undefined");if(!H||typeof H!="function")throw new Error("listener must be a function: "+H);if(!(C(M,H,Y)>=0)){N[M]=N[M]||[];var x={callback:H,scope:Y,priority:j};N[M].some(function(o,G){if(o&&j>o.priority)return N[M].splice(G,0,x),!0})||N[M].push(x)}}function b(M,H,Y){if(M&&H&&N[M]){var j=C(M,H,Y);j<0||(N[M][j]=null)}}function A(M,H){if(M&&N[M]){if(H=H||{},H.hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");H.type=M,N[M]=N[M].filter(function(Y){return Y}),N[M].forEach(function(Y){return Y&&Y.callback.call(Y.scope,H)})}}function C(M,H,Y){var j=-1;return N[M]&&N[M].some(function(x,o){if(x&&x.callback===H&&(!Y||Y===x.scope))return j=o,!0}),j}function R(){N={}}var N={};return{on:m,off:b,trigger:A,reset:R}}Object.defineProperty(u,"__esModule",{value:!0});var E=t(48),d=f(E),_=0,y=5e3;g.__dashjs_factory_name="EventBus";var T=d.default.getSingletonFactory(g);T.EVENT_PRIORITY_LOW=_,T.EVENT_PRIORITY_HIGH=y,d.default.updateSingletonFactory(g.__dashjs_factory_name,T),u.default=T,p.exports=u.default},{48:48}],48:[function(t,p,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0});var f=function(){function g(I,O,q,Q){var pe=H(Q);!pe[I]&&O&&(pe[I]={instance:O,override:q})}function E(I,O){for(var q in x){var Q=x[q];if(Q.context===I&&Q.name===O)return Q.instance}return null}function d(I,O,q){for(var Q in x){var pe=x[Q];if(pe.context===I&&pe.name===O)return void(x[Q].instance=q)}x.push({name:O,context:I,instance:q})}function _(I,O,q){for(var Q in q)if(q[Q].name===I)return void(q[Q].factory=O);q.push({name:I,factory:O})}function y(I,O){for(var q in O)if(O[q].name===I)return O[q].factory;return null}function T(I,O,q){for(var Q in q)if(q[Q].name===I)return void(q[Q].factory=O)}function m(I,O){T(I,O,G)}function b(I){return y(I,G)}function A(I){var O=y(I.__dashjs_factory_name,G);return O||(O=function(q){return q===void 0&&(q={}),{create:function(){return M(I.__dashjs_factory_name,I.apply({context:q},arguments),q,arguments)}}},_(I.__dashjs_factory_name,O,G)),O}function C(I,O){T(I,O,o)}function R(I){return y(I,o)}function N(I){var O=y(I.__dashjs_factory_name,o);return O||(O=function(q){var Q=void 0;return q===void 0&&(q={}),{getInstance:function(){return Q||(Q=E(q,I.__dashjs_factory_name)),Q||(Q=M(I.__dashjs_factory_name,I.apply({context:q},arguments),q,arguments),x.push({name:I.__dashjs_factory_name,context:q,instance:Q})),Q}}},_(I.__dashjs_factory_name,O,o)),O}function M(I,O,q,Q){O.getClassName=function(){return I};var pe=H(q),re=pe[I];if(re){var le=re.instance;if(!re.override)return le.apply({context:q,factory:Y},Q);le=le.apply({context:q,factory:Y,parent:O},Q);for(var ee in le)O.hasOwnProperty(ee)&&(O[ee]=le[ee])}return O}function H(I){var O=void 0;return j.forEach(function(q){q===I&&(O=q)}),O||(j.push(I),O=I),O}var Y=void 0,j=[],x=[],o=[],G=[];return Y={extend:g,getSingletonInstance:E,setSingletonInstance:d,getSingletonFactory:N,getSingletonFactoryByName:R,updateSingletonFactory:C,getClassFactory:A,getClassFactoryByName:b,updateClassFactory:m}}();u.default=f,p.exports=u.default},{}],49:[function(t,p,u){"use strict";function f(){return g}Object.defineProperty(u,"__esModule",{value:!0}),u.getVersionString=f;var g="2.6.7"},{}],50:[function(t,p,u){"use strict";function f(m){return m&&m.__esModule?m:{default:m}}function g(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")}function E(m,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);m.prototype=Object.create(b&&b.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(m,b):m.__proto__=b)}Object.defineProperty(u,"__esModule",{value:!0});var d=function(m,b,A){for(var C=!0;C;){var R=m,N=b,M=A;C=!1,R===null&&(R=Function.prototype);var H=Object.getOwnPropertyDescriptor(R,N);if(H!==void 0){if("value"in H)return H.value;var Y=H.get;return Y===void 0?void 0:Y.call(M)}var j=Object.getPrototypeOf(R);if(j===null)return;m=j,b=N,A=M,C=!0,H=j=void 0}},_=t(52),y=f(_),T=function(m){function b(){g(this,b),d(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.BUFFERING_COMPLETED="bufferingCompleted",this.BUFFER_CLEARED="bufferCleared",this.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",this.BYTES_APPENDED="bytesAppended",this.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",this.CURRENT_TRACK_CHANGED="currentTrackChanged",this.DATA_UPDATE_COMPLETED="dataUpdateCompleted",this.DATA_UPDATE_STARTED="dataUpdateStarted",this.INITIALIZATION_LOADED="initializationLoaded",this.INIT_FRAGMENT_LOADED="initFragmentLoaded",this.INIT_REQUESTED="initRequested",this.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",this.LIVE_EDGE_SEARCH_COMPLETED="liveEdgeSearchCompleted",this.LOADING_COMPLETED="loadingCompleted",this.LOADING_PROGRESS="loadingProgress",this.LOADING_ABANDONED="loadingAborted",this.MANIFEST_UPDATED="manifestUpdated",this.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",this.QUOTA_EXCEEDED="quotaExceeded",this.REPRESENTATION_UPDATED="representationUpdated",this.SEGMENTS_LOADED="segmentsLoaded",this.SERVICE_LOCATION_BLACKLIST_ADD="serviceLocationBlacklistAdd",this.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",this.SOURCEBUFFER_REMOVE_COMPLETED="sourceBufferRemoveCompleted",this.STREAMS_COMPOSED="streamsComposed",this.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",this.STREAM_COMPLETED="streamCompleted",this.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",this.TIMED_TEXT_REQUESTED="timedTextRequested",this.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",this.URL_RESOLUTION_FAILED="urlResolutionFailed",this.VIDEO_CHUNK_RECEIVED="videoChunkReceived",this.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",this.XLINK_ELEMENT_LOADED="xlinkElementLoaded",this.XLINK_READY="xlinkReady"}return E(b,m),b}(y.default);u.default=T,p.exports=u.default},{52:52}],51:[function(t,p,u){"use strict";function f(b){return b&&b.__esModule?b:{default:b}}function g(b,A){if(!(b instanceof A))throw new TypeError("Cannot call a class as a function")}function E(b,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);b.prototype=Object.create(A&&A.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(b,A):b.__proto__=A)}Object.defineProperty(u,"__esModule",{value:!0});var d=function(b,A,C){for(var R=!0;R;){var N=b,M=A,H=C;R=!1,N===null&&(N=Function.prototype);var Y=Object.getOwnPropertyDescriptor(N,M);if(Y!==void 0){if("value"in Y)return Y.value;var j=Y.get;return j===void 0?void 0:j.call(H)}var x=Object.getPrototypeOf(N);if(x===null)return;b=x,A=M,C=H,R=!0,Y=x=void 0}},_=t(50),y=f(_),T=function(b){function A(){g(this,A),d(Object.getPrototypeOf(A.prototype),"constructor",this).apply(this,arguments)}return E(A,b),A}(y.default),m=new T;u.default=m,p.exports=u.default},{50:50}],52:[function(t,p,u){"use strict";function f(d,_){if(!(d instanceof _))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(u,"__esModule",{value:!0});var g=function(){function d(_,y){for(var T=0;T<y.length;T++){var m=y[T];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,m.key,m)}}return function(_,y,T){return y&&d(_.prototype,y),T&&d(_,T),_}}(),E=function(){function d(){f(this,d)}return g(d,[{key:"extend",value:function(_,y){if(_){var T=!!y&&y.override,m=!!y&&y.publicOnly;for(var b in _)!_.hasOwnProperty(b)||this[b]&&!T||m&&_[b].indexOf("public_")===-1||(this[b]=_[b])}}}]),d}();u.default=E,p.exports=u.default},{}],53:[function(t,p,u){"use strict";function f(o){return o&&o.__esModule?o:{default:o}}function g(){function o(){k()}function G(c){c&&c.dashManifestModel&&(K=c.dashManifestModel)}function I(c,S){return S&&c?S.getRepresentationForQuality(c.quality):null}function O(c){return c&&c.streamInfo&&c.streamInfo.id!==void 0&&we[c.streamInfo.id]?we[c.streamInfo.id][c.index]:null}function q(c,S){for(var U=S.length,W=0;W<U;W++){var Z=S[W];if(c.id===Z.id)return Z}return null}function Q(c){var S=new y.default,U=c.adaptation.period.mpd.manifest.Period_asArray[c.adaptation.period.index].AdaptationSet_asArray[c.adaptation.index],W=K.getRepresentationFor(c.index,U);return S.id=c.id,S.quality=c.index,S.bandwidth=K.getBandwidth(W),S.DVRWindow=c.segmentAvailabilityRange,S.fragmentDuration=c.segmentDuration||(c.segments&&c.segments.length>0?c.segments[0].duration:NaN),S.MSETimeOffset=c.MSETimeOffset,S.useCalculatedLiveEdgeTime=c.useCalculatedLiveEdgeTime,S.mediaInfo=pe(c.adaptation),S}function pe(c){var S=new m.default,U=c.period.mpd.manifest.Period_asArray[c.period.index].AdaptationSet_asArray[c.index],W=void 0;return S.id=c.id,S.index=c.index,S.type=c.type,S.streamInfo=ee(c.period),S.representationCount=K.getRepresentationCount(U),S.lang=K.getLanguageForAdaptation(U),W=K.getViewpointForAdaptation(U),S.viewpoint=W?W.value:void 0,S.accessibility=K.getAccessibilityForAdaptation(U).map(function(Z){var ye=Z.value,qe=ye;return Z.schemeIdUri&&Z.schemeIdUri.search("cea-608")>=0&&x.default!==void 0&&(qe=ye?"cea-608:"+ye:"cea-608",S.embeddedCaptions=!0),qe}),S.audioChannelConfiguration=K.getAudioChannelConfigurationForAdaptation(U).map(function(Z){return Z.value}),S.roles=K.getRolesForAdaptation(U).map(function(Z){return Z.value}),S.codec=K.getCodec(U),S.mimeType=K.getMimeType(U),S.contentProtection=K.getContentProtectionData(U),S.bitrateList=K.getBitrateListForAdaptation(U),S.contentProtection&&S.contentProtection.forEach(function(Z){Z.KID=K.getKID(Z)}),S.isText=K.getIsTextTrack(S.mimeType),S}function re(c,S,U){c.id=S,c.index=100+parseInt(S.substring(2,3)),c.type=d.default.EMBEDDED_TEXT,c.codec="cea-608-in-SEI",c.isText=!0,c.isEmbedded=!0,c.lang=S+" "+U,c.roles=["caption"]}function le(c){c.type=d.default.IMAGE}function ee(c){var S=new A.default;return S.id=c.id,S.index=c.index,S.start=c.start,S.duration=c.duration,S.manifestInfo=be(c.mpd),S.isLast=c.mpd.manifest.Period_asArray.length===1||Math.abs(S.start+S.duration-S.manifestInfo.duration)<1,S}function be(c){var S=new R.default;return S.DVRWindowSize=c.timeShiftBufferDepth,S.loadedTime=c.manifest.loadedTime,S.availableFrom=c.availabilityStartTime,S.minBufferTime=c.manifest.minBufferTime,S.maxFragmentDuration=c.maxSegmentDuration,S.duration=K.getDuration(c.manifest),S.isDynamic=K.getIsDynamic(c.manifest),S}function ie(c,S){if(he.length===0)return null;var U=he[0].mpd.manifest,W=K.getAdaptationForType(U,c.index,S,c);if(!W)return null;var Z=q(c,he),ye=Z.id,qe=K.getIndexForAdaptation(W,U,c.index);return we[ye]=we[ye]||K.getAdaptationsForPeriod(Z),pe(we[ye][qe])}function Te(c,S,U){var W=he,Z=U,ye=[],qe=void 0,ke=void 0,We=void 0,Ye=void 0,Xe=void 0,ht=void 0;if(Z){ve();var Ct=K.getMpd(Z);W=K.getRegularPeriods(Ct)}else{if(!(he.length>0))return ye;Z=he[0].mpd.manifest}var Ke=q(c,W),pt=Ke.id,dt=K.getAdaptationsForType(Z,c.index,S!==d.default.EMBEDDED_TEXT?S:d.default.VIDEO);if(!dt)return ye;for(we[pt]=we[pt]||K.getAdaptationsForPeriod(Ke),Ye=0,ht=dt.length;Ye<ht;Ye++)if(qe=dt[Ye],We=K.getIndexForAdaptation(qe,Z,c.index),ke=pe(we[pt][We]),S===d.default.EMBEDDED_TEXT){var nt=ke.accessibility.length;for(Xe=0;Xe<nt;Xe++)if(ke){var Lt=ke.accessibility[Xe];if(Lt.indexOf("cea-608:")===0){var Ut=Lt.substring(8),gt=Ut.split(";");if(gt[0].substring(0,2)==="CC")for(Xe=0;Xe<gt.length;Xe++)ke||(ke=pe.call(this,we[pt][We])),re(ke,gt[Xe].substring(0,3),gt[Xe].substring(4)),ye.push(ke),ke=null;else for(Xe=0;Xe<gt.length;Xe++)ke||(ke=pe.call(this,we[pt][We])),re(ke,"CC"+(Xe+1),gt[Xe]),ye.push(ke),ke=null}else Lt.indexOf("cea-608")===0&&(re(ke,d.default.CC1,"eng"),ye.push(ke),ke=null)}}else S===d.default.IMAGE?(le(ke),ye.push(ke),ke=null):ke&&ye.push(ke);return ye}function ve(){if(!K||!K.hasOwnProperty("getMpd")||!K.hasOwnProperty("getRegularPeriods"))throw new Error("setConfig function has to be called previously")}function fe(c){if(!c)return null;ve();var S=K.getMpd(c);he=K.getRegularPeriods(S),we={}}function Ee(c){var S=[],U=he;if(c){ve();var W=K.getMpd(c);U=K.getRegularPeriods(W)}for(var Z=0;Z<U.length;Z++)S.push(ee(U[Z]));return S}function Ae(c){if(!(c&&c.hasOwnProperty("getRepresentationController")&&c.hasOwnProperty("getIndexHandler")&&c.hasOwnProperty("getMediaInfo")&&c.hasOwnProperty("getType")&&c.hasOwnProperty("getStreamInfo")))throw new Error("streamProcessor parameter is missing or malformed!")}function z(c){if(!c||!c.hasOwnProperty("getRepresentationForQuality")||!c.hasOwnProperty("getCurrentRepresentation"))throw new Error("representationController parameter is missing or malformed!")}function ce(c){if(c===null||isNaN(c)||c%1!=0)throw new Error("quality argument is not an integer")}function Se(c,S){var U=void 0,W=void 0,Z=void 0;return Ae(c),ce(S),U=c.getRepresentationController(),Z=c.getIndexHandler(),W=U?U.getRepresentationForQuality(S):null,Z?Z.getInitRequest(W):null}function De(c,S){var U=void 0,W=void 0,Z=void 0;return Ae(c),U=c.getRepresentationController(),W=I(S,U),Z=c.getIndexHandler(),Z?Z.getNextSegmentRequest(W):null}function ae(c,S,U,W){var Z=void 0,ye=void 0,qe=void 0;return Ae(c),Z=c.getRepresentationController(),ye=I(S,Z),qe=c.getIndexHandler(),qe?qe.getSegmentRequestForTime(ye,U,W):null}function me(c,S,U){var W=void 0,Z=void 0,ye=void 0;return Ae(c),W=c.getRepresentationController(),Z=I(S,W),ye=c.getIndexHandler(),ye?ye.generateSegmentRequestForTime(Z,U):null}function Ie(c){Ae(c);var S=c.getIndexHandler();return S?S.getCurrentTime():NaN}function xe(c,S){Ae(c);var U=c.getIndexHandler();U&&U.setCurrentTime(S)}function de(c){Ae(c);var S=q(c.getStreamInfo(),he),U=c.getMediaInfo(),W=O(U),Z=c.getType(),ye=void 0,qe=void 0;ye=U?U.id:null,he.length>0&&(qe=ye?K.getAdaptationForId(ye,he[0].mpd.manifest,S.index):K.getAdaptationForIndex(U.index,he[0].mpd.manifest,S.index),c.getRepresentationController().updateData(qe,W,Z))}function Pe(c,S){z(c),ce(S);var U=c.getRepresentationForQuality(S);return U?Q(U):null}function P(c){z(c);var S=c.getCurrentRepresentation();return S?Q(S):null}function J(c,S,U){if(!c||!S)return null;var W=new M.default,Z=c.scheme_id_uri,ye=c.value,qe=c.timescale,ke=c.presentation_time_delta,We=c.event_duration,Ye=c.id,Xe=c.message_data,ht=U*qe+ke;return S[Z]?(W.eventStream=S[Z],W.eventStream.value=ye,W.eventStream.timescale=qe,W.duration=We,W.id=Ye,W.presentationTime=ht,W.messageData=Xe,W.presentationTimeDelta=ke,W):null}function L(c,S){var U=[];if(he.length===0)return U;var W=he[0].mpd.manifest;return c instanceof A.default?U=K.getEventsForPeriod(q(c,he)):c instanceof m.default?U=K.getEventStreamForAdaptationSet(W,O(c)):c instanceof y.default&&(U=K.getEventStreamForRepresentation(W,I(c,S.getRepresentationController()))),U}function k(){he=[],we={}}var ne=void 0,K=void 0,he=void 0,we=void 0;return ne={convertDataToRepresentationInfo:Q,getDataForMedia:O,getStreamsInfo:Ee,getMediaInfoForType:ie,getAllMediaInfoForType:Te,getCurrentRepresentationInfo:P,getRepresentationInfoForQuality:Pe,updateData:de,getInitRequest:Se,getNextFragmentRequest:De,getFragmentRequestForTime:ae,generateFragmentRequestForTime:me,getIndexHandlerTime:Ie,setIndexHandlerTime:xe,getEventsFor:L,getEvent:J,setConfig:G,updatePeriods:fe,reset:k},o(),ne}Object.defineProperty(u,"__esModule",{value:!0});var E=t(98),d=f(E),_=t(168),y=f(_),T=t(166),m=f(T),b=t(169),A=f(b),C=t(165),R=f(C),N=t(80),M=f(N),H=t(48),Y=f(H),j=t(2),x=f(j);g.__dashjs_factory_name="DashAdapter",u.default=Y.default.getSingletonFactory(g),p.exports=u.default},{165:165,166:166,168:168,169:169,2:2,48:48,80:80,98:98}],54:[function(t,p,u){"use strict";function f(fe){return fe&&fe.__esModule?fe:{default:fe}}function g(fe){function Ee(){dt=(0,o.default)(Z).getInstance().log.bind(pt),me(),ke=Ae(fe.mimeType)?(0,ie.default)(Z).getInstance():(0,ee.default)(Z).getInstance(),ke.setConfig({baseURLController:Ke,metricsModel:Xe,mediaPlayerModel:ht,errHandler:Ct}),ye.on(N.default.INITIALIZATION_LOADED,U,pt),ye.on(N.default.SEGMENTS_LOADED,W,pt)}function Ae(Je){return Je.split("/")[1].toLowerCase()==="webm"}function z(Je){Tt=Je;var et=Tt?Tt.getStreamInfo().manifestInfo.isDynamic:null;ke.initialize(),st=(0,re.default)(Z).create(fe,et)}function ce(){return Tt}function Se(Je){Ut=Je}function De(){return Ut}function ae(){return gt}function me(){nt=-1,Ut=0,gt=NaN,Lt=null,Tt=null,st=null}function Ie(){me(),ye.off(N.default.INITIALIZATION_LOADED,U,pt),ye.off(N.default.SEGMENTS_LOADED,W,pt)}function xe(Je,et,St){var wt=Ke.resolve(St.path),lt=void 0,ut=void 0;return wt&&et!==wt.url&&qe.isRelative(et)?(lt=wt.url,ut=wt.serviceLocation,et&&(lt=qe.resolve(et,lt))):lt=et,!qe.isRelative(lt)&&(Je.url=lt,Je.serviceLocation=ut,!0)}function de(Je,et){var St=new m.default,wt=Je.adaptation.period,lt=wt.start,ut=Tt?Tt.getStreamInfo().manifestInfo.isDynamic:null;if(St.mediaType=et,St.type=C.HTTPRequest.INIT_SEGMENT_TYPE,St.range=Je.range,St.availabilityStartTime=We.calcAvailabilityStartTimeFromPresentationTime(lt,wt.mpd,ut),St.availabilityEndTime=We.calcAvailabilityEndTimeFromPresentationTime(lt+wt.duration,wt.mpd,ut),St.quality=Je.index,St.mediaInfo=Tt?Tt.getMediaInfo():null,St.representationId=Je.id,xe(St,Je.initialization,Je))return St}function Pe(Je){var et=Tt?Tt.getType():null;return Je?de(Je,et):null}function P(Je){var et=!1,St=Tt?Tt.getStreamInfo().manifestInfo.isDynamic:null;if(St||nt!==Je.availableSegmentsNumber){var wt=(0,Q.getSegmentByIndex)(nt,Je);if(wt){var lt=parseFloat((wt.presentationStartTime-Je.adaptation.period.start).toFixed(5)),ut=Je.adaptation.period.duration;dt(Je.segmentInfoType+": "+lt+" / "+ut),et=(Je.segmentInfoType!==y.default.SEGMENT_TIMELINE||!St)&&lt>=ut}else dt("isMediaFinished - no segment found")}else et=!0;return et}function J(Je){st.getSegments(Je,Lt,nt,L)}function L(Je,et){var St=Tt?Tt.getStreamInfo().manifestInfo.isDynamic:null;if(Je.segments=et,et&&et.length>0&&(gt=isNaN(gt)?et[0].presentationStartTime:Math.min(et[0].presentationStartTime,gt),St&&isNaN(We.getExpectedLiveEdge()))){var wt=et[et.length-1],lt=wt.presentationStartTime,ut=Xe.getMetricsFor(d.default.STREAM);We.setExpectedLiveEdge(lt),Xe.updateManifestUpdateInfo(Ye.getCurrentManifestUpdate(ut),{presentationStartTime:lt})}}function k(Je){if(!Je)throw new Error("no representation");Je.segments=null,J(Je)}function ne(Je,et){var St=q.default.hasInitialization(Je),wt=q.default.hasSegments(Je),lt=Tt?Tt.getType():null,ut=Tt?Tt.getStreamInfo().manifestInfo.isDynamic:null,bt=void 0;if(Je.segmentDuration||Je.segments||k(Je),Je.segmentAvailabilityRange=null,Je.segmentAvailabilityRange=We.calcSegmentAvailabilityRange(Je,ut),Je.segmentAvailabilityRange.end<Je.segmentAvailabilityRange.start&&!Je.useCalculatedLiveEdgeTime)return bt=new A.default(Te,"no segments are available yet",{availabilityDelay:Je.segmentAvailabilityRange.start-Je.segmentAvailabilityRange.end}),void ye.trigger(N.default.REPRESENTATION_UPDATED,{sender:this,representation:Je,error:bt});et||(nt=-1),Je.segmentDuration&&k(Je),St||ke.loadInitialization(Je),wt||ke.loadSegments(Je,lt,Je.indexRange),St&&wt&&ye.trigger(N.default.REPRESENTATION_UPDATED,{sender:this,representation:Je})}function K(Je,et,St){var wt=et.segments,lt=wt?wt.length:null,ut=-1,bt=void 0,kt=void 0,Mt=void 0,se=void 0,Be=void 0;if(wt&&lt>0){for(St=St??ht.getSegmentOverlapToleranceTime(),Be=0;Be<lt;Be++)if(kt=wt[Be],Mt=kt.presentationStartTime,se=kt.duration,bt=St??se/2,Je+bt>=Mt&&Je-bt<Mt+se){ut=kt.availabilityIdx;break}}return ut}function he(Je){if(Je==null)return null;var et=new m.default,St=Je.representation,wt=St.adaptation.period.mpd.manifest.Period_asArray[St.adaptation.period.index].AdaptationSet_asArray[St.adaptation.index].Representation_asArray[St.index].bandwidth,lt=Je.media,ut=Tt?Tt.getType():null;return lt=(0,Q.replaceTokenForTemplate)(lt,"Number",Je.replacementNumber),lt=(0,Q.replaceTokenForTemplate)(lt,"Time",Je.replacementTime),lt=(0,Q.replaceTokenForTemplate)(lt,"Bandwidth",wt),lt=(0,Q.replaceIDForTemplate)(lt,St.id),lt=(0,Q.unescapeDollarsInTemplate)(lt),et.mediaType=ut,et.type=C.HTTPRequest.MEDIA_SEGMENT_TYPE,et.range=Je.mediaRange,et.startTime=Je.presentationStartTime,et.duration=Je.duration,et.timescale=St.timescale,et.availabilityStartTime=Je.availabilityStartTime,et.availabilityEndTime=Je.availabilityEndTime,et.wallStartTime=Je.wallStartTime,et.quality=St.index,et.index=Je.availabilityIdx,et.mediaInfo=Tt.getMediaInfo(),et.adaptationIndex=St.adaptation.index,et.representationId=St.id,xe(et,lt,St)?et:void 0}function we(Je,et,St){var wt=void 0,lt=void 0,ut=void 0,bt=Tt?Tt.getType():null,kt=Tt?Tt.getStreamInfo().manifestInfo.isDynamic:null,Mt=nt,se=!!St&&St.keepIdx,Be=St?St.timeThreshold:null,e=!(!St||!St.ignoreIsFinished);return Je?(Lt!==et&&(Lt=et,dt("Getting the request for "+bt+" time : "+et)),J(Je),nt=K(et,Je,Be),nt<0&&(J(Je),nt=K(et,Je,Be)),nt>0&&dt("Index for "+bt+" time "+et+" is "+nt),ut=!e&&P(Je),ut?(wt=new m.default,wt.action=m.default.ACTION_COMPLETE,wt.index=nt,wt.mediaType=bt,wt.mediaInfo=Tt.getMediaInfo(),dt("Signal complete in getSegmentRequestForTime -",bt)):(lt=(0,Q.getSegmentByIndex)(nt,Je),wt=he(lt)),se&&Mt>=0&&(nt=Je.segmentInfoType===y.default.SEGMENT_TIMELINE&&kt?nt:Mt),wt):null}function c(Je,et){var St=(Je.segmentAvailabilityRange.end-Je.segmentAvailabilityRange.start)/2;return Je.segments=null,Je.segmentAvailabilityRange={start:et-St,end:et+St},we(Je,et,{keepIdx:!1,ignoreIsFinished:!0})}function S(Je){var et=void 0,St=void 0,wt=void 0,lt=Tt?Tt.getType():null,ut=Tt?Tt.getStreamInfo().manifestInfo.isDynamic:null;return Je&&nt!==-1?(Lt=null,nt++,dt("Getting the next request at index: "+nt+", type: "+lt),!(0,Q.getSegmentByIndex)(nt,Je)&&ut?(dt("No segment found at index: "+nt+". Wait for next loop"),J(Je),nt--,null):(wt=P(Je),wt?(et=new m.default,et.action=m.default.ACTION_COMPLETE,et.index=nt,et.mediaType=lt,et.mediaInfo=Tt.getMediaInfo(),dt("Signal complete -",lt)):(J(Je),St=(0,Q.getSegmentByIndex)(nt,Je),et=he(St),!St&&ut&&nt--),et)):null}function U(Je){var et=Je.representation;et.segments&&ye.trigger(N.default.REPRESENTATION_UPDATED,{sender:this,representation:et})}function W(Je){var et=Tt?Tt.getType():null,St=Tt?Tt.getStreamInfo().manifestInfo.isDynamic:null;if(!Je.error&&et===Je.mediaType){var wt=Je.segments,lt=Je.representation,ut=[],bt=0,kt=void 0,Mt=void 0,se=void 0,Be=void 0;for(kt=0,Mt=wt.length;kt<Mt;kt++)se=wt[kt],Be=(0,Q.getTimeBasedSegment)(We,St,lt,se.startTime,se.duration,se.timescale,se.media,se.mediaRange,bt),ut.push(Be),Be=null,bt++;lt.segmentAvailabilityRange={start:ut[0].presentationStartTime,end:ut[Mt-1].presentationStartTime},lt.availableSegmentsNumber=Mt,L(lt,ut),q.default.hasInitialization(lt)&&ye.trigger(N.default.REPRESENTATION_UPDATED,{sender:this,representation:lt})}}fe=fe||{};var Z=this.context,ye=(0,H.default)(Z).getInstance(),qe=(0,I.default)(Z).getInstance(),ke=void 0,We=fe.timelineConverter,Ye=fe.dashMetrics,Xe=fe.metricsModel,ht=fe.mediaPlayerModel,Ct=fe.errHandler,Ke=fe.baseURLController,pt=void 0,dt=void 0,nt=void 0,Lt=void 0,Ut=void 0,gt=void 0,Tt=void 0,st=void 0;return pt={initialize:z,getStreamProcessor:ce,getInitRequest:Pe,getSegmentRequestForTime:we,getNextSegmentRequest:S,generateSegmentRequestForTime:c,updateRepresentation:ne,updateSegmentList:k,setCurrentTime:Se,getCurrentTime:De,getEarliestTime:ae,reset:Ie},Ee(),pt}Object.defineProperty(u,"__esModule",{value:!0});var E=t(98),d=f(E),_=t(58),y=f(_),T=t(162),m=f(T),b=t(160),A=f(b),C=t(179),R=t(51),N=f(R),M=t(47),H=f(M),Y=t(48),j=f(Y),x=t(46),o=f(x),G=t(155),I=f(G),O=t(84),q=f(O),Q=t(74),pe=t(73),re=f(pe),le=t(56),ee=f(le),be=t(57),ie=f(be),Te=1;g.__dashjs_factory_name="DashHandler";var ve=j.default.getClassFactory(g);ve.SEGMENTS_UNAVAILABLE_ERROR_CODE=Te,j.default.updateClassFactory(g.__dashjs_factory_name,ve),u.default=ve,p.exports=u.default},{155:155,160:160,162:162,179:179,46:46,47:47,48:48,51:51,56:56,57:57,58:58,73:73,74:74,84:84,98:98}],55:[function(t,p,u){"use strict";function f(b){return b&&b.__esModule?b:{default:b}}function g(b){function A(fe,Ee){var Ae=void 0;return Ae=ee(ve.getValue().Period_asArray[Ee],fe),Ae===null?null:Ae.bandwidth}function C(fe,Ee){return le(ve.getValue().Period_asArray[Ee],fe)}function R(fe,Ee){return ie(ve.getValue().Period_asArray[Ee],fe)}function N(fe){return o(fe,T.default.TRACK_SWITCH)}function M(fe){return o(fe,T.default.BUFFER_LEVEL)}function H(fe){var Ee=M(fe);return Ee?(0,m.round10)(Ee.level/1e3,-3):0}function Y(fe){return fe?fe.RequestsQueue:null}function j(fe){if(!fe)return null;var Ee=fe.HttpList,Ae=null,z=void 0,ce=void 0;if(!Ee||Ee.length<=0)return null;for(z=Ee.length,ce=z-1;ce>=0;){if(Ee[ce].responsecode){Ae=Ee[ce];break}ce--}return Ae}function x(fe){return fe&&fe.HttpList?fe.HttpList:[]}function o(fe,Ee){if(!fe)return null;var Ae=fe[Ee];if(!Ae)return null;var z=Ae.length;return z<=0?null:Ae[z-1]}function G(fe){return o(fe,T.default.DROPPED_FRAMES)}function I(fe){return o(fe,T.default.SCHEDULING_INFO)}function O(fe){return o(fe,T.default.MANIFEST_UPDATE)}function q(fe){return o(fe,T.default.DVR_INFO)}function Q(fe,Ee){var Ae={},z=void 0,ce=void 0,Se=void 0;for(z=x(fe),Se=z.length-1;Se>=0;Se--)if(ce=z[Se],ce.type===E.HTTPRequest.MPD_TYPE){Ae=re(ce._responseHeaders);break}return Ae[Ee]===void 0?null:Ae[Ee]}function pe(fe,Ee){var Ae={},z=j(fe);return z&&(Ae=re(z._responseHeaders)),Ae[Ee]===void 0?null:Ae[Ee]}function re(fe){var Ee={};if(!fe)return Ee;for(var Ae=fe.trim().split(`\r
`),z=0,ce=Ae.length;z<ce;z++){var Se=Ae[z],De=Se.indexOf(": ");De>0&&(Ee[Se.substring(0,De)]=Se.substring(De+2))}return Ee}function le(fe,Ee){var Ae=ee(fe,Ee,!0);return Ae!==null?Ae:-1}function ee(fe,Ee,Ae){var z=void 0,ce=void 0,Se=void 0,De=void 0,ae=void 0,me=void 0;if(fe){for(ce=fe.AdaptationSet_asArray,ae=0;ae<ce.length;ae+=1)for(z=ce[ae],De=z.Representation_asArray,me=0;me<De.length;me+=1)if(Se=De[me],Ee===Se.id)return Ae?me:Se}return null}function be(fe,Ee){return Te.getIsTypeOf(fe,Ee)}function ie(fe,Ee){var Ae=void 0,z=void 0,ce=void 0,Se=void 0;if(!fe||!Ee)return-1;for(z=fe.AdaptationSet_asArray,Se=0;Se<z.length;Se+=1)if(Ae=z[Se],ce=Ae.Representation_asArray,be(Ae,Ee))return ce.length;return-1}b=b||{};var Te=b.dashManifestModel,ve=b.manifestModel;return{getBandwidthForRepresentation:A,getIndexForRepresentation:C,getMaxIndexForBufferType:R,getCurrentRepresentationSwitch:N,getLatestBufferLevelVO:M,getCurrentBufferLevel:H,getCurrentHttpRequest:j,getHttpRequests:x,getCurrentDroppedFrames:G,getCurrentSchedulingInfo:I,getCurrentDVRInfo:q,getCurrentManifestUpdate:O,getLatestFragmentRequestHeaderValueByID:pe,getLatestMPDRequestHeaderValueByID:Q,getRequestsQueue:Y}}Object.defineProperty(u,"__esModule",{value:!0});var E=t(179),d=t(48),_=f(d),y=t(99),T=f(y),m=t(40);g.__dashjs_factory_name="DashMetrics",u.default=_.default.getSingletonFactory(g),p.exports=u.default},{179:179,40:40,48:48,99:99}],56:[function(t,p,u){"use strict";function f(Q){return Q&&Q.__esModule?Q:{default:Q}}function g(){function Q(){Se=(0,M.default)(Ee).getInstance(),De=(0,d.default)(Ee).getInstance(),Ie=(0,q.default)(Ee).create({errHandler:ce,metricsModel:ae,mediaPlayerModel:me,requestModifier:De})}function pe(de){de.baseURLController&&(xe=de.baseURLController),de.metricsModel&&(ae=de.metricsModel),de.mediaPlayerModel&&(me=de.mediaPlayerModel),de.errHandler&&(ce=de.errHandler)}function re(){if(!xe||!xe.hasOwnProperty("resolve"))throw new Error("setConfig function has to be called previously")}function le(de,Pe){re();var P=null,J=null,L=xe.resolve(de.path),k=Pe||{init:!0,url:L?L.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500};Ae("Start searching for initialization.");var ne=ve(k),K=function(we){k.bytesLoaded=k.range.end,J=Se.parse(we),P=Te(J),P?(de.range=P,z.trigger(A.default.INITIALIZATION_LOADED,{representation:de})):(k.range.end=k.bytesLoaded+k.bytesToLoad,le(de,k))},he=function(){z.trigger(A.default.INITIALIZATION_LOADED,{representation:de})};Ie.load({request:ne,success:K,error:he}),Ae("Perform init search: "+k.url)}function ee(de,Pe,P,J,L){if(re(),P&&(P.start===void 0||P.end===void 0)){var k=P?P.toString().split("-"):null;P=k?{start:parseFloat(k[0]),end:parseFloat(k[1])}:null}L=L||fe;var ne=null,K=null,he=!!P,we=xe.resolve(de.path),c={init:!1,url:we?we.url:void 0,range:he?P:{start:0,end:1500},searching:!he,bytesLoaded:J?J.bytesLoaded:0,bytesToLoad:1500},S=ve(c),U=function(Z){var ye=c.bytesToLoad,qe=Z.byteLength;if(c.bytesLoaded=c.range.end-c.range.start,ne=Se.parse(Z),(K=ne.getBox("sidx"))&&K.isComplete){var ke=K.references,We=void 0,Ye=void 0;ke!=null&&ke.length>0&&(We=ke[0].reference_type===1),We?function(){Ae("Initiate multiple SIDX load."),c.range.end=c.range.start+K.size;var ht=void 0,Ct=void 0,Ke=void 0,pt=void 0,dt=void 0,nt=[],Lt=0,Ut=(K.offset||c.range.start)+K.size,gt=function(Tt){Tt?(nt=nt.concat(Tt),++Lt>=Ct&&L(nt,de,Pe)):L(null,de,Pe)};for(ht=0,Ct=ke.length;ht<Ct;ht++)Ke=Ut,pt=Ut+ke[ht].referenced_size-1,Ut+=ke[ht].referenced_size,dt={start:Ke,end:pt},ee(de,null,dt,c,gt)}():(Ae("Parsing segments from SIDX."),Ye=ie(K,c),L(Ye,de,Pe))}else{if(K)c.range.start=K.offset||c.range.start,c.range.end=c.range.start+(K.size||ye);else{if(qe<c.bytesLoaded)return void L(null,de,Pe);var Xe=ne.getLastBox();Xe&&Xe.size?(c.range.start=Xe.offset+Xe.size,c.range.end=c.range.start+ye):c.range.end+=ye}ee(de,Pe,c.range,c,L)}},W=function(){L(null,de,Pe)};Ie.load({request:S,success:U,error:W}),Ae("Perform SIDX load: "+c.url)}function be(){Ie.abort(),Ie=null,ce=null,Se=null,De=null}function ie(de,Pe){for(var P=de.references,J=P.length,L=de.timescale,k=de.earliest_presentation_time,ne=Pe.range.start+de.offset+de.first_offset+de.size,K=[],he=void 0,we=void 0,c=void 0,S=void 0,U=0;U<J;U++)c=P[U].subsegment_duration,S=P[U].referenced_size,he=new y.default,he.duration=c,he.startTime=k,he.timescale=L,we=ne+S-1,he.mediaRange=ne+"-"+we,K.push(he),k+=c,ne+=S;return K}function Te(de){var Pe=de.getBox("ftyp"),P=de.getBox("moov"),J=null,L=void 0,k=void 0;return Ae("Searching for initialization."),P&&P.isComplete&&(L=Pe?Pe.offset:P.offset,k=P.offset+P.size-1,J=L+"-"+k,Ae("Found the initialization.  Range: "+J)),J}function ve(de){if(de.url){var Pe=new I.default;return Pe.type=de.init?o.HTTPRequest.INIT_SEGMENT_TYPE:o.HTTPRequest.MEDIA_SEGMENT_TYPE,Pe.url=de.url,Pe.range=de.range.start+"-"+de.range.end,Pe}}function fe(de,Pe,P){de?z.trigger(A.default.SEGMENTS_LOADED,{segments:de,representation:Pe,mediaType:P}):z.trigger(A.default.SEGMENTS_LOADED,{segments:null,representation:Pe,mediaType:P,error:new m.default(null,"error loading segments",null)})}var Ee=this.context,Ae=(0,x.default)(Ee).getInstance().log,z=(0,R.default)(Ee).getInstance(),ce=void 0,Se=void 0,De=void 0,ae=void 0,me=void 0,Ie=void 0,xe=void 0;return{setConfig:pe,initialize:Q,loadInitialization:le,loadSegments:ee,reset:be}}Object.defineProperty(u,"__esModule",{value:!0});var E=t(153),d=f(E),_=t(85),y=f(_),T=t(160),m=f(T),b=t(51),A=f(b),C=t(47),R=f(C),N=t(143),M=f(N),H=t(48),Y=f(H),j=t(46),x=f(j),o=t(179),G=t(162),I=f(G),O=t(96),q=f(O);g.__dashjs_factory_name="SegmentBaseLoader",u.default=Y.default.getSingletonFactory(g),p.exports=u.default},{143:143,153:153,160:160,162:162,179:179,46:46,47:47,48:48,51:51,85:85,96:96}],57:[function(t,p,u){"use strict";function f(O){return O&&O.__esModule?O:{default:O}}function g(){function O(){Se={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}}}function q(){ae=(0,M.default)(Ee).getInstance(),xe=(0,I.default)(Ee).create({errHandler:De,metricsModel:me,mediaPlayerModel:Ie,requestModifier:ae})}function Q(Pe){if(!(Pe.baseURLController&&Pe.metricsModel&&Pe.mediaPlayerModel&&Pe.errHandler))throw new Error("Missing config parameter(s)");de=Pe.baseURLController,me=Pe.metricsModel,Ie=Pe.mediaPlayerModel,De=Pe.errHandler}function pe(Pe){var P=[],J=void 0,L=void 0,k=(0,m.default)(Ee).create({data:Pe});for(k.consumeTagAndSize(Se.Segment.Cues);k.moreData()&&k.consumeTagAndSize(Se.Segment.Cues.CuePoint,!0);){for(J={},J.CueTime=k.parseTag(Se.Segment.Cues.CuePoint.CueTime),J.CueTracks=[];k.moreData()&&k.consumeTag(Se.Segment.Cues.CuePoint.CueTrackPositions,!0);){var ne=k.getMatroskaCodedNum(),K=k.getPos();if(L={},L.Track=k.parseTag(Se.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),L.Track===0)throw new Error("Cue track cannot be 0");L.ClusterPosition=k.parseTag(Se.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),J.CueTracks.push(L),k.setPos(K+ne)}if(J.CueTracks.length===0)throw new Error("Mandatory cuetrack not found");P.push(J)}if(P.length===0)throw new Error("mandatory cuepoint not found");return P}function re(Pe,P,J,L){var k=void 0,ne=void 0,K=void 0,he=void 0,we=void 0,c=void 0,S=void 0,U=void 0;for(ne=pe(Pe),K=[],we=0,c=ne.length;we<c;we+=1)he=new Y.default,k=0,k=we<ne.length-1?ne[we+1].CueTime-ne[we].CueTime:L-ne[we].CueTime,he.duration=k,he.startTime=ne[we].CueTime,he.timescale=1e3,S=ne[we].CueTracks[0].ClusterPosition+P,U=we<ne.length-1?ne[we+1].CueTracks[0].ClusterPosition+P-1:J-1,he.mediaRange=S+"-"+U,K.push(he);return Ae("Parsed cues: "+K.length+" cues."),K}function le(Pe,P,J,L){var k=(0,m.default)(Ee).create({data:Pe}),ne=void 0,K=void 0,he=J.split("-"),we=null,c={url:P,range:{start:parseFloat(he[0]),end:parseFloat(he[1])},request:we},S=void 0,U=void 0;for(Ae("Parse EBML header: "+c.url),k.skipOverElement(Se.EBML),k.consumeTag(Se.Segment),S=k.getMatroskaCodedNum(),S+=k.getPos(),U=k.getPos();k.moreData()&&!k.consumeTagAndSize(Se.Segment.Info,!0);)if(!(k.skipOverElement(Se.Segment.SeekHead,!0)||k.skipOverElement(Se.Segment.Tracks,!0)||k.skipOverElement(Se.Segment.Cues,!0)||k.skipOverElement(Se.Void,!0)))throw new Error("no valid top level element found");for(;ne===void 0;){var W=k.getMatroskaCodedNum(!0),Z=k.getMatroskaCodedNum();switch(W){case Se.Segment.Info.Duration.tag:ne=k[Se.Segment.Info.Duration.parse](Z);break;default:k.setPos(k.getPos()+Z)}}we=ve(c);var ye=function(ke){K=re(ke,U,S,ne),L(K)},qe=function(){Ae("Download Error: Cues "+c.url),L(null)};xe.load({request:we,success:ye,error:qe}),Ae("Perform cues load: "+c.url+" bytes="+c.range.start+"-"+c.range.end)}function ee(){if(!de||!de.hasOwnProperty("resolve"))throw new Error("setConfig function has to be called previously")}function be(Pe,P){ee();var J=null,L=de.resolve(Pe.path),k=L?L.url:void 0,ne=Pe.range.split("-"),K=P||{range:{start:parseFloat(ne[0]),end:parseFloat(ne[1])},request:J,url:k,init:!0};Ae("Start loading initialization."),J=ve(K);var he=function(){z.trigger(d.default.INITIALIZATION_LOADED,{representation:Pe})},we=function(){z.trigger(d.default.INITIALIZATION_LOADED,{representation:Pe})};xe.load({request:J,success:he,error:we}),Ae("Perform init load: "+K.url)}function ie(Pe,P,J,L){ee();var k=null,ne=de.resolve(Pe.path),K=ne?ne.url:void 0,he=8192,we={bytesLoaded:0,bytesToLoad:he,range:{start:0,end:he},request:k,url:K,init:!1};L=L||Te,k=ve(we),Ae("Parsing ebml header");var c=function(U){le(U,K,J,function(W){L(W,Pe,P)})},S=function(){L(null,Pe,P)};xe.load({request:k,success:c,error:S})}function Te(Pe,P,J){Pe?z.trigger(d.default.SEGMENTS_LOADED,{segments:Pe,representation:P,mediaType:J}):z.trigger(d.default.SEGMENTS_LOADED,{segments:null,representation:P,mediaType:J,error:new Error(null,"error loading segments",null)})}function ve(Pe){var P=new o.default;return P.type=Pe.init?j.HTTPRequest.INIT_SEGMENT_TYPE:j.HTTPRequest.MEDIA_SEGMENT_TYPE,P.url=Pe.url,P.range=Pe.range.start+"-"+Pe.range.end,P}function fe(){De=null,ae=null,Ae=null}var Ee=this.context,Ae=(0,R.default)(Ee).getInstance().log,z=(0,y.default)(Ee).getInstance(),ce=void 0,Se=void 0,De=void 0,ae=void 0,me=void 0,Ie=void 0,xe=void 0,de=void 0;return ce={setConfig:Q,initialize:q,loadInitialization:be,loadSegments:ie,reset:fe},O(),ce}Object.defineProperty(u,"__esModule",{value:!0});var E=t(51),d=f(E),_=t(47),y=f(_),T=t(147),m=f(T),b=t(48),A=f(b),C=t(46),R=f(C),N=t(153),M=f(N),H=t(85),Y=f(H),j=t(179),x=t(162),o=f(x),G=t(96),I=f(G);g.__dashjs_factory_name="WebmSegmentBaseLoader",u.default=A.default.getSingletonFactory(g),p.exports=u.default},{147:147,153:153,162:162,179:179,46:46,47:47,48:48,51:51,85:85,96:96}],58:[function(t,p,u){"use strict";function f(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(u,"__esModule",{value:!0});var g=function(){function _(y,T){for(var m=0;m<T.length;m++){var b=T[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,T,m){return T&&_(y.prototype,T),m&&_(y,m),y}}(),E=function(){function _(){f(this,_),this.init()}return g(_,[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.INBAND_EVENT_STREAM="InbandEventStream",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.ROLE_ASARRAY="Role_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight"}}]),_}(),d=new E;u.default=d,p.exports=u.default},{}],59:[function(t,p,u){"use strict";function f(j){return j&&j.__esModule?j:{default:j}}function g(){function j(){pe(),de.on(R.default.QUALITY_CHANGE_REQUESTED,ae,Pe),de.on(R.default.REPRESENTATION_UPDATED,ce,Pe),de.on(R.default.WALLCLOCK_TIME_UPDATED,Se,Pe),de.on(R.default.BUFFER_LEVEL_UPDATED,De,Pe),de.on(R.default.MANIFEST_VALIDITY_CHANGED,me,Pe)}function x(ke){ke.abrController&&(K=ke.abrController),ke.domStorage&&(S=ke.domStorage),ke.metricsModel&&(c=ke.metricsModel),ke.dashMetrics&&(Z=ke.dashMetrics),ke.dashManifestModel&&(W=ke.dashManifestModel),ke.playbackController&&(we=ke.playbackController),ke.timelineConverter&&(U=ke.timelineConverter),ke.manifestModel&&(qe=ke.manifestModel),ke.streamProcessor&&(ye=ke.streamProcessor)}function o(){he=ye.getIndexHandler()}function G(){return ye}function I(){return P}function O(){return J}function q(){return L}function Q(){return ne}function pe(){P=null,J=-1,L=!0,k=[],K=null,we=null,c=null,S=null,U=null,W=null,Z=null}function re(){de.off(R.default.QUALITY_CHANGE_REQUESTED,ae,Pe),de.off(R.default.REPRESENTATION_UPDATED,ce,Pe),de.off(R.default.WALLCLOCK_TIME_UPDATED,Se,Pe),de.off(R.default.BUFFER_LEVEL_UPDATED,De,Pe),de.off(R.default.MANIFEST_VALIDITY_CHANGED,me,Pe),pe()}function le(ke,We,Ye){var Xe=ye.getStreamInfo(),ht=K.getTopQualityIndexFor(Ye,Xe.id),Ct=K.getMinAllowedIndexFor(Ye),Ke=void 0,pt=void 0,dt=null;if(L=!0,de.trigger(R.default.DATA_UPDATE_STARTED,{sender:this}),k=fe(We),P!==null&&P.id==ke.id||Ye===d.default.FRAGMENTED_TEXT?Ke=K.getQualityFor(Ye,Xe):(pt=K.getThroughputHistory().getAverageThroughput(Ye),dt=pt||K.getInitialBitrateFor(Ye,Xe),Ke=K.getQualityForBitrate(ye.getMediaInfo(),dt)),Ct!==void 0&&Ke<Ct&&(Ke=Ct),Ke>ht&&(Ke=ht),ne=ie(Ke),P=ke,Ye!==d.default.VIDEO&&Ye!==d.default.AUDIO&&Ye!==d.default.FRAGMENTED_TEXT)return L=!1,void de.trigger(R.default.DATA_UPDATE_COMPLETED,{sender:this,data:P,currentRepresentation:ne});for(var nt=0;nt<k.length;nt++)he.updateRepresentation(k[nt],!0)}function ee(){var ke=new Date,We=Q(),Ye=1e3*we.getTime();c.addRepresentationSwitch(We.adaptation.type,ke,Ye,We.id)}function be(){var ke=ye.getStreamInfo(),We=ke?ke.manifestInfo:null,Ye=We?We.isDynamic:null,Xe=U.calcSegmentAvailabilityRange(ne,Ye);c.addDVRInfo(ye.getType(),we.getTime(),We,Xe)}function ie(ke){return k[ke]}function Te(ke){return k.indexOf(ke)}function ve(){for(var ke=0,We=k.length;ke<We;ke++){var Ye=k[ke].segmentInfoType;if(k[ke].segmentAvailabilityRange===null||!Y.default.hasInitialization(k[ke])||(Ye===y.default.SEGMENT_BASE||Ye===y.default.BASE_URL)&&!k[ke].segments)return!1}return!0}function fe(ke){return J=W.getIndexForAdaptation(P,ke.period.mpd.manifest,ke.period.index),W.getRepresentationsForAdaptation(ke)}function Ee(ke){for(var We=void 0,Ye=0,Xe=k.length;Ye<Xe;Ye++)We=k[Ye],We.segmentAvailabilityRange=U.calcSegmentAvailabilityRange(We,ke)}function Ae(){k.forEach(function(ke){ke.segmentAvailabilityRange=null})}function z(ke){var We=ke,Ye=function(){if(!q()){L=!0,de.trigger(R.default.DATA_UPDATE_STARTED,{sender:Pe}),Ae();for(var Xe=0;Xe<k.length;Xe++)he.updateRepresentation(k[Xe],!0)}};L=!1,de.trigger(R.default.AST_IN_FUTURE,{delay:We}),setTimeout(Ye,We)}function ce(ke){if(ke.sender.getStreamProcessor()===ye&&q()){var We=ke.representation,Ye=c.getMetricsFor(d.default.STREAM),Xe=c.getMetricsFor(Q().adaptation.type),ht=Z.getCurrentManifestUpdate(Ye),Ct=!1,Ke=0,pt=void 0,dt=void 0,nt=void 0;if(We.adaptation.period.mpd.manifest.type===y.default.DYNAMIC&&!We.adaptation.period.mpd.manifest.ignorePostponeTimePeriod){var Lt=We.segmentAvailabilityRange.end-We.segmentAvailabilityRange.start;Ke=1e3*(we.computeLiveDelay(ne.segmentDuration,ye.getStreamInfo().manifestInfo.DVRWindowSize)-Lt)}if(Ke>0)return be(),z(Ke),dt=new m.default(Ie,"Segments update failed",null),void de.trigger(R.default.DATA_UPDATE_COMPLETED,{sender:this,data:P,currentRepresentation:ne,error:dt});if(ht){for(var Ut=0;Ut<ht.representationInfo.length;Ut++)if(pt=ht.representationInfo[Ut],pt.index===We.index&&pt.mediaType===ye.getType()){Ct=!0;break}Ct||c.addManifestUpdateRepresentationInfo(ht,We.id,We.index,We.adaptation.period.index,ye.getType(),We.presentationTimeOffset,We.startNumber,We.segmentInfoType)}ve()&&(L=!1,K.setPlaybackQuality(ye.getType(),ye.getStreamInfo(),Te(ne)),c.updateManifestUpdateInfo(ht,{latency:ne.segmentAvailabilityRange.end-we.getTime()}),nt=Z.getCurrentRepresentationSwitch(Xe),nt||ee(),de.trigger(R.default.DATA_UPDATE_COMPLETED,{sender:this,data:P,currentRepresentation:ne}))}}function Se(ke){ke.isDynamic&&Ee(ke.isDynamic)}function De(ke){ke.sender.getStreamProcessor()===ye&&(qe.getValue().doNotUpdateDVRWindowOnBufferUpdated||be())}function ae(ke){if(ke.mediaType===ye.getType()&&ye.getStreamInfo().id===ke.streamInfo.id&&ke.oldQuality!==ke.newQuality){ne=ie(ke.newQuality);var We=K.getThroughputHistory().getAverageThroughput(ke.mediaType);isNaN(We)||S.setSavedBitrateSettings(ke.mediaType,We),ee()}}function me(ke){if(ke.newDuration){var We=Q();We&&We.adaptation.period&&(We.adaptation.period.duration=ke.newDuration)}}var Ie=1,xe=this.context,de=(0,A.default)(xe).getInstance(),Pe=void 0,P=void 0,J=void 0,L=void 0,k=void 0,ne=void 0,K=void 0,he=void 0,we=void 0,c=void 0,S=void 0,U=void 0,W=void 0,Z=void 0,ye=void 0,qe=void 0;return Pe={initialize:o,setConfig:x,getData:I,getDataIndex:O,isUpdating:q,updateData:le,getStreamProcessor:G,getCurrentRepresentation:Q,getRepresentationForQuality:ie,reset:re},j(),Pe}Object.defineProperty(u,"__esModule",{value:!0});var E=t(98),d=f(E),_=t(58),y=f(_),T=t(160),m=f(T),b=t(47),A=f(b),C=t(51),R=f(C),N=t(48),M=f(N),H=t(84),Y=f(H);g.__dashjs_factory_name="RepresentationController",u.default=M.default.getClassFactory(g),p.exports=u.default},{160:160,47:47,48:48,51:51,58:58,84:84,98:98}],60:[function(t,p,u){"use strict";function f(be){return be&&be.__esModule?be:{default:be}}function g(be){function ie(se,Be){var e=void 0,i=void 0,n=void 0,r=void 0,h=void 0,w=void 0,B=!1,V=!1;if(!se)throw new Error("adaptation is not defined");if(!Be)throw new Error("type is not defined");if(se.hasOwnProperty("ContentComponent_asArray")&&(r=se.ContentComponent_asArray),h=Be!==d.default.TEXT?new RegExp(Be):new RegExp("(vtt|ttml)"),se.Representation_asArray&&se.Representation_asArray.length&&se.Representation_asArray.length>0&&se.Representation_asArray[0].hasOwnProperty(y.default.CODECS)&&(w=se.Representation_asArray[0].codecs,w.search(d.default.STPP)===0||w.search(d.default.WVTT)===0))return Be===d.default.FRAGMENTED_TEXT;if(r){if(r.length>1)return Be===d.default.MUXED;r[0]&&r[0].contentType===Be&&(B=!0,V=!0)}if(se.hasOwnProperty(y.default.MIME_TYPE)&&(B=h.test(se.mimeType),V=!0),!V)for(e=0,i=se.Representation_asArray&&se.Representation_asArray.length?se.Representation_asArray.length:0;!V&&e<i;)n=se.Representation_asArray[e],n.hasOwnProperty(y.default.MIME_TYPE)&&(B=h.test(n.mimeType),V=!0),e++;return B}function Te(se){return ie(se,d.default.AUDIO)}function ve(se){return ie(se,d.default.VIDEO)}function fe(se){return ie(se,d.default.FRAGMENTED_TEXT)}function Ee(se){return ie(se,d.default.TEXT)}function Ae(se){return ie(se,d.default.MUXED)}function z(se){return ie(se,d.default.IMAGE)}function ce(se){return se==="text/vtt"||se==="application/ttml+xml"}function Se(se){var Be="";return se&&se.hasOwnProperty(y.default.LANG)&&(Be=se.lang.replace(/[^A-Za-z0-9-]/g,"")),Be}function De(se){return se&&se.hasOwnProperty(y.default.VIEWPOINT)?se.Viewpoint:null}function ae(se){return se&&se.hasOwnProperty(y.default.ROLE_ASARRAY)?se.Role_asArray:[]}function me(se){return se&&se.hasOwnProperty(y.default.ACCESSIBILITY_ASARRAY)?se.Accessibility_asArray:[]}function Ie(se){return se&&se.hasOwnProperty(y.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?se.AudioChannelConfiguration_asArray:[]}function xe(se){return ae(se).filter(function(Be){return Be.value===y.default.MAIN})[0]}function de(){return function(se,Be){return se.bandwidth-Be.bandwidth}}function Pe(se){return se&&se.Representation_asArray!==void 0&&se.Representation_asArray!==null&&se.Representation_asArray.sort(de()),se}function P(se,Be,e){var i=Be&&Be.Period_asArray&&Mt(e)&&Be.Period_asArray[e]?Be.Period_asArray[e].AdaptationSet_asArray:[],n=void 0,r=void 0;for(n=0,r=i.length;n<r;n++)if(i[n].hasOwnProperty(y.default.ID)&&i[n].id===se)return i[n];return null}function J(se,Be,e){var i=Be&&Be.Period_asArray&&Mt(e)&&Be.Period_asArray[e]?Be.Period_asArray[e].AdaptationSet_asArray:null;return i&&Mt(se)?i[se]:null}function L(se,Be,e){var i=Be&&Be.Period_asArray&&Mt(e)&&Be.Period_asArray[e]?Be.Period_asArray[e].AdaptationSet_asArray:[],n=i.length;if(se)for(var r=0;r<n;r++){var h=(0,Q.default)(St).getInstance();if(h.areEqual(i[r],se))return r}return-1}function k(se,Be,e){var i=se&&se.Period_asArray&&Mt(Be)&&se.Period_asArray[Be]?se.Period_asArray[Be].AdaptationSet_asArray:[],n=void 0,r=void 0,h=[];for(n=0,r=i.length;n<r;n++)ie(i[n],e)&&h.push(Pe(i[n]));return h}function ne(se,Be,e,i){var n=k(se,Be,e);if(!n||n.length===0)return null;if(n.length>1&&i){for(var r=lt.getCurrentTrackFor(e,i),h=bt.getAllMediaInfoForType(i,e),w=0,B=n.length;w<B;w++)if(r&&lt.isTracksEqual(r,h[w]))return n[w];for(var w=0,B=n.length;w<B;w++)if(xe(n[w]))return n[w]}return n[0]}function K(se,Be,e){if(se&&se.Representation_asArray&&se.Representation_asArray.length>0){var i=Mt(Be)&&Be>=0&&Be<se.Representation_asArray.length?se.Representation_asArray[Be]:se.Representation_asArray[0],n=i.mimeType+';codecs="'+i.codecs+'"';return e&&i.width!==void 0&&(n+=';width="'+i.width+'";height="'+i.height+'"'),n}return null}function he(se){return se&&se.Representation_asArray&&se.Representation_asArray.length>0?se.Representation_asArray[0].mimeType:null}function we(se){return se&&se.hasOwnProperty(y.default.CENC_DEFAULT_KID)?se[y.default.CENC_DEFAULT_KID]:null}function c(se){return se&&se.hasOwnProperty(y.default.CONTENTPROTECTION_ASARRAY)&&se.ContentProtection_asArray.length!==0?se.ContentProtection_asArray:null}function S(se){var Be=!1;return se&&se.hasOwnProperty("type")&&(Be=se.type===y.default.DYNAMIC),Be}function U(se,Be){var e=!1;return se&&se.profiles&&se.profiles.length>0&&(e=se.profiles.indexOf(Be)!==-1),e}function W(se){return U(se,kt)}function Z(se){return se&&se.hasOwnProperty(y.default.MEDIA_PRESENTATION_DURATION)?se.mediaPresentationDuration:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE}function ye(se){return se&&se.bandwidth?se.bandwidth:NaN}function qe(se){var Be=arguments.length<=1||arguments[1]===void 0?0:arguments[1],e=NaN;return se&&se.hasOwnProperty(y.default.MINIMUM_UPDATE_PERIOD)&&(e=se.minimumUpdatePeriod),isNaN(e)?e:Math.max(e-Be,1)}function ke(se){return se&&se.Representation_asArray&&se.Representation_asArray.length?se.Representation_asArray.length:0}function We(se){return se&&se.Representation_asArray&&se.Representation_asArray.length?Pe(se).Representation_asArray.map(function(Be){return{bandwidth:Be.bandwidth,width:Be.width||0,height:Be.height||0,scanType:Be.scanType||null}}):null}function Ye(se){return se&&se.EssentialProperty_asArray&&se.EssentialProperty_asArray.length?se.EssentialProperty_asArray.map(function(Be){return{schemeIdUri:Be.schemeIdUri,value:Be.value}}):null}function Xe(se,Be){return Be&&Be.Representation_asArray&&Be.Representation_asArray.length>0&&Mt(se)?Be.Representation_asArray[se]:null}function ht(se){var Be=[],e=void 0,i=void 0,n=void 0,r=void 0,h=void 0,w=void 0,B=void 0;if(se&&se.period&&Mt(se.period.index)){var V=se.period.mpd.manifest.Period_asArray[se.period.index];V&&V.AdaptationSet_asArray&&Mt(se.index)&&(r=Pe(V.AdaptationSet_asArray[se.index]))}if(r&&r.Representation_asArray)for(w=0;r&&w<r.Representation_asArray.length;w++)h=r.Representation_asArray[w],e=new m.default,e.index=w,e.adaptation=se,h.hasOwnProperty(y.default.ID)&&(e.id=h.id),h.hasOwnProperty(y.default.CODECS)&&(e.codecs=h.codecs),h.hasOwnProperty(y.default.CODEC_PRIVATE_DATA)&&(e.codecPrivateData=h.codecPrivateData),h.hasOwnProperty(y.default.BANDWITH)&&(e.bandwidth=h.bandwidth),h.hasOwnProperty(y.default.WIDTH)&&(e.width=h.width),h.hasOwnProperty(y.default.HEIGHT)&&(e.height=h.height),h.hasOwnProperty(y.default.SCAN_TYPE)&&(e.scanType=h.scanType),h.hasOwnProperty(y.default.MAX_PLAYOUT_RATE)&&(e.maxPlayoutRate=h.maxPlayoutRate),h.hasOwnProperty(y.default.SEGMENT_BASE)?(n=h.SegmentBase,e.segmentInfoType=y.default.SEGMENT_BASE):h.hasOwnProperty(y.default.SEGMENT_LIST)?(n=h.SegmentList,n.hasOwnProperty(y.default.SEGMENT_TIMELINE)?(e.segmentInfoType=y.default.SEGMENT_TIMELINE,B=n.SegmentTimeline.S_asArray[n.SegmentTimeline.S_asArray.length-1],(!B.hasOwnProperty("r")||B.r>=0)&&(e.useCalculatedLiveEdgeTime=!0)):(e.segmentInfoType=y.default.SEGMENT_LIST,e.useCalculatedLiveEdgeTime=!0)):h.hasOwnProperty(y.default.SEGMENT_TEMPLATE)?(n=h.SegmentTemplate,n.hasOwnProperty(y.default.SEGMENT_TIMELINE)?(e.segmentInfoType=y.default.SEGMENT_TIMELINE,B=n.SegmentTimeline.S_asArray[n.SegmentTimeline.S_asArray.length-1],(!B.hasOwnProperty("r")||B.r>=0)&&(e.useCalculatedLiveEdgeTime=!0)):e.segmentInfoType=y.default.SEGMENT_TEMPLATE,n.hasOwnProperty(y.default.INITIALIZATION_MINUS)&&(e.initialization=n.initialization.split("$Bandwidth$").join(h.bandwidth).split("$RepresentationID$").join(h.id))):e.segmentInfoType=y.default.BASE_URL,e.essentialProperties=Ye(h),n&&(n.hasOwnProperty(y.default.INITIALIZATION)?(i=n.Initialization,i.hasOwnProperty(y.default.SOURCE_URL)?e.initialization=i.sourceURL:i.hasOwnProperty(y.default.RANGE)&&(e.range=i.range)):h.hasOwnProperty(y.default.MIME_TYPE)&&ce(h.mimeType)&&(e.range=0),n.hasOwnProperty(y.default.TIMESCALE)&&(e.timescale=n.timescale),n.hasOwnProperty(y.default.DURATION)&&(e.segmentDuration=n.duration/e.timescale),n.hasOwnProperty(y.default.MEDIA)&&(e.media=n.media),n.hasOwnProperty(y.default.START_NUMBER)&&(e.startNumber=n.startNumber),n.hasOwnProperty(y.default.INDEX_RANGE)&&(e.indexRange=n.indexRange),n.hasOwnProperty(y.default.PRESENTATION_TIME_OFFSET)&&(e.presentationTimeOffset=n.presentationTimeOffset/e.timescale)),e.MSETimeOffset=ut.calcMSETimeOffset(e),e.path=[se.period.index,se.index,w],Be.push(e);return Be}function Ct(se){var Be=se&&Mt(se.index)?se.mpd.manifest.Period_asArray[se.index]:null,e=[],i=void 0,n=void 0,r=void 0;if(Be&&Be.AdaptationSet_asArray)for(r=0;r<Be.AdaptationSet_asArray.length;r++)n=Be.AdaptationSet_asArray[r],i=new A.default,n.hasOwnProperty(y.default.ID)&&(i.id=n.id),i.index=r,i.period=se,Ae(n)?i.type=d.default.MUXED:Te(n)?i.type=d.default.AUDIO:ve(n)?i.type=d.default.VIDEO:fe(n)?i.type=d.default.FRAGMENTED_TEXT:z(n)?i.type=d.default.IMAGE:i.type=d.default.TEXT,e.push(i);return e}function Ke(se){var Be=!!se&&S(se.manifest),e=[],i=null,n=null,r=null,h=null,w=void 0,B=void 0;for(B=0,w=se&&se.manifest&&se.manifest.Period_asArray?se.manifest.Period_asArray.length:0;B<w;B++)n=se.manifest.Period_asArray[B],n.hasOwnProperty(y.default.START)?(h=new R.default,h.start=n.start):i!==null&&n.hasOwnProperty(y.default.DURATION)&&r!==null?(h=new R.default,h.start=parseFloat((r.start+r.duration).toFixed(5)),h.duration=n.duration):B!==0||Be||(h=new R.default,h.start=0),r!==null&&isNaN(r.duration)&&(r.duration=parseFloat((h.start-r.start).toFixed(5))),h!==null&&(h.id=pt(n,B)),h!==null&&n.hasOwnProperty(y.default.DURATION)&&(h.duration=n.duration),h!==null&&(h.index=B,h.mpd=se,e.push(h),i=n,r=h),n=null,h=null;return e.length===0||r!==null&&isNaN(r.duration)&&(r.duration=parseFloat((nt(r)-r.start).toFixed(5))),e}function pt(se,Be){if(!se)throw new Error("Period cannot be null or undefined");var e=R.default.DEFAULT_ID+"_"+Be;return se.hasOwnProperty(y.default.ID)&&se.id.length>0&&se.id!=="__proto__"&&(e=se.id),e}function dt(se){var Be=new M.default;return se&&(Be.manifest=se,se.hasOwnProperty(y.default.AVAILABILITY_START_TIME)?Be.availabilityStartTime=new Date(se.availabilityStartTime.getTime()):Be.availabilityStartTime=new Date(se.loadedTime.getTime()),se.hasOwnProperty(y.default.AVAILABILITY_END_TIME)&&(Be.availabilityEndTime=new Date(se.availabilityEndTime.getTime())),se.hasOwnProperty(y.default.MINIMUM_UPDATE_PERIOD)&&(Be.minimumUpdatePeriod=se.minimumUpdatePeriod),se.hasOwnProperty(y.default.MEDIA_PRESENTATION_DURATION)&&(Be.mediaPresentationDuration=se.mediaPresentationDuration),se.hasOwnProperty(d.default.SUGGESTED_PRESENTATION_DELAY)&&(Be.suggestedPresentationDelay=se.suggestedPresentationDelay),se.hasOwnProperty(y.default.TIMESHIFT_BUFFER_DEPTH)&&(Be.timeShiftBufferDepth=se.timeShiftBufferDepth),se.hasOwnProperty(y.default.MAX_SEGMENT_DURATION)&&(Be.maxSegmentDuration=se.maxSegmentDuration)),Be}function nt(se){var Be=S(se.mpd.manifest),e=void 0;if(se.mpd.manifest.mediaPresentationDuration)e=se.mpd.manifest.mediaPresentationDuration;else if(se.duration)e=se.duration;else{if(!Be)throw new Error("Must have @mediaPresentationDuratio on MPD or an explicit @duration on the last period.");e=Number.POSITIVE_INFINITY}return e}function Lt(se){var Be=se&&se.mpd&&se.mpd.manifest?se.mpd.manifest:null,e=Be?Be.Period_asArray:null,i=e&&se&&Mt(se.index)?e[se.index].EventStream_asArray:null,n=[],r=void 0,h=void 0;if(i)for(r=0;r<i.length;r++){var w=new O.default;if(w.period=se,w.timescale=1,!i[r].hasOwnProperty(d.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(w.schemeIdUri=i[r].schemeIdUri,i[r].hasOwnProperty(y.default.TIMESCALE)&&(w.timescale=i[r].timescale),i[r].hasOwnProperty(y.default.VALUE)&&(w.value=i[r].value),h=0;h<i[r].Event_asArray.length;h++){var B=new x.default;B.presentationTime=0,B.eventStream=w,i[r].Event_asArray[h].hasOwnProperty(y.default.PRESENTATION_TIME)&&(B.presentationTime=i[r].Event_asArray[h].presentationTime),i[r].Event_asArray[h].hasOwnProperty(y.default.DURATION)&&(B.duration=i[r].Event_asArray[h].duration),i[r].Event_asArray[h].hasOwnProperty(y.default.ID)&&(B.id=i[r].Event_asArray[h].id),n.push(B)}}return n}function Ut(se,Be){var e=[],i=void 0;if(!se)return e;for(i=0;i<se.length;i++){var n=new O.default;if(n.timescale=1,n.representation=Be,!se[i].hasOwnProperty(d.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");n.schemeIdUri=se[i].schemeIdUri,se[i].hasOwnProperty(y.default.TIMESCALE)&&(n.timescale=se[i].timescale),se[i].hasOwnProperty(y.default.VALUE)&&(n.value=se[i].value),e.push(n)}return e}function gt(se,Be){var e=void 0,i=void 0,n=void 0;return se&&se.Period_asArray&&Be&&Be.period&&Mt(Be.period.index)&&(i=se.Period_asArray[Be.period.index])&&i.AdaptationSet_asArray&&Mt(Be.index)&&(n=i.AdaptationSet_asArray[Be.index])&&(e=n.InbandEventStream_asArray),Ut(e,null)}function Tt(se,Be){var e=void 0,i=void 0,n=void 0,r=void 0;return se&&se.Period_asArray&&Be&&Be.adaptation&&Be.adaptation.period&&Mt(Be.adaptation.period.index)&&(i=se.Period_asArray[Be.adaptation.period.index])&&i.AdaptationSet_asArray&&Mt(Be.adaptation.index)&&(n=i.AdaptationSet_asArray[Be.adaptation.index])&&n.Representation_asArray&&Mt(Be.index)&&(r=n.Representation_asArray[Be.index])&&(e=r.InbandEventStream_asArray),Ut(e,Be)}function st(se){var Be=S(se),e=!!se&&se.hasOwnProperty(y.default.AVAILABILITY_START_TIME),i=se?se.UTCTiming_asArray:null,n=[];return(Be||e)&&i&&i.forEach(function(r){var h=new Y.default;r.hasOwnProperty(d.default.SCHEME_ID_URI)&&(h.schemeIdUri=r.schemeIdUri,r.hasOwnProperty(y.default.VALUE)&&(h.value=r.value.toString(),n.push(h)))}),n}function Je(se){var Be=[],e=se.BaseURL_asArray||[se.baseUri],i=!1;return e.some(function(n){if(n){var r=new G.default,h=n.__text||n;return wt.isRelative(h)&&(i=!0,se.baseUri&&(h=wt.resolve(h,se.baseUri))),r.url=h,n.hasOwnProperty(y.default.SERVICE_LOCATION)&&n.serviceLocation.length?r.serviceLocation=n.serviceLocation:r.serviceLocation=h,n.hasOwnProperty(y.default.DVB_PRIORITY)&&(r.dvb_priority=n[y.default.DVB_PRIORITY]),n.hasOwnProperty(y.default.DVB_WEIGHT)&&(r.dvb_weight=n[y.default.DVB_WEIGHT]),Be.push(r),i}}),Be}function et(se){if(se&&se.hasOwnProperty(d.default.LOCATION))return se.Location=se.Location_asArray[0],se.Location}be=be||{};var St=this.context,wt=(0,re.default)(St).getInstance(),lt=be.mediaController,ut=be.timelineConverter,bt=be.adapter,kt="urn:dvb:dash:profile:dvb-dash:2014",Mt=Number.isInteger||function(se){return typeof se=="number"&&isFinite(se)&&Math.floor(se)===se};return{getIsTypeOf:ie,getIsAudio:Te,getIsVideo:ve,getIsText:Ee,getIsMuxed:Ae,getIsTextTrack:ce,getIsFragmentedText:fe,getIsImage:z,getIsMain:xe,getLanguageForAdaptation:Se,getViewpointForAdaptation:De,getRolesForAdaptation:ae,getAccessibilityForAdaptation:me,getAudioChannelConfigurationForAdaptation:Ie,getAdaptationForIndex:J,getIndexForAdaptation:L,getAdaptationForId:P,getAdaptationsForType:k,getAdaptationForType:ne,getCodec:K,getMimeType:he,getKID:we,getContentProtectionData:c,getIsDynamic:S,getIsDVB:W,getDuration:Z,getBandwidth:ye,getManifestUpdatePeriod:qe,getRepresentationCount:ke,getBitrateListForAdaptation:We,getRepresentationFor:Xe,getRepresentationsForAdaptation:ht,getAdaptationsForPeriod:Ct,getRegularPeriods:Ke,getMpd:dt,getEventsForPeriod:Lt,getEventStreamForAdaptationSet:gt,getEventStreamForRepresentation:Tt,getUTCTimingSources:st,getBaseURLsFromElement:Je,getRepresentationSortFunction:de,getLocation:et}}Object.defineProperty(u,"__esModule",{value:!0});var E=t(98),d=f(E),_=t(58),y=f(_),T=t(84),m=f(T),b=t(78),A=f(b),C=t(83),R=f(C),N=t(82),M=f(N),H=t(86),Y=f(H),j=t(80),x=f(j),o=t(79),G=f(o),I=t(81),O=f(I),q=t(152),Q=f(q),pe=t(155),re=f(pe),le=t(48),ee=f(le);g.__dashjs_factory_name="DashManifestModel",u.default=ee.default.getSingletonFactory(g),p.exports=u.default},{152:152,155:155,48:48,58:58,78:78,79:79,80:80,81:81,82:82,83:83,84:84,86:86,98:98}],61:[function(t,p,u){"use strict";function f(q){return q&&q.__esModule?q:{default:q}}function g(q){function Q(){fe=[new M.default,new Y.default,new x.default,new R.default],Ee=new A.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:fe}),Ae=new m.default([new G.default,new O.default])}function pe(){if(!Te||!Te.hasOwnProperty("manifestError"))throw new Error("Missing config parameter(s)")}function re(){return fe}function le(){return Ae}function ee(z){var ce=void 0;pe();try{var Se=window.performance.now();if(!(ce=Ee.xml_str2json(z)))throw new Error("parser error");var De=window.performance.now();Ae.run(ce);var ae=window.performance.now();ie("Parsing complete: ( xml2json: "+(De-Se).toPrecision(3)+"ms, objectiron: "+(ae-De).toPrecision(3)+"ms, total: "+((ae-Se)/1e3).toPrecision(3)+"s)")}catch(me){return Te.manifestError("parsing the manifest failed","parse",z,me),null}return ce}q=q||{};var be=this.context,ie=(0,y.default)(be).getInstance().log,Te=q.errorHandler,ve=void 0,fe=void 0,Ee=void 0,Ae=void 0;return ve={parse:ee,getMatchers:re,getIron:le},Q(),ve}Object.defineProperty(u,"__esModule",{value:!0});var E=t(48),d=f(E),_=t(46),y=f(_),T=t(3),m=f(T),b=t(4),A=f(b),C=t(70),R=f(C),N=t(68),M=f(N),H=t(67),Y=f(H),j=t(69),x=f(j),o=t(64),G=f(o),I=t(65),O=f(I);g.__dashjs_factory_name="DashParser",u.default=d.default.getClassFactory(g),p.exports=u.default},{3:3,4:4,46:46,48:48,64:64,65:65,67:67,68:68,69:69,70:70}],62:[function(t,p,u){"use strict";function f(d,_){if(!(d instanceof _))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(u,"__esModule",{value:!0});var g=function(){function d(_,y){for(var T=0;T<y.length;T++){var m=y[T];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,m.key,m)}}return function(_,y,T){return y&&d(_.prototype,y),T&&d(_,T),_}}(),E=function(){function d(_,y){f(this,d);var T=function(m){return m&&m.length&&m.charAt(0)===m.charAt(0).toUpperCase()};this._name=_,this._merge=y!==void 0?y:T(_)}return g(d,[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}]),d}();u.default=E,p.exports=u.default},{}],63:[function(t,p,u){"use strict";function f(T){return T&&T.__esModule?T:{default:T}}function g(T,m){if(!(T instanceof m))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(u,"__esModule",{value:!0});var E=function(){function T(m,b){for(var A=0;A<b.length;A++){var C=b[A];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(m,C.key,C)}}return function(m,b,A){return b&&T(m.prototype,b),A&&T(m,A),m}}(),d=t(62),_=f(d),y=function(){function T(m,b,A,C,R){var N=this;g(this,T),this._name=m||"",this._properties=[],this._children=A||[],this._isRoot=C||!1,this._isArray=R||!0,Array.isArray(b)&&b.forEach(function(M){N._properties.push(new _.default(M))})}return E(T,[{key:"name",get:function(){return this._name}},{key:"isRoot",get:function(){return this._isRoot}},{key:"isArray",get:function(){return this._isArray}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}]),T}();u.default=y,p.exports=u.default},{62:62}],64:[function(t,p,u){"use strict";function f(A){return A&&A.__esModule?A:{default:A}}function g(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function")}function E(A,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);A.prototype=Object.create(C&&C.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(A,C):A.__proto__=C)}Object.defineProperty(u,"__esModule",{value:!0});var d=function(A,C,R){for(var N=!0;N;){var M=A,H=C,Y=R;N=!1,M===null&&(M=Function.prototype);var j=Object.getOwnPropertyDescriptor(M,H);if(j!==void 0){if("value"in j)return j.value;var x=j.get;return x===void 0?void 0:x.call(Y)}var o=Object.getPrototypeOf(M);if(o===null)return;A=o,C=H,R=Y,N=!0,j=o=void 0}},_=t(63),y=f(_),T=t(58),m=f(T),b=function(A){function C(){g(this,C);var R=[m.default.PROFILES,m.default.WIDTH,m.default.HEIGHT,m.default.SAR,m.default.FRAMERATE,m.default.AUDIO_SAMPLING_RATE,m.default.MIME_TYPE,m.default.SEGMENT_PROFILES,m.default.CODECS,m.default.MAXIMUM_SAP_PERIOD,m.default.START_WITH_SAP,m.default.MAX_PLAYOUT_RATE,m.default.CODING_DEPENDENCY,m.default.SCAN_TYPE,m.default.FRAME_PACKING,m.default.AUDIO_CHANNEL_CONFIGURATION,m.default.CONTENT_PROTECTION,m.default.ESSENTIAL_PROPERTY,m.default.SUPPLEMENTAL_PROPERTY,m.default.INBAND_EVENT_STREAM];d(Object.getPrototypeOf(C.prototype),"constructor",this).call(this,m.default.ADAPTATION_SET,R,[new y.default(m.default.REPRESENTATION,R,[new y.default(m.default.SUB_REPRESENTATION,R)])])}return E(C,A),C}(y.default);u.default=b,p.exports=u.default},{58:58,63:63}],65:[function(t,p,u){"use strict";function f(A){return A&&A.__esModule?A:{default:A}}function g(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function")}function E(A,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);A.prototype=Object.create(C&&C.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(A,C):A.__proto__=C)}Object.defineProperty(u,"__esModule",{value:!0});var d=function(A,C,R){for(var N=!0;N;){var M=A,H=C,Y=R;N=!1,M===null&&(M=Function.prototype);var j=Object.getOwnPropertyDescriptor(M,H);if(j!==void 0){if("value"in j)return j.value;var x=j.get;return x===void 0?void 0:x.call(Y)}var o=Object.getPrototypeOf(M);if(o===null)return;A=o,C=H,R=Y,N=!0,j=o=void 0}},_=t(63),y=f(_),T=t(58),m=f(T),b=function(A){function C(){g(this,C);var R=[m.default.SEGMENT_BASE,m.default.SEGMENT_TEMPLATE,m.default.SEGMENT_LIST];d(Object.getPrototypeOf(C.prototype),"constructor",this).call(this,m.default.PERIOD,R,[new y.default(m.default.ADAPTATION_SET,R,[new y.default(m.default.REPRESENTATION,R)])])}return E(C,A),C}(y.default);u.default=b,p.exports=u.default},{58:58,63:63}],66:[function(t,p,u){"use strict";function f(d,_){if(!(d instanceof _))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(u,"__esModule",{value:!0});var g=function(){function d(_,y){for(var T=0;T<y.length;T++){var m=y[T];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,m.key,m)}}return function(_,y,T){return y&&d(_.prototype,y),T&&d(_,T),_}}(),E=function(){function d(_,y){f(this,d),this._test=_,this._converter=y}return g(d,[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}]),d}();u.default=E,p.exports=u.default},{}],67:[function(t,p,u){"use strict";function f(R){return R&&R.__esModule?R:{default:R}}function g(R,N){if(!(R instanceof N))throw new TypeError("Cannot call a class as a function")}function E(R,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);R.prototype=Object.create(N&&N.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(R,N):R.__proto__=N)}Object.defineProperty(u,"__esModule",{value:!0});var d=function(R,N,M){for(var H=!0;H;){var Y=R,j=N,x=M;H=!1,Y===null&&(Y=Function.prototype);var o=Object.getOwnPropertyDescriptor(Y,j);if(o!==void 0){if("value"in o)return o.value;var G=o.get;return G===void 0?void 0:G.call(x)}var I=Object.getPrototypeOf(Y);if(I===null)return;R=I,N=j,M=x,H=!0,o=I=void 0}},_=t(66),y=f(_),T=60,m=60,b=1e3,A=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/,C=function(R){function N(){g(this,N),d(Object.getPrototypeOf(N.prototype),"constructor",this).call(this,function(M){return A.test(M.value)},function(M){var H=A.exec(M),Y=void 0;if(Y=Date.UTC(parseInt(H[1],10),parseInt(H[2],10)-1,parseInt(H[3],10),parseInt(H[4],10),parseInt(H[5],10),H[6]&&parseInt(H[6],10)||0,H[7]&&parseFloat(H[7])*b||0),H[9]&&H[10]){var j=parseInt(H[9],10)*m+parseInt(H[10],10);Y+=(H[8]==="+"?-1:1)*j*T*b}return new Date(Y)})}return E(N,R),N}(y.default);u.default=C,p.exports=u.default},{66:66}],68:[function(t,p,u){"use strict";function f(x){return x&&x.__esModule?x:{default:x}}function g(x,o){if(!(x instanceof o))throw new TypeError("Cannot call a class as a function")}function E(x,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);x.prototype=Object.create(o&&o.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(x,o):x.__proto__=o)}Object.defineProperty(u,"__esModule",{value:!0});var d=function(x,o,G){for(var I=!0;I;){var O=x,q=o,Q=G;I=!1,O===null&&(O=Function.prototype);var pe=Object.getOwnPropertyDescriptor(O,q);if(pe!==void 0){if("value"in pe)return pe.value;var re=pe.get;return re===void 0?void 0:re.call(Q)}var le=Object.getPrototypeOf(O);if(le===null)return;x=le,o=q,G=Q,I=!0,pe=le=void 0}},_=t(66),y=f(_),T=t(98),m=f(T),b=t(58),A=f(b),C=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,R=31536e3,N=2592e3,M=86400,H=3600,Y=60,j=function(x){function o(){g(this,o),d(Object.getPrototypeOf(o.prototype),"constructor",this).call(this,function(G){for(var I=[A.default.MIN_BUFFER_TIME,A.default.MEDIA_PRESENTATION_DURATION,A.default.MINIMUM_UPDATE_PERIOD,A.default.TIMESHIFT_BUFFER_DEPTH,A.default.MAX_SEGMENT_DURATION,A.default.MAX_SUBSEGMENT_DURATION,m.default.SUGGESTED_PRESENTATION_DELAY,A.default.START,m.default.START_TIME,A.default.DURATION],O=I.length,q=0;q<O;q++)if(G.nodeName===I[q])return C.test(G.value);return!1},function(G){var I=C.exec(G),O=parseFloat(I[2]||0)*R+parseFloat(I[4]||0)*N+parseFloat(I[6]||0)*M+parseFloat(I[8]||0)*H+parseFloat(I[10]||0)*Y+parseFloat(I[12]||0);return I[1]!==void 0&&(O=-O),O})}return E(o,x),o}(y.default);u.default=j,p.exports=u.default},{58:58,66:66,98:98}],69:[function(t,p,u){"use strict";function f(b){return b&&b.__esModule?b:{default:b}}function g(b,A){if(!(b instanceof A))throw new TypeError("Cannot call a class as a function")}function E(b,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);b.prototype=Object.create(A&&A.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(b,A):b.__proto__=A)}Object.defineProperty(u,"__esModule",{value:!0});var d=function(b,A,C){for(var R=!0;R;){var N=b,M=A,H=C;R=!1,N===null&&(N=Function.prototype);var Y=Object.getOwnPropertyDescriptor(N,M);if(Y!==void 0){if("value"in Y)return Y.value;var j=Y.get;return j===void 0?void 0:j.call(H)}var x=Object.getPrototypeOf(N);if(x===null)return;b=x,A=M,C=H,R=!0,Y=x=void 0}},_=t(66),y=f(_),T=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,m=function(b){function A(){g(this,A),d(Object.getPrototypeOf(A.prototype),"constructor",this).call(this,function(C){return T.test(C.value)},function(C){return parseFloat(C)})}return E(A,b),A}(y.default);u.default=m,p.exports=u.default},{66:66}],70:[function(t,p,u){"use strict";function f(C){return C&&C.__esModule?C:{default:C}}function g(C,R,N){return R in C?Object.defineProperty(C,R,{value:N,enumerable:!0,configurable:!0,writable:!0}):C[R]=N,C}function E(C,R){if(!(C instanceof R))throw new TypeError("Cannot call a class as a function")}function d(C,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);C.prototype=Object.create(R&&R.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(C,R):C.__proto__=R)}Object.defineProperty(u,"__esModule",{value:!0});var _=function(C,R,N){for(var M=!0;M;){var H=C,Y=R,j=N;M=!1,H===null&&(H=Function.prototype);var x=Object.getOwnPropertyDescriptor(H,Y);if(x!==void 0){if("value"in x)return x.value;var o=x.get;return o===void 0?void 0:o.call(j)}var G=Object.getPrototypeOf(H);if(G===null)return;C=G,R=Y,N=j,M=!0,x=G=void 0}},y=t(66),T=f(y),m=t(58),b=f(m),A=function(C){function R(){E(this,R),_(Object.getPrototypeOf(R.prototype),"constructor",this).call(this,function(N,M){var H,Y=(H={},g(H,b.default.MPD,[b.default.ID,b.default.PROFILES]),g(H,b.default.PERIOD,[b.default.ID]),g(H,b.default.BASE_URL,[b.default.SERVICE_LOCATION,b.default.BYTE_RANGE]),g(H,b.default.SEGMENT_BASE,[b.default.INDEX_RANGE]),g(H,b.default.INITIALIZATION,[b.default.RANGE]),g(H,b.default.REPRESENTATION_INDEX,[b.default.RANGE]),g(H,b.default.SEGMENT_LIST,[b.default.INDEX_RANGE]),g(H,b.default.BITSTREAM_SWITCHING,[b.default.RANGE]),g(H,b.default.SEGMENT_URL,[b.default.MEDIA_RANGE,b.default.INDEX_RANGE]),g(H,b.default.SEGMENT_TEMPLATE,[b.default.INDEX_RANGE,b.default.MEDIA,b.default.INDEX,b.default.INITIALIZATION_MINUS,b.default.BITSTREAM_SWITCHING_MINUS]),g(H,b.default.ASSET_IDENTIFIER,[b.default.VALUE,b.default.ID]),g(H,b.default.EVENT_STREAM,[b.default.VALUE]),g(H,b.default.ADAPTATION_SET,[b.default.PROFILES,b.default.MIME_TYPE,b.default.SEGMENT_PROFILES,b.default.CODECS,b.default.CONTENT_TYPE]),g(H,b.default.FRAME_PACKING,[b.default.VALUE,b.default.ID]),g(H,b.default.AUDIO_CHANNEL_CONFIGURATION,[b.default.VALUE,b.default.ID]),g(H,b.default.CONTENT_PROTECTION,[b.default.VALUE,b.default.ID]),g(H,b.default.ESSENTIAL_PROPERTY,[b.default.VALUE,b.default.ID]),g(H,b.default.SUPPLEMENTAL_PROPERTY,[b.default.VALUE,b.default.ID]),g(H,b.default.INBAND_EVENT_STREAM,[b.default.VALUE,b.default.ID]),g(H,b.default.ACCESSIBILITY,[b.default.VALUE,b.default.ID]),g(H,b.default.ROLE,[b.default.VALUE,b.default.ID]),g(H,b.default.RATING,[b.default.VALUE,b.default.ID]),g(H,b.default.VIEWPOINT,[b.default.VALUE,b.default.ID]),g(H,b.default.CONTENT_COMPONENT,[b.default.CONTENT_TYPE]),g(H,b.default.REPRESENTATION,[b.default.ID,b.default.DEPENDENCY_ID,b.default.MEDIA_STREAM_STRUCTURE_ID]),g(H,b.default.SUBSET,[b.default.ID]),g(H,b.default.METRICS,[b.default.METRICS_MINUS]),g(H,b.default.REPORTING,[b.default.VALUE,b.default.ID]),H);if(Y.hasOwnProperty(M)){var j=Y[M];return j!==void 0&&j.indexOf(N.name)>=0}return!1},function(N){return String(N)})}return d(R,C),R}(T.default);u.default=A,p.exports=u.default},{58:58,66:66}],71:[function(t,p,u){"use strict";function f(_){return _&&_.__esModule?_:{default:_}}function g(){function _(b){b&&b.boxParser&&(m=b.boxParser)}function y(b){if(!m)throw new Error("boxParser is undefined");if(!b)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var A=m.parse(b),C=A.getBoxes("moof"),R=A.getBoxes("mfhd"),N=void 0,M=void 0,H=void 0,Y=void 0,j=void 0,x=void 0,o=void 0,G=void 0,I=void 0,O=void 0,q=void 0,Q=void 0,pe=void 0,re=void 0,le=void 0,ee=void 0,be=void 0;ee=A.getBoxes("moof").length,le=R[R.length-1].sequence_number,H=0,x=[];var ie=-1,Te=-1;for(q=0;q<C.length;q++){var ve=C[q],fe=ve.getChildBoxes("traf");for(I=0;I<fe.length;I++){var Ee=fe[I],Ae=Ee.getChildBox("tfhd"),z=Ee.getChildBox("tfdt");j=z.baseMediaDecodeTime;var ce=Ee.getChildBoxes("trun"),Se=Ee.getChildBoxes("subs");for(O=0;O<ce.length;O++){var De=ce[O];for(H=De.sample_count,re=(Ae.base_data_offset||0)+(De.data_offset||0),G=0;G<H;G++){o=De.samples[G],N=o.sample_duration!==void 0?o.sample_duration:Ae.default_sample_duration,Y=o.sample_size!==void 0?o.sample_size:Ae.default_sample_size,M=o.sample_composition_time_offset!==void 0?o.sample_composition_time_offset:0;var ae={dts:j,cts:j+M,duration:N,offset:ve.offset+re,size:Y,subSizes:[Y]};if(Se)for(Q=0;Q<Se.length;Q++){var me=Se[Q];if(ie<me.entry_count&&G>Te&&(ie++,Te+=me.entries[ie].sample_delta),G==Te){ae.subSizes=[];var Ie=me.entries[ie];for(pe=0;pe<Ie.subsample_count;pe++)ae.subSizes.push(Ie.subsamples[pe].subsample_size)}}x.push(ae),re+=Y,j+=N}}be=j-z.baseMediaDecodeTime}}return{sampleList:x,lastSequenceNumber:le,totalDuration:be,numSequences:ee}}function T(b){if(!m)throw new Error("boxParser is undefined");var A=m.parse(b),C=A?A.getBox("mdhd"):void 0;return C?C.timescale:NaN}var m=void 0;return{getSamplesInfo:y,getMediaTimescaleFromMoov:T,setConfig:_}}Object.defineProperty(u,"__esModule",{value:!0});var E=t(48),d=f(E);g.__dashjs_factory_name="FragmentedTextBoxParser",u.default=d.default.getSingletonFactory(g),p.exports=u.default},{48:48}],72:[function(t,p,u){"use strict";function f(T){return T&&T.__esModule?T:{default:T}}function g(T,m){function b(C,R,N,M){var H=C.adaptation.period.mpd.manifest.Period_asArray[C.adaptation.period.index].AdaptationSet_asArray[C.adaptation.index].Representation_asArray[C.index].SegmentList,Y=H.SegmentURL_asArray.length,j=[],x=void 0,o=void 0,G=void 0,I=void 0,O=void 0,q=void 0,Q=void 0;for(Q=C.startNumber,I=(0,_.decideSegmentListRangeForTemplate)(A,m,C,R,N,M),O=Math.max(I.start,0),q=Math.min(I.end,H.SegmentURL_asArray.length-1),x=O;x<=q;x++)G=H.SegmentURL_asArray[x],o=(0,_.getIndexBasedSegment)(A,m,C,x),o.replacementTime=(Q+x-1)*C.segmentDuration,o.media=G.media?G.media:"",o.mediaRange=G.mediaRange,o.index=G.index,o.indexRange=G.indexRange,j.push(o),o=null;return C.availableSegmentsNumber=Y,j}T=T||{};var A=T.timelineConverter;return{getSegments:b}}Object.defineProperty(u,"__esModule",{value:!0});var E=t(48),d=f(E),_=t(74);g.__dashjs_factory_name="ListSegmentsGetter";var y=d.default.getClassFactory(g);u.default=y,p.exports=u.default},{48:48,74:74}],73:[function(t,p,u){"use strict";function f(M){return M&&M.__esModule?M:{default:M}}function g(M,H){function Y(){I=(0,m.default)(o).create(M,H),O=(0,A.default)(o).create(M,H),q=(0,R.default)(o).create(M,H)}function j(Q,pe,re,le,ee){var be=void 0,ie=Q.segmentInfoType;ie!==d.default.SEGMENT_BASE&&ie!==d.default.BASE_URL&&x(Q,re)?(ie===d.default.SEGMENT_TIMELINE?be=I.getSegments(Q,pe,re,ee):ie===d.default.SEGMENT_TEMPLATE?be=O.getSegments(Q,pe,re,ee):ie===d.default.SEGMENT_LIST&&(be=q.getSegments(Q,pe,re,ee)),le&&le(Q,be)):be=Q.segments}function x(Q,pe){var re=Q.segments,le=!1,ee=void 0,be=void 0;return re&&re.length!==0?(be=re[0].availabilityIdx,ee=re[re.length-1].availabilityIdx,le=pe<be||pe>ee):le=!0,le}var o=this.context,G=void 0,I=void 0,O=void 0,q=void 0;return G={getSegments:j},Y(),G}Object.defineProperty(u,"__esModule",{value:!0});var E=t(58),d=f(E),_=t(48),y=f(_),T=t(77),m=f(T),b=t(75),A=f(b),C=t(72),R=f(C);g.__dashjs_factory_name="SegmentsGetter";var N=y.default.getClassFactory(g);u.default=N,p.exports=u.default},{48:48,58:58,72:72,75:75,77:77}],74:[function(t,p,u){"use strict";function f(N){return N&&N.__esModule?N:{default:N}}function g(N,M){for(;N.length<M;)N="0"+N;return N}function E(N,M){return N.representation.startNumber+M}function d(N){return N&&N.split("$$").join("$")}function _(N,M){if(!M||!N||N.indexOf("$RepresentationID$")===-1)return N;var H=M.toString();return N.split("$RepresentationID$").join(H)}function y(N,M,H){var Y="%0",j=void 0,x=void 0,o=void 0,G=void 0,I=void 0,O=void 0,q=M.length,Q=Y.length;if(!N)return N;for(;;){if((j=N.indexOf("$"+M))<0||(x=N.indexOf("$",j+q))<0)return N;if((o=N.indexOf(Y,j+q))>j&&o<x)switch(G=N.charAt(x-1),I=parseInt(N.substring(o+Q,x-1),10),G){case"d":case"i":case"u":O=g(H.toString(),I);break;case"x":O=g(H.toString(16),I);break;case"X":O=g(H.toString(16),I).toUpperCase();break;case"o":O=g(H.toString(8),I);break;default:return N}else O=H;N=N.substring(0,j)+O+N.substring(x+1)}}function T(N,M,H,Y){var j=void 0,x=void 0,o=void 0,G=void 0;return x=H.segmentDuration,isNaN(x)&&(x=H.adaptation.period.duration),o=parseFloat((H.adaptation.period.start+Y*x).toFixed(5)),G=parseFloat((o+x).toFixed(5)),j=new R.default,j.representation=H,j.duration=x,j.presentationStartTime=o,j.mediaStartTime=N.calcMediaTimeFromPresentationTime(j.presentationStartTime,H),j.availabilityStartTime=N.calcAvailabilityStartTimeFromPresentationTime(j.presentationStartTime,H.adaptation.period.mpd,M),j.availabilityEndTime=N.calcAvailabilityEndTimeFromPresentationTime(G,H.adaptation.period.mpd,M),j.wallStartTime=N.calcWallTimeForSegment(j,M),j.replacementNumber=E(j,Y),j.availabilityIdx=Y,j}function m(N,M,H,Y,j,x,o,G,I,O){var q=Y/x,Q=Math.min(j/x,H.adaptation.period.mpd.maxSegmentDuration),pe=void 0,re=void 0,le=void 0;return pe=N.calcPresentationTimeFromMediaTime(q,H),re=pe+Q,le=new R.default,le.representation=H,le.duration=Q,le.mediaStartTime=q,le.presentationStartTime=pe,le.availabilityStartTime=H.adaptation.period.mpd.manifest.loadedTime,le.availabilityEndTime=N.calcAvailabilityEndTimeFromPresentationTime(re,H.adaptation.period.mpd,M),le.wallStartTime=N.calcWallTimeForSegment(le,M),le.replacementTime=O||Y,le.replacementNumber=E(le,I),o=y(o,"Number",le.replacementNumber),o=y(o,"Time",le.replacementTime),le.media=o,le.mediaRange=G,le.availabilityIdx=I,le}function b(N,M){if(!M||!M.segments)return null;var H=M.segments.length,Y=void 0,j=void 0;if(N<H&&(Y=M.segments[N])&&Y.availabilityIdx===N)return Y;for(j=0;j<H;j++)if((Y=M.segments[j])&&Y.availabilityIdx===N)return Y;return null}function A(N,M,H,Y,j,x){var o=H.segmentDuration,G=H.adaptation.period.mpd.manifest.minBufferTime,I=H.segmentAvailabilityRange,O={start:N.calcPeriodRelativeTimeFromMpdRelativeTime(H,I.start),end:N.calcPeriodRelativeTimeFromMpdRelativeTime(H,I.end)},q=H.segments,Q=2*o,pe=x||Math.max(2*G,10*o),re=NaN,le=null,ee=void 0,be=void 0;return O.start=Math.max(O.start,0),M&&!N.isTimeSyncCompleted()?(ee=Math.floor(O.start/o),be=Math.floor(O.end/o),{start:ee,end:be}):(q&&q.length>0?(le=b(j,H),re=le?N.calcPeriodRelativeTimeFromMpdRelativeTime(H,le.presentationStartTime):j>0?j*o:N.calcPeriodRelativeTimeFromMpdRelativeTime(H,Y)):re=j>0?j*o:M?O.end:O.start,ee=Math.floor(Math.max(re-Q,O.start)/o),be=Math.floor(Math.min(ee+pe/o,O.end/o)),{start:ee,end:be})}Object.defineProperty(u,"__esModule",{value:!0}),u.unescapeDollarsInTemplate=d,u.replaceIDForTemplate=_,u.replaceTokenForTemplate=y,u.getIndexBasedSegment=T,u.getTimeBasedSegment=m,u.getSegmentByIndex=b,u.decideSegmentListRangeForTemplate=A;var C=t(85),R=f(C)},{85:85}],75:[function(t,p,u){"use strict";function f(T){return T&&T.__esModule?T:{default:T}}function g(T,m){function b(C,R,N,M){var H=C.adaptation.period.mpd.manifest.Period_asArray[C.adaptation.period.index].AdaptationSet_asArray[C.adaptation.index].Representation_asArray[C.index].SegmentTemplate,Y=C.segmentDuration,j=C.segmentAvailabilityRange,x=[],o=null,G=null,I=void 0,O=void 0,q=void 0,Q=void 0,pe=void 0;for(pe=C.startNumber,I=isNaN(Y)&&!m?{start:pe,end:pe}:(0,_.decideSegmentListRangeForTemplate)(A,m,C,R,N,M),q=I.start,Q=I.end,O=q;O<=Q;O++)G=(0,_.getIndexBasedSegment)(A,m,C,O),G.replacementTime=(pe+O-1)*C.segmentDuration,o=H.media,o=(0,_.replaceTokenForTemplate)(o,"Number",G.replacementNumber),o=(0,_.replaceTokenForTemplate)(o,"Time",G.replacementTime),G.media=o,x.push(G),G=null;return isNaN(Y)?C.availableSegmentsNumber=1:C.availableSegmentsNumber=Math.ceil((j.end-j.start)/Y),x}var A=T.timelineConverter;return{getSegments:b}}Object.defineProperty(u,"__esModule",{value:!0});var E=t(48),d=f(E),_=t(74);g.__dashjs_factory_name="TemplateSegmentsGetter";var y=d.default.getClassFactory(g);u.default=y,p.exports=u.default},{48:48,74:74}],76:[function(t,p,u){"use strict";function f(b){return b&&b.__esModule?b:{default:b}}function g(){function b(){le(),ie.on(y.default.TIME_SYNCHRONIZATION_COMPLETED,pe,this)}function A(){return ve}function C(Ee){ve=Ee}function R(){return Te}function N(Ee){Te=Ee}function M(){return fe}function H(Ee){fe=Ee}function Y(Ee,Ae,z,ce){return ce?z&&Ae.timeShiftBufferDepth!=Number.POSITIVE_INFINITY?new Date(Ae.availabilityStartTime.getTime()+1e3*(Ee+Ae.timeShiftBufferDepth)):Ae.availabilityEndTime:z?new Date(Ae.availabilityStartTime.getTime()+1e3*(Ee-Te)):Ae.availabilityStartTime}function j(Ee,Ae,z){return Y.call(this,Ee,Ae,z)}function x(Ee,Ae,z){return Y.call(this,Ee,Ae,z,!0)}function o(Ee,Ae){return(Ee.getTime()-Ae.mpd.availabilityStartTime.getTime()+1e3*Te)/1e3}function G(Ee,Ae){return Ee+(Ae.adaptation.period.start-Ae.presentationTimeOffset)}function I(Ee,Ae){return Ee-Ae.adaptation.period.start+Ae.presentationTimeOffset}function O(Ee,Ae){var z=void 0,ce=void 0,Se=void 0;return Ae&&(z=Ee.representation.adaptation.period.mpd.suggestedPresentationDelay,ce=Ee.presentationStartTime+z,Se=new Date(Ee.availabilityStartTime.getTime()+1e3*ce)),Se}function q(Ee,Ae){var z=Ee.adaptation.period,ce={start:z.start,end:z.start+z.duration};if(!Ae)return ce;if(!ve&&Ee.segmentAvailabilityRange)return Ee.segmentAvailabilityRange;var Se=Ee.segmentDuration||(Ee.segments&&Ee.segments.length?Ee.segments[Ee.segments.length-1].duration:0),De=o(new Date,z),ae=z.start+z.duration;return ce.start=Math.max(De-z.mpd.timeShiftBufferDepth,z.start),ce.end=De>=ae&&De-Se<ae?ae-Se:De-Se,ce}function Q(Ee,Ae){return Ae-Ee.adaptation.period.start}function pe(Ee){ve||Ee.offset!==void 0&&(N(Ee.offset/1e3),ve=!0)}function re(Ee){var Ae=Ee.presentationTimeOffset;return Ee.adaptation.period.start-Ae}function le(){Te=0,ve=!1,fe=NaN}function ee(){ie.off(y.default.TIME_SYNCHRONIZATION_COMPLETED,pe,this),le()}var be=this.context,ie=(0,d.default)(be).getInstance(),Te=void 0,ve=void 0,fe=void 0;return{initialize:b,isTimeSyncCompleted:A,setTimeSyncCompleted:C,getClientTimeOffset:R,setClientTimeOffset:N,getExpectedLiveEdge:M,setExpectedLiveEdge:H,calcAvailabilityStartTimeFromPresentationTime:j,calcAvailabilityEndTimeFromPresentationTime:x,calcPresentationTimeFromWallTime:o,calcPresentationTimeFromMediaTime:G,calcPeriodRelativeTimeFromMpdRelativeTime:Q,calcMediaTimeFromPresentationTime:I,calcSegmentAvailabilityRange:q,calcWallTimeForSegment:O,calcMSETimeOffset:re,reset:ee}}Object.defineProperty(u,"__esModule",{value:!0});var E=t(47),d=f(E),_=t(51),y=f(_),T=t(48),m=f(T);g.__dashjs_factory_name="TimelineConverter",u.default=m.default.getSingletonFactory(g),p.exports=u.default},{47:47,48:48,51:51}],77:[function(t,p,u){"use strict";function f(T){return T&&T.__esModule?T:{default:T}}function g(T,m){function b(){if(!(C&&C.hasOwnProperty("calcMediaTimeFromPresentationTime")&&C.hasOwnProperty("calcSegmentAvailabilityRange")&&C.hasOwnProperty("calcMediaTimeFromPresentationTime")))throw new Error("Missing config parameter(s)")}function A(R,N,M,H){if(b(),!R)throw new Error("no representation");N===void 0&&(N=null);var Y=R.adaptation.period.mpd.manifest.Period_asArray[R.adaptation.period.index].AdaptationSet_asArray[R.adaptation.index].Representation_asArray[R.index].SegmentTemplate||R.adaptation.period.mpd.manifest.Period_asArray[R.adaptation.period.index].AdaptationSet_asArray[R.adaptation.index].Representation_asArray[R.index].SegmentList,j=Y.SegmentTimeline,x=Y.SegmentURL_asArray,o=R.availableSegmentsNumber>0,G=void 0;G=H||(M>-1||N!==null?10:1/0);var I=0,O=0,q=-1,Q=[],pe=null,re=void 0,le=void 0,ee=void 0,be=void 0,ie=void 0,Te=void 0,ve=void 0,fe=void 0,Ee=void 0,Ae=void 0,z=void 0,ce=function(De,ae){var me=Y.media,Ie=De.mediaRange;return x&&(me=x[ae].media||"",Ie=x[ae].mediaRange),(0,_.getTimeBasedSegment)(C,m,R,I,De.d,z,me,Ie,q,De.tManifest)};for(z=R.timescale,re=j.S_asArray,Ae=M,N!==null&&(pe=C.calcMediaTimeFromPresentationTime(N,R)),ee=0,be=re.length;ee<be;ee++){if(le=re[ee],Te=0,le.hasOwnProperty("r")&&(Te=le.r),le.hasOwnProperty("t")&&(I=le.t,O=I/z),Te<0){if((fe=re[ee+1])&&fe.hasOwnProperty("t"))ve=fe.t/z;else{var Se=R.segmentAvailabilityRange?R.segmentAvailabilityRange.end:C.calcSegmentAvailabilityRange(R,m).end;ve=C.calcMediaTimeFromPresentationTime(Se,R),R.segmentDuration=le.d/z}Te=Math.ceil((ve-O)/(le.d/z))-1}if(Ee){if(o)break;q+=Te+1}else for(ie=0;ie<=Te;ie++)if(q++,Q.length>G){if(Ee=!0,o)break}else pe!==null?O>=pe-le.d/z*1.5&&Q.push(ce(le,q)):q>=Ae&&Q.push(ce(le,q)),I+=le.d,O=I/z}return o||(R.availableSegmentsNumber=q+1),Q}T=T||{};var C=T.timelineConverter;return{getSegments:A}}Object.defineProperty(u,"__esModule",{value:!0});var E=t(48),d=f(E),_=t(74);g.__dashjs_factory_name="TimelineSegmentsGetter";var y=d.default.getClassFactory(g);u.default=y,p.exports=u.default},{48:48,74:74}],78:[function(t,p,u){"use strict";function f(E,d){if(!(E instanceof d))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(u,"__esModule",{value:!0});var g=function E(){f(this,E),this.period=null,this.index=-1,this.type=null};u.default=g,p.exports=u.default},{}],79:[function(t,p,u){"use strict";function f(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(u,"__esModule",{value:!0});var g=1,E=1,d=function _(y,T,m,b){f(this,_),this.url=y||"",this.serviceLocation=T||y||"",this.dvb_priority=m||g,this.dvb_weight=b||E};d.DEFAULT_DVB_PRIORITY=g,d.DEFAULT_DVB_WEIGHT=E,u.default=d,p.exports=u.default},{}],80:[function(t,p,u){"use strict";function f(E,d){if(!(E instanceof d))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(u,"__esModule",{value:!0});var g=function E(){f(this,E),this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN};u.default=g,p.exports=u.default},{}],81:[function(t,p,u){"use strict";function f(E,d){if(!(E instanceof d))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(u,"__esModule",{value:!0});var g=function E(){f(this,E),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri=""};u.default=g,p.exports=u.default},{}],82:[function(t,p,u){"use strict";function f(E,d){if(!(E instanceof d))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(u,"__esModule",{value:!0});var g=function E(){f(this,E),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN};u.default=g,p.exports=u.default},{}],83:[function(t,p,u){"use strict";function f(E,d){if(!(E instanceof d))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(u,"__esModule",{value:!0});var g=function E(){f(this,E),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null};g.DEFAULT_ID="defaultId",u.default=g,p.exports=u.default},{}],84:[function(t,p,u){"use strict";function f(T){return T&&T.__esModule?T:{default:T}}function g(T,m){if(!(T instanceof m))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(u,"__esModule",{value:!0});var E=function(){function T(m,b){for(var A=0;A<b.length;A++){var C=b[A];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(m,C.key,C)}}return function(m,b,A){return b&&T(m.prototype,b),A&&T(m,A),m}}(),d=t(58),_=f(d),y=function(){function T(){g(this,T),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.segmentAvailabilityRange=null,this.availableSegmentsNumber=0,this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN}return E(T,null,[{key:"hasInitialization",value:function(m){return m.initialization!==null||m.range!==null}},{key:"hasSegments",value:function(m){return m.segmentInfoType!==_.default.BASE_URL&&m.segmentInfoType!==_.default.SEGMENT_BASE&&!m.indexRange}}]),T}();u.default=y,p.exports=u.default},{58:58}],85:[function(t,p,u){"use strict";function f(E,d){if(!(E instanceof d))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(u,"__esModule",{value:!0});var g=function E(){f(this,E),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.availabilityIdx=NaN,this.wallStartTime=NaN,this.representation=null};u.default=g,p.exports=u.default},{}],86:[function(t,p,u){"use strict";function f(E,d){if(!(E instanceof d))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(u,"__esModule",{value:!0});var g=function E(){f(this,E),this.schemeIdUri="",this.value=""};u.default=g,p.exports=u.default},{}],87:[function(t,p,u){"use strict";function f(o){return o&&o.__esModule?o:{default:o}}function g(o){function G(){ee=(0,d.default)(pe).create({errHandler:o.errHandler,metricsModel:o.metricsModel,mediaPlayerModel:o.mediaPlayerModel,requestModifier:o.requestModifier})}function I(be){var ie=function(ve){re.trigger(R.default.CHECK_FOR_EXISTENCE_COMPLETED,{request:be,exists:ve})};if(be){var Te=new y.default(be.url);ee.load({request:Te,success:function(){ie(!0)},error:function(){ie(!1)}})}else ie(!1)}function O(be){var ie=function(Te,ve){re.trigger(R.default.LOADING_COMPLETED,{request:be,response:Te||null,error:ve||null,sender:le})};be?ee.load({request:be,progress:function(){re.trigger(R.default.LOADING_PROGRESS,{request:be})},success:function(Te){ie(Te)},error:function(Te,ve,fe){ie(void 0,new m.default(H,fe,ve))},abort:function(Te,ve){Te&&ve===0&&re.trigger(R.default.LOADING_ABANDONED,{request:Te,mediaType:Te.mediaType,sender:le})}}):ie(void 0,new m.default(Y,j))}function q(){ee&&ee.abort()}function Q(){ee&&(ee.abort(),ee=null)}o=o||{};var pe=this.context,re=(0,A.default)(pe).getInstance(),le=void 0,ee=void 0;return le={checkForExistence:I,load:O,abort:q,reset:Q},G(),le}Object.defineProperty(u,"__esModule",{value:!0});var E=t(96),d=f(E),_=t(163),y=f(_),T=t(160),m=f(T),b=t(47),A=f(b),C=t(51),R=f(C),N=t(48),M=f(N),H=1,Y=2,j="request is null";g.__dashjs_factory_name="FragmentLoader";var x=M.default.getClassFactory(g);x.FRAGMENT_LOADER_ERROR_LOADING_FAILURE=H,x.FRAGMENT_LOADER_ERROR_NULL_REQUEST=Y,M.default.updateClassFactory(g.__dashjs_factory_name,x),u.default=x,p.exports=u.default},{160:160,163:163,47:47,48:48,51:51,96:96}],88:[function(t,p,u){"use strict";function f(ie){return ie&&ie.__esModule?ie:{default:ie}}function g(ie){function Te(){ce.on(o.default.XLINK_READY,ve,me),Ie=(0,m.default)(z).create({errHandler:P,metricsModel:ie.metricsModel,mediaPlayerModel:ie.mediaPlayerModel,requestModifier:ie.requestModifier}),xe=(0,y.default)(z).create({errHandler:P,metricsModel:ie.metricsModel,mediaPlayerModel:ie.mediaPlayerModel,requestModifier:ie.requestModifier}),de=null}function ve(J){ce.trigger(o.default.INTERNAL_MANIFEST_LOADED,{manifest:J.manifest})}function fe(J){var L=null;return J.indexOf("SmoothStreamingMedia")>-1?(Pe?(L=Pe.createMssParser(),Pe.registerEvents()):P.manifestError("manifest type unsupported","createParser"),L):J.indexOf("MPD")>-1?(0,q.default)(z).create({errorHandler:P}):L}function Ee(J){var L=new R.default(J,H.HTTPRequest.MPD_TYPE);Ie.load({request:L,success:function(k,ne,K){var he=void 0,we=void 0;if(K.responseURL&&K.responseURL!==J?(we=Se.parseBaseUrl(K.responseURL),he=K.responseURL):(Se.isRelative(J)&&(J=Se.resolve(J,window.location.href)),we=Se.parseBaseUrl(J)),de===null&&(de=fe(k)),de===null)return void ce.trigger(o.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new M.default(re,"Failed detecting manifest type: "+J)});xe.setMatchers(de.getMatchers()),xe.setIron(de.getIron());var c=de.parse(k);c?(c.url=he||J,c.originalUrl||(c.originalUrl=c.url),c.hasOwnProperty(d.default.LOCATION)&&(we=Se.parseBaseUrl(c.Location_asArray[0]),ae("BaseURI set by Location to: "+we)),c.baseUri=we,c.loadedTime=new Date,xe.resolveManifestOnLoad(c)):ce.trigger(o.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new M.default(re,ee)})},error:function(k,ne,K){ce.trigger(o.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new M.default(le,"Failed loading manifest: "+J+", "+K)})}})}function Ae(){ce.off(o.default.XLINK_READY,ve,me),xe&&(xe.reset(),xe=null),Ie&&(Ie.abort(),Ie=null),Pe&&Pe.reset()}ie=ie||{};var z=this.context,ce=(0,j.default)(z).getInstance(),Se=(0,A.default)(z).getInstance(),De=(0,pe.default)(z).getInstance(),ae=De.log,me=void 0,Ie=void 0,xe=void 0,de=void 0,Pe=ie.mssHandler,P=ie.errHandler;return me={load:Ee,reset:Ae},Te(),me}Object.defineProperty(u,"__esModule",{value:!0});var E=t(98),d=f(E),_=t(112),y=f(_),T=t(96),m=f(T),b=t(155),A=f(b),C=t(170),R=f(C),N=t(160),M=f(N),H=t(179),Y=t(47),j=f(Y),x=t(51),o=f(x),G=t(48),I=f(G),O=t(61),q=f(O),Q=t(46),pe=f(Q),re=1,le=2,ee="parsing failed";g.__dashjs_factory_name="ManifestLoader";var be=I.default.getClassFactory(g);be.MANIFEST_LOADER_ERROR_PARSING_FAILURE=re,be.MANIFEST_LOADER_ERROR_LOADING_FAILURE=le,I.default.updateClassFactory(g.__dashjs_factory_name,be),u.default=be,p.exports=u.default},{112:112,155:155,160:160,170:170,179:179,46:46,47:47,48:48,51:51,61:61,96:96,98:98}],89:[function(t,p,u){"use strict";function f(C){return C&&C.__esModule?C:{default:C}}function g(){function C(z){z&&(z.manifestModel&&(fe=z.manifestModel),z.dashManifestModel&&(Ee=z.dashManifestModel),z.mediaPlayerModel&&(Ae=z.mediaPlayerModel),z.manifestLoader&&(ve=z.manifestLoader))}function R(){M(),le.on(y.default.STREAMS_COMPOSED,Q,this),le.on(y.default.PLAYBACK_STARTED,O,this),le.on(y.default.PLAYBACK_PAUSED,q,this),le.on(y.default.INTERNAL_MANIFEST_LOADED,I,this)}function N(z){o(z)}function M(){ee=NaN,Te=!1,ie=!0,Y()}function H(){le.off(y.default.PLAYBACK_STARTED,O,this),le.off(y.default.PLAYBACK_PAUSED,q,this),le.off(y.default.STREAMS_COMPOSED,Q,this),le.off(y.default.INTERNAL_MANIFEST_LOADED,I,this),M()}function Y(){be!==null&&(clearInterval(be),be=null)}function j(){Y(),isNaN(ee)||(re("Refresh manifest in "+ee+" seconds."),be=setTimeout(G,1e3*ee))}function x(){Te=!0;var z=fe.getValue(),ce=z.url,Se=Ee.getLocation(z);Se&&(ce=Se),ve.load(ce)}function o(z){fe.setValue(z);var ce=new Date,Se=(ce.getTime()-z.loadedTime.getTime())/1e3;ee=Ee.getManifestUpdatePeriod(z,Se),le.trigger(y.default.MANIFEST_UPDATED,{manifest:z}),re("Manifest has been refreshed at "+ce+"["+ce.getTime()/1e3+"] "),ie||j()}function G(){ie&&!Ae.getScheduleWhilePaused()||Te||x()}function I(z){z.error||o(z.manifest)}function O(){ie=!1,j()}function q(){ie=!0,Y()}function Q(){Te=!1}var pe=this.context,re=(0,A.default)(pe).getInstance().log,le=(0,d.default)(pe).getInstance(),ee=void 0,be=void 0,ie=void 0,Te=void 0,ve=void 0,fe=void 0,Ee=void 0,Ae=void 0;return{initialize:R,setManifest:N,refreshManifest:x,setConfig:C,reset:H}}Object.defineProperty(u,"__esModule",{value:!0});var E=t(47),d=f(E),_=t(51),y=f(_),T=t(48),m=f(T),b=t(46),A=f(b);g.__dashjs_factory_name="ManifestUpdater",u.default=m.default.getClassFactory(g),p.exports=u.default},{46:46,47:47,48:48,51:51}],90:[function(t,p,u){"use strict";function f(Ct){return Ct&&Ct.__esModule?Ct:{default:Ct}}function g(){function Ct(){Ki=!1,Ri=!1,Pi=!1,Fn=!0,zi=null,Ui=null,Vi=null,P.default.extend(L.default),Zt=(0,ve.default)(ui).getInstance(),Ge=(0,Se.default)(ui).getInstance()}function Ke(Ce){Ce&&(Ce.capabilities&&(ln=Ce.capabilities),Ce.streamController&&(Ei=Ce.streamController),Ce.playbackController&&(_e=Ce.playbackController),Ce.mediaPlayerModel&&(Zt=Ce.mediaPlayerModel),Ce.abrController&&(gi=Ce.abrController),Ce.mediaController&&(Mi=Ce.mediaController))}function pt(Ce,Qe,At){if(ln||(ln=(0,G.default)(ui).getInstance()),an=(0,x.default)(ui).getInstance(),!ln.supportsMediaSource())return void an.capabilityError("mediasource");Ki||(Ki=!0,cn=(0,ye.default)(ui).getInstance(),gi||(gi=(0,z.default)(ui).getInstance()),_e||(_e=(0,A.default)(ui).getInstance()),Mi||(Mi=(0,M.default)(ui).getInstance()),Vi=(0,we.default)(ui).getInstance(),Ve=(0,S.default)(ui).getInstance({mediaController:Mi,timelineConverter:cn,adapter:Vi}),vt=(0,ie.default)(ui).getInstance(),Fe=(0,W.default)(ui).getInstance({manifestModel:vt,dashManifestModel:Ve}),tn=(0,Ee.default)(ui).getInstance(),ft=(0,re.default)(ui).getInstance(),Rt=(0,ae.default)(ui).getInstance({mediaPlayerModel:Zt}),Vi.setConfig({dashManifestModel:Ve}),tn.setConfig({adapter:Vi}),ji(),Xt(At===void 0||At),Ce&&Si(Ce),Qe&&dn(Qe),fi("[dash.js "+gt()+"] MediaPlayer has been initialized"))}function dt(){dn(null),Si(null),Ui=null,zi&&(zi.reset(),zi=null),yn&&(yn.reset(),yn=null)}function nt(){return!!Di&&!!Ge.getElement()}function Lt(Ce,Qe,At){_n.on(Ce,Qe,At)}function Ut(Ce,Qe,At){_n.off(Ce,Qe,At)}function gt(){return(0,K.getVersionString)()}function Tt(){return Dr}function st(){if(Ge.getElement()||Pi)return!1;if(!Di)throw on;nr()}function Je(){if(!Ri)throw $i;(!Fn||St()&&Ri)&&_e.play()}function et(){if(!Ri)throw $i;_e.pause()}function St(){if(!Ri)throw $i;return _e.isPaused()}function wt(Ce){if(!Ri)throw $i;if(typeof Ce!="number"||isNaN(Ce))throw xr;var Qe=_e.getIsDynamic()?r(Ce):Ce;_e.seek(Qe)}function lt(){if(!Ri)throw $i;return _e.isSeeking()}function ut(){if(!Ri)throw $i;return _e.getIsDynamic()}function bt(Ce){if(!Ge.getElement())throw en;Kt().playbackRate=Ce}function kt(){if(!Ge.getElement())throw en;return Kt().playbackRate}function Mt(Ce){if(!Ge.getElement())throw en;Kt().muted=Ce}function se(){if(!Ge.getElement())throw en;return Kt().muted}function Be(Ce){if(!Ge.getElement())throw en;Kt().volume=Ce}function e(){if(!Ge.getElement())throw en;return Kt().volume}function i(Ce){var Qe=[d.default.VIDEO,d.default.AUDIO,d.default.FRAGMENTED_TEXT];if(Ce){if(Qe.indexOf(Ce)!==-1){var At=F().getCurrentBufferLevel(X(Ce));return At||NaN}return fi("Warning  - getBufferLength requested for invalid type"),NaN}var At=Qe.map(function(Ht){return Bi(Ht).length>0?F().getCurrentBufferLevel(X(Ht)):Number.MAX_VALUE}).reduce(function(Ht,Jt){return Math.min(Ht,Jt)});return At===Number.MAX_VALUE?NaN:At}function n(){var Ce=vn();return Ce?Ce.manifestInfo.DVRWindowSize:0}function r(Ce){var Qe=vn(),At=_e.getLiveDelay();if(!Qe)return 0;var Ht=Qe.range.start+Ce;return Ht>Qe.range.end-At&&(Ht=Qe.range.end-At),Ht}function h(Ce){if(!Ri)throw $i;var Qe=Kt().currentTime;if(Ce!==void 0)Qe=Ei.getTimeRelativeToStreamId(Qe,Ce);else if(_e.getIsDynamic()){var At=vn();Qe=At===null?0:w()-(At.range.end-At.time)}return Qe}function w(){if(!Ri)throw $i;var Ce=Kt().duration;if(_e.getIsDynamic()){var Qe=vn(),At=void 0;if(!Qe)return 0;At=Qe.range.end-Qe.range.start,Ce=At<Qe.manifestInfo.DVRWindowSize?At:Qe.manifestInfo.DVRWindowSize}return Ce}function B(){if(!Ri)throw $i;return h()<0?NaN:Ar(h())}function V(){if(!Ri)throw $i;return Ar(w())}function oe(Ce,Qe){gi.setMaxAllowedBitrateFor(Ce,Qe)}function Me(Ce,Qe){gi.setMinAllowedBitrateFor(Ce,Qe)}function Re(Ce){return gi.getMaxAllowedBitrateFor(Ce)}function je(Ce){return gi.getMinAllowedBitrateFor(Ce)}function ze(Ce,Qe){gi.setMaxAllowedRepresentationRatioFor(Ce,Qe)}function Ne(Ce){return gi.getMaxAllowedRepresentationRatioFor(Ce)}function Oe(Ce){if(!Pi)throw Wi;if(Ce===d.default.IMAGE){var Qe=qn();if(!Qe)return-1;var At=Qe.getThumbnailController();return At?At.getCurrentTrackIndex():-1}return gi.getQualityFor(Ce,Ei.getActiveStreamInfo())}function tt(Ce,Qe){if(!Pi)throw Wi;if(Ce===d.default.IMAGE){var At=qn();if(!At)return;var Ht=At.getThumbnailController();Ht&&Ht.setTrackByIndex(Qe)}gi.setPlaybackQuality(Ce,Ei.getActiveStreamInfo(),Qe)}function it(){gi.setElementSize(),gi.setWindowResizeEventCalled(!0)}function xt(){return gi.getLimitBitrateByPortal()}function Ot(Ce){gi.setLimitBitrateByPortal(Ce)}function Wt(){return gi.getUsePixelRatioInLimitBitrateByPortal()}function zt(Ce){gi.setUsePixelRatioInLimitBitrateByPortal(Ce)}function qt(Ce,Qe){gi.setInitialBitrateFor(Ce,Qe)}function Bt(Ce){if(!Pi)throw Wi;return gi.getInitialBitrateFor(Ce)}function rt(Ce,Qe){gi.setInitialRepresentationRatioFor(Ce,Qe)}function It(Ce){return gi.getInitialRepresentationRatioFor(Ce)}function Pt(Ce){return gi.getAutoSwitchBitrateFor(Ce)}function Gt(Ce,Qe){gi.setAutoSwitchBitrateFor(Ce,Qe)}function Yt(){return gi.getUseDeadTimeLatency()}function ei(Ce){gi.setUseDeadTimeLatency(Ce)}function Xt(Ce){Fn=Ce}function ni(){return Fn}function li(Ce){Zt.setLiveDelayFragmentCount(Ce)}function ai(Ce){Zt.setLiveDelay(Ce)}function di(){return Zt.getLiveDelay()}function Ze(Ce){Zt.setUseSuggestedPresentationDelay(Ce)}function Dt(Ce,Qe){Zt.setLastBitrateCachingInfo(Ce,Qe)}function ue(Ce,Qe){Zt.setLastMediaSettingsCachingInfo(Ce,Qe)}function Ue(Ce){Zt.setScheduleWhilePaused(Ce)}function ot(){return Zt.getScheduleWhilePaused()}function mt(Ce){Zt.setFastSwitchEnabled(Ce)}function yt(){return Zt.getFastSwitchEnabled()}function Ft(Ce){Ce===d.default.ABR_STRATEGY_DYNAMIC||Ce===d.default.ABR_STRATEGY_BOLA||Ce===d.default.ABR_STRATEGY_THROUGHPUT?Zt.setABRStrategy(Ce):fi("Warning: Ignoring setABRStrategy("+Ce+") - unknown value.")}function Vt(){return Zt.getABRStrategy()}function ii(Ce){Zt.setUseDefaultABRRules(Ce)}function Ti(Ce,Qe,At){Zt.addABRCustomRule(Ce,Qe,At)}function pi(Ce){Zt.removeABRCustomRule(Ce)}function ci(){Zt.removeAllABRCustomRule()}function fn(Ce){Ce===d.default.MOVING_AVERAGE_SLIDING_WINDOW||Ce===d.default.MOVING_AVERAGE_EWMA?Zt.setMovingAverageMethod(Ce):fi("Warning: Ignoring setMovingAverageMethod("+Ce+") - unknown value.")}function ki(){return Zt.getMovingAverageMethod()}function sn(Ce,Qe){Hi(Ce,Qe);var At=new m.default;At.schemeIdUri=Ce,At.value=Qe,Zt.getUTCTimingSources().push(At)}function Hi(Ce,Qe){var At=Zt.getUTCTimingSources();At.forEach(function(Ht,Jt){Ht.schemeIdUri===Ce&&Ht.value===Qe&&At.splice(Jt,1)})}function Ji(){Zt.setUTCTimingSources([])}function ji(){sn(ve.default.DEFAULT_UTC_TIMING_SOURCE.scheme,ve.default.DEFAULT_UTC_TIMING_SOURCE.value)}function Et(Ce){Zt.setUseManifestDateHeaderTimeSource(Ce)}function Qt(Ce){Zt.setBufferToKeep(Ce)}function An(Ce){Zt.setBufferAheadToKeep(Ce)}function Rn(Ce){Zt.setBufferPruningInterval(Ce)}function Br(Ce){Zt.setStableBufferTime(Ce)}function Ur(){return Zt.getStableBufferTime()}function Hr(Ce){Zt.setBufferTimeAtTopQuality(Ce)}function jr(){return Zt.getBufferTimeAtTopQuality()}function Tr(Ce){Zt.setBufferTimeAtTopQualityLongForm(Ce)}function Kn(){return Zt.getBufferTimeAtTopQualityLongForm()}function Er(Ce){Zt.setLongFormContentDurationThreshold(Ce)}function Qn(Ce){Zt.setSegmentOverlapToleranceTime(Ce)}function wr(Ce,Qe){Zt.setCacheLoadThresholdForType(Ce,Qe)}function br(Ce){Zt.setBandwidthSafetyFactor(Ce)}function Jn(){return Zt.getBandwidthSafetyFactor()}function qr(Ce){var Qe=gi.getThroughputHistory();return Qe?Qe.getAverageThroughput(Ce):0}function Wr(Ce){Zt.setAbandonLoadTimeout(Ce)}function zr(Ce){Zt.setFragmentRetryAttempts(Ce)}function Pn(Ce){Zt.setFragmentRetryInterval(Ce)}function Cr(Ce){Zt.setManifestRetryAttempts(Ce)}function Zn(Ce){Zt.setManifestRetryInterval(Ce)}function Vr(Ce,Qe){Zt.setXHRWithCredentialsForType(Ce,Qe)}function Gr(Ce){return Zt.getXHRWithCredentialsForType(Ce)}function Yr(Ce){Zt.setJumpGaps(Ce)}function l(){return Zt.getJumpGaps()}function v(Ce){Zt.setSmallGapLimit(Ce)}function D(){return Zt.getSmallGapLimit()}function F(){return Fe}function X(Ce){return tn.getReadOnlyMetricsFor(Ce)}function te(Ce){ft===void 0&&(ft=(0,re.default)(ui).getInstance()),ft.setTextDefaultLanguage(Ce)}function ge(){return ft===void 0&&(ft=(0,re.default)(ui).getInstance()),ft.getTextDefaultLanguage()}function Le(Ce){ft===void 0&&(ft=(0,re.default)(ui).getInstance()),ft.setTextDefaultEnabled(Ce)}function He(){return ft===void 0&&(ft=(0,re.default)(ui).getInstance()),ft.getTextDefaultEnabled()}function $e(Ce){ft===void 0&&(ft=(0,re.default)(ui).getInstance()),ft.enableText(Ce)}function ct(){return ft===void 0&&(ft=(0,re.default)(ui).getInstance()),ft.isTextEnabled()}function Nt(Ce){if(!Ri)throw $i;ft===void 0&&(ft=(0,re.default)(ui).getInstance()),ft.setTextTrack(Ce)}function at(){var Ce=NaN;return ft&&(Ce=ft.getCurrentTrackIdx()),Ce}function _t(Ce){var Qe=(0,O.default)(ui).getInstance();Qe.setConfig({videoModel:Ge}),Qe.initialize(),Qe.displayCConTop(Ce)}function Kt(){if(!Ge.getElement())throw en;return Ge.getElement()}function si(){return Ge?Ge.getVideoContainer():null}function $t(Ce){if(!Ge.getElement())throw en;Ge.setVideoContainer(Ce)}function Si(Ce){if(!Ki)throw Fi;Ce&&(Ge.setElement(Ce),ir(),Qr(),Jr(),Ei&&Ei.switchToVideoElement()),Ri&&On(),nr()}function xi(){return Ge?Ge.getTTMLRenderingDiv():null}function Yi(Ce){if(!Ge.getElement())throw en;Ge.setTTMLRenderingDiv(Ce)}function _i(Ce){if(!Pi)throw Wi;var Qe=qn();return Qe?Qe.getBitrateListFor(Ce):[]}function ri(Ce){if(!Pi)throw Wi;return Vi.getStreamsInfo(Ce)}function Bi(Ce){if(!Pi)throw Wi;var Qe=Ei.getActiveStreamInfo();return Qe?Mi.getTracksFor(Ce,Qe):[]}function hi(Ce,Qe,At){if(!Pi)throw Wi;return At=At||Vi.getStreamsInfo(Qe)[0],At?Vi.getAllMediaInfoForType(At,Ce,Qe):[]}function bi(Ce){if(!Pi)throw Wi;var Qe=Ei.getActiveStreamInfo();return Qe?Mi.getCurrentTrackFor(Ce,Qe):null}function Nn(Ce,Qe){if(!Ki)throw Fi;Mi.setInitialSettings(Ce,Qe)}function jn(Ce){if(!Ki)throw Fi;return Mi.getInitialSettings(Ce)}function Xi(Ce){if(!Pi)throw Wi;Mi.setTrack(Ce)}function En(Ce){if(!Ki)throw Fi;return Mi.getSwitchMode(Ce)}function wn(Ce,Qe){if(!Ki)throw Fi;Mi.setSwitchMode(Ce,Qe)}function qi(Ce){if(!Ki)throw Fi;Mi.setSelectionModeForInitialTrack(Ce)}function gn(){if(!Ki)throw Fi;return Mi.getSelectionModeForInitialTrack()}function Zi(){return ir()}function mn(Ce){zi=Ce}function Ir(Ce){Ui=Ce,Ei&&Ei.setProtectionData(Ui)}function bn(Ce){if(Ce<0)return null;var Qe=_e.getIsDynamic()?r(Ce):Ce,At=Ei.getStreamForTime(Qe);if(At===null)return null;var Ht=At.getThumbnailController(),Jt=At.getStreamInfo();if(!Ht||!Jt)return null;var oi=Ei.getTimeRelativeToStreamId(Qe,At.getId());return Ht.get(oi)}function $n(Ce,Qe){var At=tr(),Ht=this,Jt=function vi(ti){ti.error?Qe(null,ti.error):Qe(ti.manifest),_n.off(P.default.INTERNAL_MANIFEST_LOADED,vi,Ht),At.reset()};_n.on(P.default.INTERNAL_MANIFEST_LOADED,Jt,Ht);var oi=(0,ee.default)(ui).getInstance();oi.initialize(),At.load(oi.parseURI(Ce))}function mi(){if(!Di)throw on;return Di}function dn(Ce){if(!Ki)throw Fi;if(typeof Ce=="string"){var Qe=(0,ee.default)(ui).getInstance();Qe.initialize(),Di=Qe.parseURI(Ce)}else Di=Ce;(Pi||Ri)&&On(),nt()&&nr()}function Sr(Ce,Qe,At){var Ht=!(arguments.length<=3||arguments[3]===void 0)&&arguments[3],Jt=new Date(1e3*Ce),oi=Jt.toLocaleDateString(Qe),vi=Jt.toLocaleTimeString(Qe,{hour12:At});return Ht?vi+" "+oi:vi}function er(Ce){Ce=Math.max(Ce,0);var Qe=Math.floor(Ce/3600),At=Math.floor(Ce%3600/60),Ht=Math.floor(Ce%3600%60);return(Qe===0?"":Qe<10?"0"+Qe.toString()+":":Qe.toString()+":")+(At<10?"0"+At.toString():At.toString())+":"+(Ht<10?"0"+Ht.toString():Ht.toString())}function Xr(Ce,Qe,At){ne.default.extend(Ce,Qe,At,ui)}function On(){Ri=!1,Pi=!1,Vi.reset(),Ei.reset(),_e.reset(),gi.reset(),Mi.reset(),ft.reset(),zi&&(zi.reset(),zi=null,ir())}function Kr(){var Ce=tr();Ei||(Ei=(0,R.default)(ui).getInstance()),Mi.setConfig({errHandler:an,domStorage:Rt}),Ei.setConfig({capabilities:ln,manifestLoader:Ce,manifestModel:vt,dashManifestModel:Ve,mediaPlayerModel:Zt,protectionController:zi,adapter:Vi,metricsModel:tn,dashMetrics:Fe,errHandler:an,timelineConverter:cn,videoModel:Ge,playbackController:_e,domStorage:Rt,abrController:gi,mediaController:Mi,textController:ft}),_e.setConfig({streamController:Ei,metricsModel:tn,dashMetrics:Fe,manifestModel:vt,mediaPlayerModel:Zt,dashManifestModel:Ve,adapter:Vi,videoModel:Ge}),gi.setConfig({streamController:Ei,domStorage:Rt,mediaPlayerModel:Zt,metricsModel:tn,dashMetrics:Fe,dashManifestModel:Ve,manifestModel:vt,videoModel:Ge,adapter:Vi}),gi.createAbrRulesCollection(),ft.setConfig({errHandler:an,manifestModel:vt,dashManifestModel:Ve,mediaController:Mi,streamController:Ei,videoModel:Ge}),Ei.initialize(Fn,Ui)}function tr(){return(0,Y.default)(ui).create({errHandler:an,metricsModel:tn,mediaPlayerModel:Zt,requestModifier:(0,Q.default)(ui).getInstance(),mssHandler:xn})}function ir(){if(zi)return zi;var Ce=dashjs.Protection;if(typeof Ce=="function"){var Qe=Ce(ui).create();return P.default.extend(Ce.events),L.default.extend(Ce.events,{publicOnly:!0}),ln||(ln=(0,G.default)(ui).getInstance()),zi=Qe.createProtectionSystem({log:fi,errHandler:an,videoModel:Ge,capabilities:ln,eventBus:_n,events:P.default,BASE64:We.default,constants:d.default})}return null}function Qr(){if(!yn){var Ce=dashjs.MetricsReporting;if(typeof Ce=="function"){var Qe=Ce(ui).create();yn=Qe.createMetricsReporting({log:fi,eventBus:_n,mediaElement:Kt(),dashManifestModel:Ve,metricsModel:tn,events:P.default,constants:d.default,metricsConstants:y.default})}}}function Jr(){if(!xn){var Ce=dashjs.MssHandler;typeof Ce=="function"&&(xn=Ce(ui).create({eventBus:_n,mediaPlayerModel:Zt,metricsModel:tn,playbackController:_e,protectionController:zi,errHandler:an,events:P.default,constants:d.default,log:fi,initSegmentType:qe.HTTPRequest.INIT_SEGMENT_TYPE,BASE64:We.default,ISOBoxer:Xe.default}))}}function vn(){var Ce=tn.getReadOnlyMetricsFor(d.default.VIDEO)||tn.getReadOnlyMetricsFor(d.default.AUDIO);return Fe.getCurrentDVRInfo(Ce)}function Ar(Ce){var Qe=vn(),At=void 0;return Qe?(At=Qe.manifestInfo.availableFrom.getTime()/1e3,Ce+(At+Qe.range.start)):0}function qn(){if(!Pi)throw Wi;var Ce=Ei.getActiveStreamInfo();return Ce?Ei.getStreamById(Ce.id):null}function nr(){!Pi&&Di&&(Pi=!0,fi("Streaming Initialized"),Kr(),typeof Di=="string"?Ei.load(Di):Ei.loadWithManifest(Di)),!Ri&&nt()&&(Ri=!0,fi("Playback Initialized"))}var Wi="You must first call initialize() and set a source before calling this method",$i="You must first call initialize() and set a valid source and view before calling this method",en="You must first call attachView() to set the video element before calling this method",on="You must first call attachSource() with a valid source before calling this method",Fi="MediaPlayer not initialized!",xr="MediaPlayer Invalid Arguments!",ui=this.context,_n=(0,de.default)(ui).getInstance(),Dr=(0,Ie.default)(ui).getInstance(),fi=Dr.log,kn=void 0,Di=void 0,Ui=void 0,Ki=void 0,Pi=void 0,Ri=void 0,Fn=void 0,gi=void 0,cn=void 0,Mi=void 0,zi=void 0,yn=void 0,xn=void 0,Vi=void 0,tn=void 0,Zt=void 0,an=void 0,ln=void 0,Ei=void 0,_e=void 0,Fe=void 0,Ve=void 0,vt=void 0,Ge=void 0,ft=void 0,Rt=void 0;return kn={initialize:pt,setConfig:Ke,on:Lt,off:Ut,extend:Xr,attachView:Si,attachSource:dn,isReady:nt,preload:st,play:Je,isPaused:St,pause:et,isSeeking:lt,isDynamic:ut,seek:wt,setPlaybackRate:bt,getPlaybackRate:kt,setMute:Mt,isMuted:se,setVolume:Be,getVolume:e,time:h,duration:w,timeAsUTC:B,durationAsUTC:V,getActiveStream:qn,getDVRWindowSize:n,getDVRSeekOffset:r,convertToTimeCode:er,formatUTC:Sr,getVersion:gt,getDebug:Tt,getBufferLength:i,getVideoContainer:si,getTTMLRenderingDiv:xi,getVideoElement:Kt,getSource:mi,setLiveDelayFragmentCount:li,setLiveDelay:ai,getLiveDelay:di,useSuggestedPresentationDelay:Ze,enableLastBitrateCaching:Dt,enableLastMediaSettingsCaching:ue,setMaxAllowedBitrateFor:oe,getMaxAllowedBitrateFor:Re,setMinAllowedBitrateFor:Me,getMinAllowedBitrateFor:je,setMaxAllowedRepresentationRatioFor:ze,getMaxAllowedRepresentationRatioFor:Ne,setAutoPlay:Xt,getAutoPlay:ni,setScheduleWhilePaused:Ue,getScheduleWhilePaused:ot,getDashMetrics:F,getMetricsFor:X,getQualityFor:Oe,setQualityFor:tt,updatePortalSize:it,getLimitBitrateByPortal:xt,setLimitBitrateByPortal:Ot,getUsePixelRatioInLimitBitrateByPortal:Wt,setUsePixelRatioInLimitBitrateByPortal:zt,setTextDefaultLanguage:te,getTextDefaultLanguage:ge,setTextDefaultEnabled:Le,getTextDefaultEnabled:He,enableText:$e,isTextEnabled:ct,setTextTrack:Nt,getBitrateInfoListFor:_i,setInitialBitrateFor:qt,getInitialBitrateFor:Bt,setInitialRepresentationRatioFor:rt,getInitialRepresentationRatioFor:It,getStreamsFromManifest:ri,getTracksFor:Bi,getTracksForTypeFromManifest:hi,getCurrentTrackFor:bi,setInitialMediaSettingsFor:Nn,getInitialMediaSettingsFor:jn,setCurrentTrack:Xi,getTrackSwitchModeFor:En,setTrackSwitchModeFor:wn,setSelectionModeForInitialTrack:qi,getSelectionModeForInitialTrack:gn,setFastSwitchEnabled:mt,getFastSwitchEnabled:yt,setMovingAverageMethod:fn,getMovingAverageMethod:ki,getAutoSwitchQualityFor:Pt,setAutoSwitchQualityFor:Gt,setABRStrategy:Ft,getABRStrategy:Vt,useDefaultABRRules:ii,addABRCustomRule:Ti,removeABRCustomRule:pi,removeAllABRCustomRule:ci,setBandwidthSafetyFactor:br,getBandwidthSafetyFactor:Jn,getAverageThroughput:qr,setAbandonLoadTimeout:Wr,retrieveManifest:$n,addUTCTimingSource:sn,removeUTCTimingSource:Hi,clearDefaultUTCTimingSources:Ji,restoreDefaultUTCTimingSources:ji,setBufferToKeep:Qt,setBufferAheadToKeep:An,setBufferPruningInterval:Rn,setStableBufferTime:Br,getStableBufferTime:Ur,setBufferTimeAtTopQuality:Hr,getBufferTimeAtTopQuality:jr,setBufferTimeAtTopQualityLongForm:Tr,getBufferTimeAtTopQualityLongForm:Kn,setFragmentLoaderRetryAttempts:zr,setFragmentLoaderRetryInterval:Pn,setManifestLoaderRetryAttempts:Cr,setManifestLoaderRetryInterval:Zn,setXHRWithCredentialsForType:Vr,getXHRWithCredentialsForType:Gr,setJumpGaps:Yr,getJumpGaps:l,setSmallGapLimit:v,getSmallGapLimit:D,setLongFormContentDurationThreshold:Er,setSegmentOverlapToleranceTime:Qn,setCacheLoadThresholdForType:wr,getProtectionController:Zi,attachProtectionController:mn,setProtectionData:Ir,enableManifestDateHeaderTimeSource:Et,displayCaptionsOnTop:_t,attachVideoContainer:$t,attachTTMLRenderingDiv:Yi,getCurrentTextTrackIndex:at,getUseDeadTimeLatencyForAbr:Yt,setUseDeadTimeLatencyForAbr:ei,getThumbnail:bn,reset:dt},Ct(),kn}Object.defineProperty(u,"__esModule",{value:!0});var E=t(98),d=f(E),_=t(99),y=f(_),T=t(86),m=f(T),b=t(108),A=f(b),C=t(110),R=f(C),N=t(106),M=f(N),H=t(88),Y=f(H),j=t(148),x=f(j),o=t(144),G=f(o),I=t(139),O=f(I),q=t(153),Q=f(q),pe=t(137),re=f(pe),le=t(118),ee=f(le),be=t(115),ie=f(be),Te=t(116),ve=f(Te),fe=t(117),Ee=f(fe),Ae=t(100),z=f(Ae),ce=t(119),Se=f(ce),De=t(146),ae=f(De),me=t(46),Ie=f(me),xe=t(47),de=f(xe),Pe=t(51),P=f(Pe),J=t(91),L=f(J),k=t(48),ne=f(k),K=t(49),he=t(53),we=f(he),c=t(60),S=f(c),U=t(55),W=f(U),Z=t(76),ye=f(Z),qe=t(179),ke=t(1),We=f(ke),Ye=t(10),Xe=f(Ye);g.__dashjs_factory_name="MediaPlayer";var ht=ne.default.getClassFactory(g);ht.events=L.default,ne.default.updateClassFactory(g.__dashjs_factory_name,ht),u.default=ht,p.exports=u.default},{1:1,10:10,100:100,106:106,108:108,110:110,115:115,116:116,117:117,118:118,119:119,137:137,139:139,144:144,146:146,148:148,153:153,179:179,46:46,47:47,48:48,49:49,51:51,53:53,55:55,60:60,76:76,86:86,88:88,91:91,98:98,99:99}],91:[function(t,p,u){"use strict";function f(b){return b&&b.__esModule?b:{default:b}}function g(b,A){if(!(b instanceof A))throw new TypeError("Cannot call a class as a function")}function E(b,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);b.prototype=Object.create(A&&A.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(b,A):b.__proto__=A)}Object.defineProperty(u,"__esModule",{value:!0});var d=function(b,A,C){for(var R=!0;R;){var N=b,M=A,H=C;R=!1,N===null&&(N=Function.prototype);var Y=Object.getOwnPropertyDescriptor(N,M);if(Y!==void 0){if("value"in Y)return Y.value;var j=Y.get;return j===void 0?void 0:j.call(H)}var x=Object.getPrototypeOf(N);if(x===null)return;b=x,A=M,C=H,R=!0,Y=x=void 0}},_=t(52),y=f(_),T=function(b){function A(){g(this,A),d(Object.getPrototypeOf(A.prototype),"constructor",this).call(this),this.AST_IN_FUTURE="astInFuture",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_LOADED="bufferLoaded",this.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",this.ERROR="error",this.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",this.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",this.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",this.LOG="log",this.MANIFEST_LOADED="manifestLoaded",this.METRICS_CHANGED="metricsChanged",this.METRIC_CHANGED="metricChanged",this.METRIC_ADDED="metricAdded",this.METRIC_UPDATED="metricUpdated",this.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",this.PERIOD_SWITCH_STARTED="periodSwitchStarted",this.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",this.QUALITY_CHANGE_RENDERED="qualityChangeRendered",this.TRACK_CHANGE_RENDERED="trackChangeRendered",this.SOURCE_INITIALIZED="sourceInitialized",this.STREAM_INITIALIZED="streamInitialized",this.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",this.TEXT_TRACKS_ADDED="allTextTracksAdded",this.TEXT_TRACK_ADDED="textTrackAdded",this.TTML_PARSED="ttmlParsed",this.CAN_PLAY="canPlay",this.PLAYBACK_ENDED="playbackEnded",this.PLAYBACK_ERROR="playbackError",this.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",this.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",this.PLAYBACK_PAUSED="playbackPaused",this.PLAYBACK_PLAYING="playbackPlaying",this.PLAYBACK_PROGRESS="playbackProgress",this.PLAYBACK_RATE_CHANGED="playbackRateChanged",this.PLAYBACK_SEEKED="playbackSeeked",this.PLAYBACK_SEEKING="playbackSeeking",this.PLAYBACK_SEEK_ASKED="playbackSeekAsked",this.PLAYBACK_STARTED="playbackStarted",this.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",this.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged"}return E(A,b),A}(y.default),m=new T;u.default=m,p.exports=u.default},{52:52}],92:[function(t,p,u){"use strict";function f(m){return m&&m.__esModule?m:{default:m}}function g(m){function b(){x=[],o=null,G=null}function A(I){I.segmentType!=="InitializationSegment"?(x.push(I),x.sort(function(O,q){return O.start-q.start}),o=null):o=I,j("PreBufferSink appended chunk s: "+I.start+"; e: "+I.end),G&&G({chunk:I})}function C(I,O){x=x.filter(function(q){return!((isNaN(O)||q.start<O)&&(isNaN(I)||q.end>I))})}function R(){}function N(){for(var I=[],O=0;O<x.length;O++){var q=x[O];I.length===0||q.start>I[I.length-1].end?I.push({start:q.start,end:q.end}):I[I.length-1].end=q.end}var Q={start:function(pe){return I[pe].start},end:function(pe){return I[pe].end}};return Object.defineProperty(Q,"length",{get:function(){return I.length}}),Q}function M(I,O){var q=H(I,O);return o&&(q.push(o),o=null),C(I,O),q}function H(I,O){return x.filter(function(q){return(isNaN(O)||q.start<O)&&(isNaN(I)||q.end>I)})}var Y=this.context,j=(0,d.default)(Y).getInstance().log,x=[],o=void 0,G=m;return{getAllBufferRanges:N,append:A,remove:C,abort:R,discharge:M,reset:b}}Object.defineProperty(u,"__esModule",{value:!0});var E=t(46),d=f(E),_=t(48),y=f(_);g.__dashjs_factory_name="PreBufferSink";var T=y.default.getClassFactory(g);u.default=T,p.exports=u.default},{46:46,48:48}],93:[function(t,p,u){"use strict";function f(Y){return Y&&Y.__esModule?Y:{default:Y}}function g(Y,j,x){function o(){ve=!1;var z=j.codec;try{if(z.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))throw new Error("not really supported");Te=Y.addSourceBuffer(z)}catch(Se){if(!j.isText&&z.indexOf('codecs="stpp')===-1&&z.indexOf('codecs="wvtt')===-1)throw Se;var ce=(0,M.default)(ee).getInstance();Te=ce.getTextSourceBuffer()}}function G(){if(Te){try{Y.removeSourceBuffer(Te)}catch{be("Failed to remove source buffer from media source.")}ve=!1,Te=null}fe=[],Ee=null}function I(){return Te}function O(){return Te.buffered}function q(z){fe.push(z),ve||le(Te,pe.bind(this))}function Q(z,ce,Se){var De=this;le(Te,function(){try{z>=0&&ce>z&&(Se||Y.readyState!=="ended")&&Te.remove(z,ce),le(Te,function(){ie.trigger(A.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:De,from:z,to:ce})})}catch(ae){ie.trigger(A.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:De,from:z,to:ce,error:new y.default(ae.code,ae.message,null)})}})}function pe(){var z=this;fe.length>0&&function(){ve=!0;var ce=fe[0];fe.splice(0,1);var Se=function(){fe.length>0?pe.call(this):(ve=!1,Ee&&Ee({chunk:ce}))};try{Te.appendBuffer?Te.appendBuffer(ce.bytes):Te.append(ce.bytes,ce),le(Te,Se.bind(z))}catch(De){be('SourceBuffer append failed "'+De+'"'),fe.length>0?pe():ve=!1,Ee&&Ee({chunk:ce,error:new y.default(De.code,De.message,null)})}}()}function re(){try{(Y.readyState==="open"||Te.setTextTrack&&Y.readyState==="ended")&&Te.abort()}catch(z){be('SourceBuffer append abort failed: "'+z+'"')}fe=[]}function le(z,ce){var Se=void 0,De=50,ae=function(){z.updating||(clearInterval(Se),ce())},me=function Ie(){z.updating||(z.removeEventListener("updateend",Ie,!1),ce())};if(!z.updating)return void ce();if(typeof z.addEventListener=="function")try{z.addEventListener("updateend",me,!1)}catch{Se=setInterval(ae,De)}else Se=setInterval(ae,De)}var ee=this.context,be=(0,d.default)(ee).getInstance().log,ie=(0,m.default)(ee).getInstance(),Te=void 0,ve=void 0,fe=[],Ee=x,Ae={getAllBufferRanges:O,getBuffer:I,append:q,remove:Q,abort:re,reset:G};return o(),Ae}Object.defineProperty(u,"__esModule",{value:!0});var E=t(46),d=f(E),_=t(160),y=f(_),T=t(47),m=f(T),b=t(51),A=f(b),C=t(48),R=f(C),N=t(137),M=f(N);g.__dashjs_factory_name="SourceBufferSink";var H=R.default.getClassFactory(g);u.default=H,p.exports=u.default},{137:137,160:160,46:46,47:47,48:48,51:51}],94:[function(t,p,u){"use strict";function f(I){return I&&I.__esModule?I:{default:I}}function g(I){function O(){le(),ut=(0,A.default)(W).create({mediaPlayerModel:We,metricsModel:pt,errHandler:Ct}),ye.on(Y.default.BUFFERING_COMPLETED,K,gt),ye.on(Y.default.DATA_UPDATE_COMPLETED,he,gt)}function q(se,Be){et=se,(lt=Be)&&(ye.on(Y.default.KEY_ERROR,ae,gt),ye.on(Y.default.SERVER_CERTIFICATE_UPDATED,ae,gt),ye.on(Y.default.LICENSE_REQUEST_COMPLETE,ae,gt),ye.on(Y.default.KEY_SYSTEM_SELECTED,ae,gt),ye.on(Y.default.KEY_SESSION_CREATED,ae,gt))}function Q(se){st||(ye.on(Y.default.CURRENT_TRACK_CHANGED,xe,gt),P(se),st=!0),ne()}function pe(){for(var se=Tt?Tt.length:0,Be=0;Be<se;Be++)Tt[Be].getFragmentModel().removeExecutedRequestsBeforeTime(ie()+be()),Tt[Be].reset();Tt=[],st=!1,Je=!1,ye.off(Y.default.CURRENT_TRACK_CHANGED,xe,gt)}function re(se){for(var Be=0;Be<Tt.length;)Ie(Tt[Be].getMediaInfo())?(Tt[Be].setMediaSource(se),Be++):(Tt[Be].reset(),Tt.splice(Be,1));for(var Be=0;Be<Tt.length;Be++)Tt[Be].dischargePreBuffer();if(Tt.length===0){var e="No streams to play.";Ct.manifestError(e,"nostreams",qe.getValue()),Z(e)}}function le(){pe(),et=null,St={},wt=!1}function ee(){nt&&nt.pause(),ut&&(ut.reset(),ut=null),le(),Z=null,ye.off(Y.default.DATA_UPDATE_COMPLETED,he,gt),ye.off(Y.default.BUFFERING_COMPLETED,K,gt),ye.off(Y.default.KEY_ERROR,ae,gt),ye.off(Y.default.SERVER_CERTIFICATE_UPDATED,ae,gt),ye.off(Y.default.LICENSE_REQUEST_COMPLETE,ae,gt),ye.off(Y.default.KEY_SYSTEM_SELECTED,ae,gt),ye.off(Y.default.KEY_SESSION_CREATED,ae,gt)}function be(){return et?et.duration:NaN}function ie(){return et?et.start:NaN}function Te(){return et?et.id:NaN}function ve(){return et}function fe(){return kt}function Ee(){return ut}function Ae(){return bt}function z(){if(!(dt&&dt.hasOwnProperty("getBitrateList")&&Xe&&Xe.hasOwnProperty("getAllMediaInfoForType")&&Xe.hasOwnProperty("getEventsFor")))throw new Error("Missing config parameter(s)")}function ce(se){if(z(),se===d.default.IMAGE)return bt?bt.getBitrateList():[];var Be=k(se);return dt.getBitrateList(Be)}function Se(){kt&&kt.start()}function De(){kt&&kt.stop()}function ae(se){se.error&&(Ct.mediaKeySessionError(se.error),Z(se.error),ee())}function me(se){return se.type===d.default.TEXT?se.mimeType:se.type}function Ie(se){var Be=se.type,e=void 0,i=void 0;if(Be===d.default.MUXED&&se)return i="Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",Z(i),Ct.manifestError(i,"multiplexedrep",qe.getValue()),!1;if(Be===d.default.TEXT||Be===d.default.FRAGMENTED_TEXT||Be===d.default.EMBEDDED_TEXT||Be===d.default.IMAGE)return!0;if(e=se.codec,Z(Be+" codec: "+e),se.contentProtection&&!ht.supportsEncryptedMedia())Ct.capabilityError("encryptedmedia");else if(!ht.supportsCodec(e))return i=Be+"Codec ("+e+") is not supported.",Z(i),!1;return!0}function xe(se){if(se.newMediaInfo.streamInfo.id===et.id){var Be=we(se.oldMediaInfo);if(Be){var e=nt.getTime();Z("Stream -  Process track changed at current time "+e);var i=se.newMediaInfo,n=qe.getValue();Z("Stream -  Update stream controller"),n.refreshManifestOnSwitchTrack?(Z("Stream -  Refreshing manifest for switch track"),Mt=se,Ye.refreshManifest()):(Be.updateMediaInfo(i),i.type!==d.default.FRAGMENTED_TEXT&&(dt.updateTopQualityIndex(i),Be.switchTrackAsked()))}}}function de(se,Be,e,i){var n=(0,y.default)(W).create({type:me(se),mimeType:se.mimeType,timelineConverter:Ke,adapter:Xe,manifestModel:qe,dashManifestModel:ke,mediaPlayerModel:We,metricsModel:pt,dashMetrics:I.dashMetrics,baseURLController:I.baseURLController,stream:gt,abrController:dt,domStorage:I.domStorage,playbackController:nt,mediaController:Lt,streamController:I.streamController,textController:Ut,errHandler:Ct});if(n.initialize(e),dt.updateTopQualityIndex(se),i?(n.setBuffer(i.buffer),n.getIndexHandler().setCurrentTime(i.currentTime),Tt[i.replaceIdx]=n):Tt.push(n),!i||!i.ignoreMediaInfo)if(se.type===d.default.TEXT||se.type===d.default.FRAGMENTED_TEXT){for(var r=void 0,h=0;h<Be.length;h++)Be[h].index===se.index&&(r=h),n.updateMediaInfo(Be[h]);se.type===d.default.FRAGMENTED_TEXT&&n.updateMediaInfo(Be[r])}else n.updateMediaInfo(se)}function Pe(se,Be){var e=Xe.getAllMediaInfoForType(et,se),i=null,n=void 0;if(!e||e.length===0)return void Z("No "+se+" data.");for(var r=0,h=e.length;r<h;r++)if(i=e[r],se===d.default.EMBEDDED_TEXT)Ut.addEmbeddedTrack(i);else{if(!Ie(i))continue;Lt.isMultiTrackSupportedByType(i.type)&&Lt.addTrack(i,et)}if(se!==d.default.EMBEDDED_TEXT&&Lt.getTracksFor(se,et).length!==0){if(se===d.default.IMAGE)return void(bt=(0,R.default)(W).create({dashManifestModel:ke,adapter:Xe,baseURLController:I.baseURLController,stream:gt}));Lt.checkInitialMediaSettingsForType(se,et),n=Lt.getCurrentTrackFor(se,et),de(n,e,Be)}}function P(se){z();var Be=void 0;if(kt||(kt=(0,m.default)(W).create(),kt.setConfig({manifestModel:qe,manifestUpdater:Ye,playbackController:nt}),Be=Xe.getEventsFor(et),kt.addInlineEvents(Be)),wt=!0,J(d.default.VIDEO),J(d.default.AUDIO),Pe(d.default.VIDEO,se),Pe(d.default.AUDIO,se),Pe(d.default.TEXT,se),Pe(d.default.FRAGMENTED_TEXT,se),Pe(d.default.EMBEDDED_TEXT,se),Pe(d.default.MUXED,se),Pe(d.default.IMAGE,se),ne(),Je=!0,wt=!1,Tt.length===0){var e="No streams to play.";Ct.manifestError(e,"nostreams",qe.getValue()),Z(e)}else L()}function J(se){var Be=ke.getAdaptationForType(qe.getValue(),et.index,se,et);if(!Be||!Array.isArray(Be.Representation_asArray))return null;Be.Representation_asArray=Be.Representation_asArray.filter(function(e,i){if(i===0)return!0;var n=ke.getCodec(Be,i,!0);return!!ht.supportsCodec(n)||(Z("[Stream] codec not supported: "+n),!1)})}function L(){for(var se=Tt.length,Be=!!St.audio||!!St.video,e=Be?new Error(U,"Data update failed",null):null,i=0;i<se;i++)if(Tt[i].isUpdating()||wt)return;if(Je){if(lt)for(var i=0;i<se&&Tt[i];i++)Tt[i].getType()!==d.default.AUDIO&&Tt[i].getType()!==d.default.VIDEO&&Tt[i].getType()!==d.default.FRAGMENTED_TEXT||lt.initializeForMedia(Tt[i].getMediaInfo());ye.trigger(Y.default.STREAM_INITIALIZED,{streamInfo:et,error:e})}}function k(se){for(var Be=Tt.length,e=null,i=0;i<Be;i++)if(e=Tt[i],e.getType()===se)return e.getMediaInfo();return null}function ne(){for(var se=0,Be=Tt.length;se<Be;se++)Tt[se].createBuffer()}function K(se){if(se.streamInfo===et){var Be=c(),e=Be.length;if(e===0)return void Z("[Stream] onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined");for(var i=0;i<e;i++)if(!Be[i].isBufferingCompleted()&&(Be[i].getType()===d.default.AUDIO||Be[i].getType()===d.default.VIDEO))return void Z("[Stream] onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because streamProcessor "+Be[i].getType()+" is not buffering completed");Z("[Stream] onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),ye.trigger(Y.default.STREAM_BUFFERING_COMPLETED,{streamInfo:et})}}function he(se){var Be=se.sender.getStreamProcessor();Be.getStreamInfo()===et&&(St[Be.getType()]=se.error,L())}function we(se){return!!se&&c().filter(function(Be){return Be.getType()===se.type})[0]}function c(){for(var se=Tt.length,Be=[],e=void 0,i=void 0,n=0;n<se;n++)i=Tt[n],(e=i.getType())!==d.default.AUDIO&&e!==d.default.VIDEO&&e!==d.default.FRAGMENTED_TEXT||Be.push(i);return Be}function S(se){if(Z("Manifest updated... updating data system wide."),st=!1,wt=!0,et=se,kt){var Be=Xe.getEventsFor(et);kt.addInlineEvents(Be)}J(d.default.VIDEO),J(d.default.AUDIO);for(var e=0,i=Tt.length;e<i;e++){var n=Tt[e],r=Xe.getMediaInfoForType(et,n.getType());dt.updateTopQualityIndex(r),n.updateMediaInfo(r)}if(Mt){var r=Mt.newMediaInfo;if(r.type!=="fragmentedText"){var h=we(Mt.oldMediaInfo);if(!h)return;h.switchTrackAsked(),Mt=void 0}}wt=!1,L()}var U=1;I=I||{};var W=this.context,Z=(0,x.default)(W).getInstance().log,ye=(0,M.default)(W).getInstance(),qe=I.manifestModel,ke=I.dashManifestModel,We=I.mediaPlayerModel,Ye=I.manifestUpdater,Xe=I.adapter,ht=I.capabilities,Ct=I.errHandler,Ke=I.timelineConverter,pt=I.metricsModel,dt=I.abrController,nt=I.playbackController,Lt=I.mediaController,Ut=I.textController,gt=void 0,Tt=void 0,st=void 0,Je=void 0,et=void 0,St=void 0,wt=void 0,lt=void 0,ut=void 0,bt=void 0,kt=void 0,Mt=void 0;return gt={initialize:q,activate:Q,deactivate:pe,getDuration:be,getStartTime:ie,getId:Te,getStreamInfo:ve,getFragmentController:Ee,getThumbnailController:Ae,getEventController:fe,getBitrateListFor:ce,startEventController:Se,stopEventController:De,updateData:S,reset:ee,getProcessors:c,setMediaSource:re},O(),gt}Object.defineProperty(u,"__esModule",{value:!0});var E=t(98),d=f(E),_=t(95),y=f(_),T=t(104),m=f(T),b=t(105),A=f(b),C=t(140),R=f(C),N=t(47),M=f(N),H=t(51),Y=f(H),j=t(46),x=f(j),o=t(48),G=f(o);g.__dashjs_factory_name="Stream",u.default=G.default.getClassFactory(g),p.exports=u.default},{104:104,105:105,140:140,46:46,47:47,48:48,51:51,95:95,98:98}],95:[function(t,p,u){"use strict";function f(o){return o&&o.__esModule?o:{default:o}}function g(o){function G(){Ct&&Ct.getIsDynamic()&&(wt=(0,y.default)(S).create({timelineConverter:qe,streamProcessor:Tt})),re()}function I(kt){U=(0,x.default)(S).create({mimeType:ye,timelineConverter:qe,dashMetrics:Ut,metricsModel:Lt,mediaPlayerModel:Ye,baseURLController:o.baseURLController,errHandler:Z}),U.initialize(Tt),ht.registerStreamType(W,Tt),ut=Xe.getFragmentController().getModel(W),ut.setStreamProcessor(Tt),et=c(W),St=(0,R.default)(S).create({type:W,metricsModel:Lt,adapter:ke,dashMetrics:Ut,dashManifestModel:gt,timelineConverter:qe,mediaPlayerModel:Ye,abrController:ht,playbackController:Ct,streamController:Ke,textController:dt,streamProcessor:Tt,mediaController:pt}),lt=(0,M.default)(S).create(),lt.setConfig({abrController:ht,domStorage:nt,metricsModel:Lt,dashMetrics:Ut,dashManifestModel:gt,manifestModel:We,playbackController:Ct,timelineConverter:qe,streamProcessor:Tt}),et.initialize(kt),St.initialize(),lt.initialize()}function O(kt){bt.push(kt)}function q(kt){var Mt=bt.indexOf(kt);Mt!==-1&&bt.splice(Mt,1)}function Q(){return bt}function pe(){bt=[]}function re(){Je=[],st=null,pe()}function le(kt){U.reset(),et&&(et.reset(kt),et=null),St&&(St.reset(),St=null),lt&&(lt.reset(),lt=null),ht&&ht.unRegisterStreamType(W),bt.forEach(function(Mt){Mt.reset()}),re(),W=null,Xe=null,wt&&(wt.reset(),wt=null)}function ee(){return!!lt&&lt.isUpdating()}function be(){return W}function ie(){return lt}function Te(){return U}function ve(){return Xe?Xe.getFragmentController():null}function fe(){return et.getBuffer()}function Ee(kt){et.setBuffer(kt)}function Ae(){return et}function z(){return ut}function ce(){return wt}function Se(){return Xe?Xe.getStreamInfo():null}function De(){return Xe?Xe.getEventController():null}function ae(kt){kt===st||kt&&st&&kt.type!==st.type||(st=kt),Je.indexOf(kt)===-1&&Je.push(kt),ke.updateData(this)}function me(){return Je}function Ie(){return st}function xe(){return et.getMediaSource()}function de(kt){et.setMediaSource(kt,Ie())}function Pe(){et.dischargePreBuffer()}function P(){return St}function J(){return ke.getCurrentRepresentationInfo(lt)}function L(kt){return ke.getRepresentationInfoForQuality(lt,kt)}function k(){return!!et&&et.getIsBufferingCompleted()}function ne(){return et.getBufferLevel()}function K(kt,Mt){et&&et.switchInitData(Se().id,kt,Mt)}function he(){return et.getBuffer()||et.createBuffer(st)}function we(){St.switchTrackAsked()}function c(kt){return kt===d.default.VIDEO||kt===d.default.AUDIO?(0,m.default)(S).create({type:kt,metricsModel:Lt,mediaPlayerModel:Ye,manifestModel:We,errHandler:Z,streamController:Ke,mediaController:pt,adapter:ke,textController:dt,abrController:ht,playbackController:Ct,streamProcessor:Tt}):(0,A.default)(S).create({type:kt,metricsModel:Lt,mediaPlayerModel:Ye,manifestModel:We,errHandler:Z,streamController:Ke,mediaController:pt,adapter:ke,textController:dt,abrController:ht,playbackController:Ct,streamProcessor:Tt})}o=o||{};var S=this.context,U=void 0,W=o.type,Z=o.errHandler,ye=o.mimeType,qe=o.timelineConverter,ke=o.adapter,We=o.manifestModel,Ye=o.mediaPlayerModel,Xe=o.stream,ht=o.abrController,Ct=o.playbackController,Ke=o.streamController,pt=o.mediaController,dt=o.textController,nt=o.domStorage,Lt=o.metricsModel,Ut=o.dashMetrics,gt=o.dashManifestModel,Tt=void 0,st=void 0,Je=void 0,et=void 0,St=void 0,wt=void 0,lt=void 0,ut=void 0,bt=void 0;return Tt={initialize:I,isUpdating:ee,getType:be,getBufferController:Ae,getFragmentModel:z,getScheduleController:P,getLiveEdgeFinder:ce,getEventController:De,getFragmentController:ve,getRepresentationController:ie,getIndexHandler:Te,getCurrentRepresentationInfo:J,getRepresentationInfoForQuality:L,getBufferLevel:ne,switchInitData:K,isBufferingCompleted:k,createBuffer:he,getStreamInfo:Se,updateMediaInfo:ae,switchTrackAsked:we,getMediaInfoArr:me,getMediaInfo:Ie,getMediaSource:xe,setMediaSource:de,dischargePreBuffer:Pe,getBuffer:fe,setBuffer:Ee,registerExternalController:O,unregisterExternalController:q,getExternalControllers:Q,unregisterAllExternalController:pe,reset:le},G(),Tt}Object.defineProperty(u,"__esModule",{value:!0});var E=t(98),d=f(E),_=t(151),y=f(_),T=t(103),m=f(T),b=t(136),A=f(b),C=t(109),R=f(C),N=t(59),M=f(N),H=t(48),Y=f(H),j=t(54),x=f(j);g.__dashjs_factory_name="StreamProcessor",u.default=Y.default.getClassFactory(g),p.exports=u.default},{103:103,109:109,136:136,151:151,48:48,54:54,59:59,98:98}],96:[function(t,p,u){"use strict";function f(A){return A&&A.__esModule?A:{default:A}}function g(A,C,R){return C in A?Object.defineProperty(A,C,{value:R,enumerable:!0,configurable:!0,writable:!0}):A[C]=R,A}function E(A){function C(){var Q;G=[],I=[],O=[],Q={},g(Q,d.HTTPRequest.MPD_TYPE,m.default.DOWNLOAD_ERROR_ID_MANIFEST),g(Q,d.HTTPRequest.XLINK_EXPANSION_TYPE,m.default.DOWNLOAD_ERROR_ID_XLINK),g(Q,d.HTTPRequest.INIT_SEGMENT_TYPE,m.default.DOWNLOAD_ERROR_ID_INITIALIZATION),g(Q,d.HTTPRequest.MEDIA_SEGMENT_TYPE,m.default.DOWNLOAD_ERROR_ID_CONTENT),g(Q,d.HTTPRequest.INDEX_SEGMENT_TYPE,m.default.DOWNLOAD_ERROR_ID_CONTENT),g(Q,d.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,m.default.DOWNLOAD_ERROR_ID_CONTENT),g(Q,d.HTTPRequest.OTHER_TYPE,m.default.DOWNLOAD_ERROR_ID_CONTENT),q=Q}function R(Q,pe){var re=Q.request,le=new XMLHttpRequest,ee=[],be=!0,ie=!0,Te=new Date,ve=Te,fe=0,Ee=function(Ie){ie=!1,re.requestStartDate=Te,re.requestEndDate=new Date,re.firstByteDate=re.firstByteDate||Te,re.checkExistenceOnly||Y.addHttpRequest(re.mediaType,null,re.type,re.url,le.responseURL||null,re.serviceLocation||null,re.range||null,re.requestStartDate,re.firstByteDate,re.requestEndDate,le.status,re.duration,le.getAllResponseHeaders(),Ie?ee:null)},Ae=function(){G.indexOf(le)!==-1&&(G.splice(G.indexOf(le),1),ie&&(Ee(!1),pe>0?(pe--,O.push(setTimeout(function(){R(Q,pe)},j.getRetryIntervalForType(re.type)))):(H.downloadError(q[re.type],re.url,re),Q.error&&Q.error(re,"error",le.statusText),Q.complete&&Q.complete(re,le.statusText))))},z=function(Ie){var xe=new Date;be&&(be=!1,(!Ie.lengthComputable||Ie.lengthComputable&&Ie.total!==Ie.loaded)&&(re.firstByteDate=xe)),Ie.lengthComputable&&(re.bytesLoaded=Ie.loaded,re.bytesTotal=Ie.total),ee.push({s:ve,d:xe.getTime()-ve.getTime(),b:[Ie.loaded?Ie.loaded-fe:0]}),ve=xe,fe=Ie.loaded,Q.progress&&Q.progress()},ce=function(){le.status>=200&&le.status<=299&&(Ee(!0),Q.success&&Q.success(le.response,le.statusText,le),Q.complete&&Q.complete(re,le.statusText))},Se=function(){Q.abort&&Q.abort(re,le.status)};if(!x||!Y||!H)throw new Error("config object is not correct or missing");try{var De=x.modifyRequestURL(re.url),ae=re.checkExistenceOnly?d.HTTPRequest.HEAD:d.HTTPRequest.GET;le.open(ae,De,!0),re.responseType&&(le.responseType=re.responseType),re.range&&le.setRequestHeader("Range","bytes="+re.range),re.requestStartDate||(re.requestStartDate=Te),le=x.modifyRequestHeader(le),le.withCredentials=j.getXHRWithCredentialsForType(re.type),le.onload=ce,le.onloadend=Ae,le.onerror=Ae,le.onprogress=z,le.onabort=Se;var me=new Date().getTime();isNaN(re.delayLoadingTime)||me>=re.delayLoadingTime?(G.push(le),le.send()):function(){var Ie={xhr:le};I.push(Ie),Ie.delayTimeout=setTimeout(function(){if(I.indexOf(Ie)!==-1){I.splice(I.indexOf(Ie),1);try{Te=new Date,ve=Te,G.push(Ie.xhr),Ie.xhr.send()}catch{Ie.xhr.onerror()}}},re.delayLoadingTime-me)}()}catch{le.onerror()}}function N(Q){Q.request&&R(Q,j.getRetryAttemptsForType(Q.request.type))}function M(){O.forEach(function(Q){return clearTimeout(Q)}),O=[],I.forEach(function(Q){return clearTimeout(Q.delayTimeout)}),I=[],G.forEach(function(Q){Q.onloadend=Q.onerror=Q.onprogress=void 0,Q.abort()}),G=[]}A=A||{};var H=A.errHandler,Y=A.metricsModel,j=A.mediaPlayerModel,x=A.requestModifier,o=void 0,G=void 0,I=void 0,O=void 0,q=void 0;return o={load:N,abort:M},C(),o}Object.defineProperty(u,"__esModule",{value:!0});var d=t(179),_=t(48),y=f(_),T=t(148),m=f(T);E.__dashjs_factory_name="XHRLoader";var b=y.default.getClassFactory(E);u.default=b,p.exports=u.default},{148:148,179:179,48:48}],97:[function(t,p,u){"use strict";function f(x){return x&&x.__esModule?x:{default:x}}function g(x){function o(pe,re,le){var ee=function(ie,Te){re.resolved=!0,re.resolvedContent=ie||null,q.trigger(N.default.XLINK_ELEMENT_LOADED,{element:re,resolveObject:le,error:ie||Te?null:new d.default(Y,"Failed loading Xlink element: "+pe)})};if(pe===I)ee(null,!0);else{var be=new b.default(pe,T.HTTPRequest.XLINK_TYPE);Q.load({request:be,success:function(ie){ee(ie)},error:function(){ee(null)}})}}function G(){Q&&(Q.abort(),Q=null)}x=x||{};var I="urn:mpeg:dash:resolve-to-zero:2013",O=this.context,q=(0,C.default)(O).getInstance(),Q=(0,y.default)(O).create({errHandler:x.errHandler,metricsModel:x.metricsModel,mediaPlayerModel:x.mediaPlayerModel,requestModifier:x.requestModifier});return{load:o,reset:G}}Object.defineProperty(u,"__esModule",{value:!0});var E=t(160),d=f(E),_=t(96),y=f(_),T=t(179),m=t(170),b=f(m),A=t(47),C=f(A),R=t(51),N=f(R),M=t(48),H=f(M),Y=1;g.__dashjs_factory_name="XlinkLoader";var j=H.default.getClassFactory(g);j.XLINK_LOADER_ERROR_LOADING_FAILURE=Y,H.default.updateClassFactory(g.__dashjs_factory_name,j),u.default=j,p.exports=u.default},{160:160,170:170,179:179,47:47,48:48,51:51,96:96}],98:[function(t,p,u){"use strict";function f(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(u,"__esModule",{value:!0});var g=function(){function _(y,T){for(var m=0;m<T.length;m++){var b=T[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,T,m){return T&&_(y.prototype,T),m&&_(y,m),y}}(),E=function(){function _(){f(this,_),this.init()}return g(_,[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.FRAGMENTED_TEXT="fragmentedText",this.EMBEDDED_TEXT="embeddedText",this.MUXED="muxed",this.IMAGE="image",this.LOCATION="Location",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.UTF8="utf-8",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma"}}]),_}(),d=new E;u.default=d,p.exports=u.default},{}],99:[function(t,p,u){"use strict";function f(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(u,"__esModule",{value:!0});var g=function(){function _(y,T){for(var m=0;m<T.length;m++){var b=T[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,T,m){return T&&_(y.prototype,T),m&&_(y,m),y}}(),E=function(){function _(){f(this,_),this.init()}return g(_,[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors"}}]),_}(),d=new E;u.default=d,p.exports=u.default},{}],100:[function(t,p,u){"use strict";function f(Se){return Se&&Se.__esModule?Se:{default:Se}}function g(){function Se(){B=r.log.bind(w),Ie()}function De(ue,Ue){Xt[ue]=(0,Q.default)(n).create(),Oe[ue]=Ue,tt[ue]=tt[ue]||{},tt[ue].state=fe,ai[ue]=!1,h.on(Y.default.LOADING_PROGRESS,i,this),ue==y.default.VIDEO&&(h.on(Y.default.QUALITY_CHANGE_RENDERED,Pe,this),ni=(0,re.default)(n).create(),Be()),h.on(Y.default.METRIC_ADDED,P,this),li=(0,ee.default)(n).create({mediaPlayerModel:Gt})}function ae(ue){delete Oe[ue]}function me(){V=(0,d.default)(n).create({metricsModel:di,dashMetrics:Ze,mediaPlayerModel:Gt,adapter:It}),V.initialize()}function Ie(){Me={video:!0,audio:!0},Re={},je={},ze={},Ne={},tt={},Oe={},Xt={},ai={},xt=!1,Dt=!0,Ot=!1,Wt===void 0&&(Wt=!1),ei=void 0,ni=void 0,li=void 0,clearTimeout(it),it=null}function xe(){Ie(),h.off(Y.default.LOADING_PROGRESS,i,this),h.off(Y.default.QUALITY_CHANGE_RENDERED,Pe,this),h.off(Y.default.METRIC_ADDED,P,this),V&&V.reset()}function de(ue){ue&&(ue.streamController&&(oe=ue.streamController),ue.domStorage&&(Yt=ue.domStorage),ue.mediaPlayerModel&&(Gt=ue.mediaPlayerModel),ue.metricsModel&&(di=ue.metricsModel),ue.dashMetrics&&(Ze=ue.dashMetrics),ue.dashManifestModel&&(rt=ue.dashManifestModel),ue.adapter&&(It=ue.adapter),ue.manifestModel&&(Bt=ue.manifestModel),ue.videoModel&&(Pt=ue.videoModel))}function Pe(ue){ue.mediaType===y.default.VIDEO&&(ei=ue.oldQuality,ni.push(ei,Pt.getPlaybackQuality()))}function P(ue){ue.metric!==m.default.HTTP_REQUEST||!ue.value||ue.value.type!==be.HTTPRequest.MEDIA_SEGMENT_TYPE||ue.mediaType!==y.default.AUDIO&&ue.mediaType!==y.default.VIDEO||li.push(ue.mediaType,ue.value,Dt),ue.metric!==m.default.BUFFER_LEVEL||ue.mediaType!==y.default.AUDIO&&ue.mediaType!==y.default.VIDEO||st(ue.mediaType,.001*ue.value.level)}function J(ue,Ue){var ot=void 0;return Re[Ue]=Re[Ue]||{},Re[Ue].hasOwnProperty(ue)||(Re[Ue][ue]=0),ot=kt(Re[Ue][ue],ue),ot=Mt(ot,ue,Re[Ue][ue]),ot=e(ot,ue)}function L(ue){var Ue=Yt.getSavedBitrateSettings(ue);if(!ze.hasOwnProperty(ue))if(Ne.hasOwnProperty(ue)){var ot=Bt.getValue(),mt=rt.getAdaptationForType(ot,0,ue).Representation;if(Array.isArray(mt)){var yt=Math.max(Math.round(mt.length*Ne[ue])-1,0);ze[ue]=mt[yt].bandwidth}else ze[ue]=0}else isNaN(Ue)?ze[ue]=ue===y.default.VIDEO?Ee:Ae:ze[ue]=Ue;return ze[ue]}function k(ue,Ue){ze[ue]=Ue}function ne(ue){return Ne.hasOwnProperty(ue)?Ne[ue]:null}function K(ue,Ue){Ne[ue]=Ue}function he(ue){return ze.hasOwnProperty("max")&&ze.max.hasOwnProperty(ue)?ze.max[ue]:NaN}function we(ue){return ze.hasOwnProperty("min")&&ze.min.hasOwnProperty(ue)?ze.min[ue]:NaN}function c(ue,Ue){ze.max=ze.max||{},ze.max[ue]=Ue}function S(ue,Ue){ze.min=ze.min||{},ze.min[ue]=Ue}function U(ue){var Ue=he(ue);return Ue?gt(Oe[ue].getMediaInfo(),Ue):void 0}function W(ue){var Ue=we(ue);if(Ue){var ot=Tt(Oe[ue].getMediaInfo()),mt=gt(Oe[ue].getMediaInfo(),Ue);return ot[mt]&&mt<ot.length-1&&ot[mt].bitrate<1e3*Ue&&mt++,mt}}function Z(ue){return Ne.hasOwnProperty("max")&&Ne.max.hasOwnProperty(ue)?Ne.max[ue]:1}function ye(ue,Ue){Ne.max=Ne.max||{},Ne.max[ue]=Ue}function qe(ue){return Me[ue]}function ke(ue,Ue){Me[ue]=Ue}function We(){return xt}function Ye(ue){xt=ue}function Xe(){return Ot}function ht(ue){Ot=ue}function Ct(){return Dt}function Ke(ue){Dt=ue}function pt(ue){if(ue&&Oe&&Oe[ue]){var Ue=Oe[ue].getStreamInfo(),ot=Ue?Ue.id:null,mt=lt(ue),yt=(0,G.default)(n).create({abrController:w,streamProcessor:Oe[ue],currentValue:mt,switchHistory:Xt[ue],droppedFramesHistory:ni,useBufferOccupancyABR:Je(ue)});if(ni){var Ft=Pt.getPlaybackQuality();Ft&&ni.push(ei,Ft)}if(qe(ue)){var Vt=W(ue),ii=J(ue,ot),Ti=V.getMaxQuality(yt),pi=Ti.quality;if(Vt!==void 0&&pi<Vt&&(pi=Vt),pi>ii&&(pi=ii),Xt[ue].push({oldValue:mt,newValue:pi}),pi>O.default.NO_CHANGE&&pi!=mt)(tt[ue].state===fe||pi>mt)&&nt(ue,mt,pi,ii,Ti.reason);else if(r.getLogToBrowserConsole()){var ci=Ze.getCurrentBufferLevel(di.getReadOnlyMetricsFor(ue));B("AbrController ("+ue+") stay on "+mt+"/"+ii+" (buffer: "+ci+")")}}}}function dt(ue,Ue,ot,mt){var yt=Ue.id,Ft=lt(ue);if(ot===null||isNaN(ot)||ot%1!=0)throw new Error("argument is not an integer");var Vt=J(ue,yt);ot!==Ft&&ot>=0&&ot<=Vt&&nt(ue,Ft,ot,Vt,mt)}function nt(ue,Ue,ot,mt,yt){if(ue&&Oe[ue]){var Ft=Oe[ue].getStreamInfo(),Vt=Ft?Ft.id:null;if(r.getLogToBrowserConsole()){var ii=Ze.getCurrentBufferLevel(di.getReadOnlyMetricsFor(ue));B("AbrController ("+ue+") switch from "+Ue+" to "+ot+"/"+mt+" (buffer: "+ii+") "+(yt?JSON.stringify(yt):"."))}ut(ue,Vt,ot),h.trigger(Y.default.QUALITY_CHANGE_REQUESTED,{mediaType:ue,streamInfo:Ft,oldQuality:Ue,newQuality:ot,reason:yt})}}function Lt(ue,Ue){tt[ue].state=Ue}function Ut(ue){return tt[ue]?tt[ue].state:null}function gt(ue,Ue,ot){if(Dt&&ot&&Oe[ue.type].getCurrentRepresentationInfo()&&Oe[ue.type].getCurrentRepresentationInfo().fragmentDuration){ot/=1e3;var mt=Oe[ue.type].getCurrentRepresentationInfo().fragmentDuration;if(ot>mt)return 0;Ue*=1-ot/mt}var yt=Tt(ue);if(!yt||yt.length===0)return z;for(var Ft=yt.length-1;Ft>=0;Ft--)if(1e3*Ue>=yt[Ft].bitrate)return Ft;return 0}function Tt(ue){if(!ue||!ue.bitrateList)return null;for(var Ue=ue.bitrateList,ot=ue.type,mt=[],yt=void 0,Ft=0,Vt=Ue.length;Ft<Vt;Ft++)yt=new A.default,yt.mediaType=ot,yt.qualityIndex=Ft,yt.bitrate=Ue[Ft].bandwidth,yt.width=Ue[Ft].width,yt.height=Ue[Ft].height,yt.scanType=Ue[Ft].scanType,mt.push(yt);return mt}function st(ue,Ue){var ot=Gt.getABRStrategy();if(ot===y.default.ABR_STRATEGY_BOLA)return void(ai[ue]=!0);if(ot===y.default.ABR_STRATEGY_THROUGHPUT)return void(ai[ue]=!1);var mt=Gt.getStableBufferTime(),yt=mt,Ft=.5*mt,Vt=ai[ue],ii=Ue>(Vt?Ft:yt);ai[ue]=ii,ii!==Vt&&B(ii?"AbrController ("+ue+") switching from throughput to buffer occupancy ABR rule (buffer: "+Ue.toFixed(3)+").":"AbrController ("+ue+") switching from buffer occupancy to throughput ABR rule (buffer: "+Ue.toFixed(3)+").")}function Je(ue){return ai[ue]}function et(){return li}function St(ue){var Ue=ue.type,ot=ue.streamInfo.id,mt=ue.representationCount-1;return bt(Ue,ot,mt),mt}function wt(ue){var Ue=ue.id,ot=lt(y.default.AUDIO),mt=lt(y.default.VIDEO);return ot===J(y.default.AUDIO,Ue)&&mt===J(y.default.VIDEO,Ue)}function lt(ue){if(ue&&Oe[ue]){var Ue=Oe[ue].getStreamInfo(),ot=Ue?Ue.id:null;if(ot)return je[ot]=je[ot]||{},je[ot].hasOwnProperty(ue)||(je[ot][ue]=z),je[ot][ue]}return z}function ut(ue,Ue,ot){je[Ue]=je[Ue]||{},je[Ue][ue]=ot}function bt(ue,Ue,ot){Re[Ue]=Re[Ue]||{},Re[Ue][ue]=ot}function kt(ue,Ue){var ot=ue;if(!Oe[Ue])return ot;var mt=W(Ue);mt!==void 0&&(ot=Math.max(ue,mt));var yt=U(Ue);return yt!==void 0&&(ot=Math.min(ot,yt)),ot}function Mt(ue,Ue,ot){var mt=Z(Ue);return isNaN(mt)||mt>=1||mt<0?ue:Math.min(ue,Math.round(ot*mt))}function se(ue){Wt=ue}function Be(){if(Pt){var ue=Ot&&window.hasOwnProperty("devicePixelRatio"),Ue=ue?window.devicePixelRatio:1;zt=Pt.getClientWidth()*Ue,qt=Pt.getClientHeight()*Ue}}function e(ue,Ue){if(Ue!==y.default.VIDEO||!xt||!Oe[Ue])return ue;Wt||Be();var ot=Bt.getValue(),mt=rt.getAdaptationForType(ot,0,Ue).Representation,yt=ue;if(zt>0&&qt>0){for(;yt>0&&mt[yt]&&zt<mt[yt].width&&zt-mt[yt-1].width<mt[yt].width-zt;)yt-=1;mt.length-2>=yt&&mt[yt].width===mt[yt+1].width&&(yt=Math.min(ue,yt+1))}return yt}function i(ue){var Ue=ue.request.mediaType;if(qe(Ue)){var ot=Oe[Ue];if(!ot)return;var mt=(0,G.default)(n).create({abrController:w,streamProcessor:ot,currentRequest:ue.request,useBufferOccupancyABR:Je(Ue)}),yt=V.shouldAbandonFragment(mt);if(yt.quality>O.default.NO_CHANGE){var Ft=ot.getFragmentModel();Ft.getRequests({state:R.default.FRAGMENT_MODEL_LOADING,index:ue.request.index})[0]&&(Ft.abortRequests(),Lt(Ue,ve),Xt[Ue].reset(),Xt[Ue].push({oldValue:lt(Ue,oe.getActiveStreamInfo()),newValue:yt.quality,confidence:1,reason:yt.reason}),dt(Ue,oe.getActiveStreamInfo(),yt.quality,yt.reason),clearTimeout(it),it=setTimeout(function(){Lt(Ue,fe),it=null},Gt.getAbandonLoadTimeout()))}}}var n=this.context,r=(0,Te.default)(n).getInstance(),h=(0,M.default)(n).getInstance(),w=void 0,B=void 0,V=void 0,oe=void 0,Me=void 0,Re=void 0,je=void 0,ze=void 0,Ne=void 0,Oe=void 0,tt=void 0,it=void 0,xt=void 0,Ot=void 0,Wt=void 0,zt=void 0,qt=void 0,Bt=void 0,rt=void 0,It=void 0,Pt=void 0,Gt=void 0,Yt=void 0,ei=void 0,Xt=void 0,ni=void 0,li=void 0,ai=void 0,di=void 0,Ze=void 0,Dt=void 0;return w={isPlayingAtTopQuality:wt,updateTopQualityIndex:St,getThroughputHistory:et,getBitrateList:Tt,getQualityForBitrate:gt,getMaxAllowedBitrateFor:he,getMinAllowedBitrateFor:we,setMaxAllowedBitrateFor:c,setMinAllowedBitrateFor:S,getMaxAllowedIndexFor:U,getMinAllowedIndexFor:W,getMaxAllowedRepresentationRatioFor:Z,setMaxAllowedRepresentationRatioFor:ye,getInitialBitrateFor:L,setInitialBitrateFor:k,getInitialRepresentationRatioFor:ne,setInitialRepresentationRatioFor:K,setAutoSwitchBitrateFor:ke,getAutoSwitchBitrateFor:qe,getUseDeadTimeLatency:Ct,setUseDeadTimeLatency:Ke,setLimitBitrateByPortal:Ye,getLimitBitrateByPortal:We,getUsePixelRatioInLimitBitrateByPortal:Xe,setUsePixelRatioInLimitBitrateByPortal:ht,getQualityFor:lt,getAbandonmentStateFor:Ut,setPlaybackQuality:dt,checkPlaybackQuality:pt,getTopQualityIndexFor:J,setElementSize:Be,setWindowResizeEventCalled:se,createAbrRulesCollection:me,registerStreamType:De,unRegisterStreamType:ae,setConfig:de,reset:xe},Se(),w}Object.defineProperty(u,"__esModule",{value:!0});var E=t(125),d=f(E),_=t(98),y=f(_),T=t(99),m=f(T),b=t(159),A=f(b),C=t(114),R=f(C),N=t(47),M=f(N),H=t(51),Y=f(H),j=t(48),x=f(j),o=t(121),G=f(o),I=t(122),O=f(I),q=t(123),Q=f(q),pe=t(120),re=f(pe),le=t(124),ee=f(le),be=t(179),ie=t(46),Te=f(ie),ve="abandonload",fe="allowload",Ee=1e3,Ae=100,z=0;g.__dashjs_factory_name="AbrController";var ce=x.default.getSingletonFactory(g);ce.ABANDON_LOAD=ve,ce.QUALITY_DEFAULT=z,x.default.updateSingletonFactory(g.__dashjs_factory_name,ce),u.default=ce,p.exports=u.default},{114:114,120:120,121:121,122:122,123:123,124:124,125:125,159:159,179:179,46:46,47:47,48:48,51:51,98:98,99:99}],101:[function(t,p,u){"use strict";function f(j){return j&&j.__esModule?j:{default:j}}function g(){function j(Te){be.invalidateSelectedIndexes(Te.entry)}function x(){be=(0,d.default)(re).create(),ie=(0,y.default)(re).create(),le.on(Y.default.SERVICE_LOCATION_BLACKLIST_CHANGED,j,Q)}function o(Te){Te.baseURLTreeModel&&(be=Te.baseURLTreeModel),Te.baseURLSelector&&(ie=Te.baseURLSelector),Te.dashManifestModel&&(pe=Te.dashManifestModel)}function G(Te){be.update(Te),ie.chooseSelectorFromManifest(Te)}function I(Te){var ve=be.getForPath(Te),fe=ve.reduce(function(Ee,Ae){var z=ie.select(Ae);return z?(ee.isRelative(z.url)?Ee.url=ee.resolve(z.url,Ee.url):(Ee.url=z.url,Ee.serviceLocation=z.serviceLocation),Ee):new A.default},new A.default);if(!ee.isRelative(fe.url))return fe}function O(){be.reset(),ie.reset()}function q(Te){be.setConfig({dashManifestModel:pe}),ie.setConfig({dashManifestModel:pe}),G(Te)}var Q=void 0,pe=void 0,re=this.context,le=(0,M.default)(re).getInstance(),ee=(0,m.default)(re).getInstance(),be=void 0,ie=void 0;return Q={reset:O,initialize:q,resolve:I,setConfig:o},x(),Q}Object.defineProperty(u,"__esModule",{value:!0});var E=t(113),d=f(E),_=t(142),y=f(_),T=t(155),m=f(T),b=t(79),A=f(b),C=t(48),R=f(C),N=t(47),M=f(N),H=t(51),Y=f(H);g.__dashjs_factory_name="BaseURLController",u.default=R.default.getSingletonFactory(g),p.exports=u.default},{113:113,142:142,155:155,47:47,48:48,51:51,79:79}],102:[function(t,p,u){"use strict";function f(T){return T&&T.__esModule?T:{default:T}}function g(T){function m(j){return!!(N.length&&j&&j.length)&&N.indexOf(j)!==-1}function b(j){N.indexOf(j)===-1&&(N.push(j),M.trigger(H,{entry:j}))}function A(j){b(j.entry)}function C(){Y&&M.on(Y,A,this)}function R(){N=[]}T=T||{};var N=[],M=(0,y.default)(this.context).getInstance(),H=T.updateEventName,Y=T.addBlacklistEventName;return C(),{add:b,contains:m,reset:R}}Object.defineProperty(u,"__esModule",{value:!0});var E=t(48),d=f(E),_=t(47),y=f(_);g.__dashjs_factory_name="BlackListController",u.default=d.default.getClassFactory(g),p.exports=u.default},{47:47,48:48}],103:[function(t,p,u){"use strict";function f(z){return z&&z.__esModule?z:{default:z}}function g(z){function ce(){Oe=(0,Q.default)(e).getInstance().log.bind(Ne),ei=(0,re.default)(e).getInstance(),se()}function Se(){return Ee}function De(Ze){wt(Ze),tt=Me.getQualityFor(je,ze.getStreamInfo()),i.on(x.default.DATA_UPDATE_COMPLETED,dt,this),i.on(x.default.INIT_FRAGMENT_LOADED,xe,this),i.on(x.default.MEDIA_FRAGMENT_LOADED,Pe,this),i.on(x.default.QUALITY_CHANGE_REQUESTED,k,this),i.on(x.default.STREAM_COMPLETED,nt,this),i.on(x.default.PLAYBACK_PROGRESS,c,this),i.on(x.default.PLAYBACK_TIME_UPDATED,c,this),i.on(x.default.PLAYBACK_RATE_CHANGED,gt,this),i.on(x.default.PLAYBACK_SEEKING,ne,this),i.on(x.default.WALLCLOCK_TIME_UPDATED,Ut,this),i.on(x.default.CURRENT_TRACK_CHANGED,Lt,this,Y.default.EVENT_PRIORITY_HIGH),i.on(x.default.SOURCEBUFFER_REMOVE_COMPLETED,Ke,this)}function ae(Ze){if(!ei||!Ze||!ze)return null;if(Wt)try{Bt=(0,m.default)(e).create(Wt,Ze,L.bind(this)),typeof Bt.getBuffer().initialize=="function"&&Bt.getBuffer().initialize(je,ze)}catch(Dt){Oe("Caught error on create SourceBuffer: "+Dt),h.mediaSourceError("Error creating "+je+" source buffer.")}else Bt=(0,A.default)(e).create(L.bind(this));pt(ze.getRepresentationInfoForQuality(tt).MSETimeOffset)}function me(){if(Bt&&rt&&typeof rt.discharge=="function"){var Ze=rt.getAllBufferRanges();if(Ze.length>0){for(var Dt="Beginning "+je+"PreBuffer discharge, adding buffer for:",ue=0;ue<Ze.length;ue++)Dt+=" start: "+Ze.start(ue)+", end: "+Ze.end(ue)+";";Oe(Dt)}else Oe("PreBuffer discharge requested, but there were no media segments in the PreBuffer.");for(var Ue=rt.discharge(),ot=null,mt=0;mt<Ue.length;mt++){var yt=Ue[mt],Ft=ei.extract(yt.streamId,yt.representationId);Ft&&(ot!==Ft&&(Bt.append(Ft),ot=Ft),Bt.append(yt))}rt.reset(),rt=null}}function Ie(){return!(!ze||!w)&&ze.getStreamInfo().id===w.getActiveStreamInfo().id}function xe(Ze){Ze.fragmentModel===ze.getFragmentModel()&&(Oe("Init fragment finished loading saving to",je+"'s init cache"),ei.save(Ze.chunk),Oe("Append Init fragment",je," with representationId:",Ze.chunk.representationId," and quality:",Ze.chunk.quality),P(Ze.chunk))}function de(Ze,Dt,ue){var Ue=ei.extract(Ze,Dt);ai=ue===!0&&ue,Ue?(Oe("Append Init fragment",je," with representationId:",Ue.representationId," and quality:",Ue.quality),P(Ue)):i.trigger(x.default.INIT_REQUESTED,{sender:Ne})}function Pe(Ze){if(Ze.fragmentModel===ze.getFragmentModel()){var Dt=Ze.chunk,ue=Dt.bytes,Ue=Dt.quality,ot=ze.getRepresentationInfoForQuality(Ue),mt=V.getEventsFor(ot.mediaInfo,ze),yt=V.getEventsFor(ot,ze);if(mt&&mt.length>0||yt&&yt.length>0){var Ft=ze.getFragmentModel().getRequests({state:y.default.FRAGMENT_MODEL_EXECUTED,quality:Ue,index:Dt.index})[0],Vt=We(ue,Ft,mt,yt);ze.getEventController().addInbandEvents(Vt)}if(ai){di=Dt;var ii=Bt&&Bt.getAllBufferRanges();ii&&ii.length>0&&Re.getTimeToStreamEnd()>ie&&(Oe("Clearing buffer because track changed - "+(ii.end(ii.length-1)+Te)),ht([{start:0,end:ii.end(ii.length-1)+Te,force:!0}]))}else P(Dt)}}function P(Ze){Bt.append(Ze),Ze.mediaInfo.type===d.default.VIDEO&&i.trigger(x.default.VIDEO_CHUNK_RECEIVED,{chunk:Ze})}function J(Ze){if(Ze&&Ze.length>0)for(var Dt=0,ue=Ze.length;Dt<ue;Dt++)Oe("Buffered Range for type:",je,":",Ze.start(Dt)," - ",Ze.end(Dt)," currentTime = ",Re.getTime())}function L(Ze){if(Ze.error){if(Ze.error.code===fe&&(Ot=.8*kt(),Oe("Quota exceeded for type: "+je+", Critical Buffer: "+Ot),Ot>0)){var Dt=Math.max(.2*Ot,1),ue=Ot-Dt;r.setBufferToKeep(parseFloat(Dt).toFixed(5)),r.setBufferAheadToKeep(parseFloat(ue).toFixed(5))}return void(Ze.error.code!==fe&&Mt()||(Oe("Clearing playback buffer to overcome quota exceed situation for type: "+je),i.trigger(x.default.QUOTA_EXCEEDED,{sender:Ne,criticalBufferLevel:Ot}),K()))}(Pt=Ze.chunk)&&!isNaN(Pt.index)&&(zt=Math.max(Pt.index,zt),ye());var Ue=Bt.getAllBufferRanges();if(Pt.segmentType===le.HTTPRequest.MEDIA_SEGMENT_TYPE)J(Ue),c();else if(ai){var ot=Re.getTime();Oe("[BufferController][",je,"] appendToBuffer seek target should be "+ot),ze.getScheduleController().setSeekTarget(ot),V.setIndexHandlerTime(ze,ot)}Oe("[BufferController][",je,"] onAppended chunk type = ",Pt.segmentType," and index = ",Pt.index),Pt&&i.trigger(x.default.BYTES_APPENDED,{sender:Ne,quality:Pt.quality,startTime:Pt.start,index:Pt.index,bufferedRanges:Ue})}function k(Ze){tt!==Ze.newQuality&&je===Ze.mediaType&&ze.getStreamInfo().id===Ze.streamInfo.id&&(pt(ze.getRepresentationInfoForQuality(Ze.newQuality).MSETimeOffset),tt=Ze.newQuality)}function ne(){it&&(ni=!0,it=!1,qt=Number.POSITIVE_INFINITY),je!==d.default.FRAGMENTED_TEXT?K():c(),Xt=void 0}function K(){var Ze=he();Ze&&Ze.length!==0||c(),ht(Ze)}function he(){var Ze=[],Dt=Bt.getAllBufferRanges();if(!Dt||Dt.length===0)return Ze;var ue=Re.getTime(),Ue=Dt.end(Dt.length-1)+Te,ot=ze.getFragmentModel().getRequests({state:y.default.FRAGMENT_MODEL_EXECUTED,time:ue,threshold:ve})[0];if(ot){var mt={start:0,end:ot.startTime-ie},yt=ze.getFragmentModel().getRequests({state:y.default.FRAGMENT_MODEL_EXECUTED,time:ot.startTime-ot.duration/2,threshold:ve})[0];yt&&yt.startTime!=ot.startTime&&(mt.end=yt.startTime),mt.start<mt.end&&mt.end>Dt.start(0)&&Ze.push(mt);var Ft={start:ot.startTime+ot.duration+ie,end:Ue},Vt=ze.getFragmentModel().getRequests({state:y.default.FRAGMENT_MODEL_EXECUTED,time:ot.startTime+ot.duration+ie,threshold:ve})[0];Vt&&Vt.startTime!==ot.startTime&&(Ft.start=Vt.startTime+Vt.duration+ie),Ft.start<Ft.end&&Ft.start<Ue&&Ze.push(Ft)}else Oe("getAllRangesWithSafetyFactor for",je,"- No request found in current time position, removing full buffer 0 -",Ue),Ze.push({start:0,end:Ue});return Ze}function we(){var Ze=Re.getTime();if(Xt){var Dt=Bt.getAllBufferRanges();Dt&&Dt.length&&(Ze=Math.max(Dt.start(0),Xt))}return Ze}function c(){ai||(W(),Z())}function S(Ze,Dt){var ue=Bt.getAllBufferRanges(),Ue=0,ot=0,mt=null,yt=null,Ft=0,Vt=void 0,ii=void 0,Ti=Dt||.15;if(ue!=null){for(ii=0,Vt=ue.length;ii<Vt;ii++)if(Ue=ue.start(ii),ot=ue.end(ii),mt===null)Ft=Math.abs(Ue-Ze),(Ze>=Ue&&Ze<ot||Ft<=Ti)&&(mt=Ue,yt=ot);else{if(!((Ft=Ue-yt)<=Ti))break;yt=ot}if(mt!==null)return{start:mt,end:yt}}return null}function U(Ze,Dt){var ue=void 0;return ue=S(Ze,Dt),ue===null?0:ue.end-Ze}function W(){Re&&(xt=U(we()||0),i.trigger(x.default.BUFFER_LEVEL_UPDATED,{sender:Ne,bufferLevel:xt}),qe())}function Z(){Ie()&&(n.addBufferState(je,It,ze.getScheduleController().getBufferTarget()),n.addBufferLevel(je,new Date,1e3*xt))}function ye(){zt>=qt-1&&!it&&Bt.discharge===void 0&&(it=!0,Oe("[BufferController]["+je+"] checkIfBufferingCompleted trigger BUFFERING_COMPLETED"),i.trigger(x.default.BUFFERING_COMPLETED,{sender:Ne,streamInfo:ze.getStreamInfo()}))}function qe(){je!=="audio"&&je!=="video"||(ni&&!it&&Re&&Re.getTimeToStreamEnd()-xt<ie&&(ni=!1,it=!0,Oe("[BufferController]["+je+"] checkIfSufficientBuffer trigger BUFFERING_COMPLETED"),i.trigger(x.default.BUFFERING_COMPLETED,{sender:Ne,streamInfo:ze.getStreamInfo()})),xt<ie&&!it?ke(be):(it||xt>=r.getStableBufferTime())&&ke(ee))}function ke(Ze){It===Ze||je===d.default.FRAGMENTED_TEXT&&oe.getAllTracksAreDisabled()||(It=Ze,Z(),i.trigger(x.default.BUFFER_LEVEL_STATE_CHANGED,{sender:Ne,state:Ze,mediaType:je,streamInfo:ze.getStreamInfo()}),i.trigger(Ze===ee?x.default.BUFFER_LOADED:x.default.BUFFER_EMPTY,{mediaType:je}),Oe(Ze===ee?"Got enough buffer to start for "+je:"Waiting for more buffer before starting playback for "+je))}function We(Ze,Dt,ue,Ue){for(var ot=Math.max(isNaN(Dt.startTime)?0:Dt.startTime,0),mt=[],yt=[],Ft=ue.concat(Ue),Vt=0,ii=Ft.length;Vt<ii;Vt++)mt[Ft[Vt].schemeIdUri]=Ft[Vt];for(var Ti=(0,G.default)(e).getInstance().parse(Ze),pi=Ti.getBoxes("emsg"),Vt=0,ii=pi.length;Vt<ii;Vt++){var ci=V.getEvent(pi[Vt],mt,ot);ci&&yt.push(ci)}return yt}function Ye(){Bt&&je!==d.default.FRAGMENTED_TEXT&&(it||ht(Xe()))}function Xe(){var Ze=[],Dt=Bt.getAllBufferRanges();if(!Dt||Dt.length===0)return Ze;var ue=Re.getTime(),Ue={start:Math.max(0,ue-r.getBufferToKeep()),end:ue+r.getBufferAheadToKeep()},ot=ze.getFragmentModel().getRequests({state:y.default.FRAGMENT_MODEL_EXECUTED,time:ue,threshold:ve})[0];if(ot&&(Ue.start=Math.min(ot.startTime,Ue.start),Ue.end=Math.max(ot.startTime+ot.duration,Ue.end)),Oe("getClearRanges for",je,"- Remove buffer out of ",Ue.start," - ",Ue.end),Dt.start(0)<=Ue.start){for(var mt={start:0,end:Ue.start},yt=0;yt<Dt.length&&Dt.end(yt)<=Ue.start;yt++)mt.end=Dt.end(yt);mt.start<mt.end&&Ze.push(mt)}if(Dt.end(Dt.length-1)>=Ue.end){var Ft={start:Ue.end,end:Dt.end(Dt.length-1)+ve};Ft.start<Ft.end&&Ze.push(Ft)}return Ze}function ht(Ze){Ze&&Bt&&Ze.length!==0&&(li.push.apply(li,Ze),Yt||Ct())}function Ct(){if(li.length!==0){var Ze=li.shift();Oe("Removing",je,"buffer from:",Ze.start,"to",Ze.end),Yt=!0;var Dt=Re.getTime();Dt<Ze.end&&(it=!1,zt=0,ai||(ze.getScheduleController().setSeekTarget(Dt),V.setIndexHandlerTime(ze,Dt))),Bt.remove(Ze.start,Ze.end,Ze.force)}}function Ke(Ze){Bt===Ze.buffer&&(Oe("[BufferController][",je,"] onRemoved buffer from:",Ze.from,"to",Ze.to),J(Bt.getAllBufferRanges()),li.length===0&&(Yt=!1),Yt?Ct():(ai?(ai=!1,P(di)):(Oe("onRemoved : call updateBufferLevel"),W()),i.trigger(x.default.BUFFER_CLEARED,{sender:Ne,from:Ze.from,to:Ze.to,hasEnoughSpaceToAppend:Mt()})))}function pt(Ze){var Dt=Bt&&Bt.getBuffer?Bt.getBuffer():null;Dt&&Dt.timestampOffset!==Ze&&!isNaN(Ze)&&(Dt.timestampOffset=Ze)}function dt(Ze){Ze.sender.getStreamProcessor()!==ze||Ze.error||pt(Ze.currentRepresentation.MSETimeOffset)}function nt(Ze){Ze.fragmentModel===ze.getFragmentModel()&&(qt=Ze.request.index,ye())}function Lt(Ze){var Dt=Bt&&Bt.getAllBufferRanges();Dt&&Ze.newMediaInfo.type===je&&Ze.newMediaInfo.streamInfo.id===ze.getStreamInfo().id&&(Oe("[BufferController]["+je+"] track change asked"),B.getSwitchMode(je)===M.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&Dt&&Dt.length>0&&Re.getTimeToStreamEnd()>ie&&(it=!1,qt=Number.POSITIVE_INFINITY,ze.getFragmentModel().abortRequests()))}function Ut(){++Gt*(r.getWallclockTimeUpdateInterval()/1e3)>=r.getBufferPruningInterval()&&(Gt=0,Ye())}function gt(){qe()}function Tt(){return je}function st(){return ze}function Je(Ze){Xt=Ze}function et(){return Bt}function St(){return xt}function wt(Ze,Dt){Wt=Ze,Bt&&Dt&&typeof Bt.discharge=="function"&&(rt=Bt,ae(Dt))}function lt(){return Wt}function ut(){return it}function bt(){return Yt}function kt(){var Ze=Bt.getAllBufferRanges(),Dt=0,ue=void 0,Ue=void 0;if(!Ze)return Dt;for(Ue=0,ue=Ze.length;Ue<ue;Ue++)Dt+=Ze.end(Ue)-Ze.start(Ue);return Dt}function Mt(){return kt()<Ot}function se(Ze){Ot=Number.POSITIVE_INFINITY,It=be,tt=R.default.QUALITY_DEFAULT,qt=Number.POSITIVE_INFINITY,zt=0,Pt=null,it=!1,Yt=!1,ni=!1,xt=0,Gt=0,li=[],Bt&&(Ze||Bt.abort(),Bt.reset(),Bt=null),ai=!1}function Be(Ze){i.off(x.default.DATA_UPDATE_COMPLETED,dt,this),i.off(x.default.QUALITY_CHANGE_REQUESTED,k,this),i.off(x.default.INIT_FRAGMENT_LOADED,xe,this),i.off(x.default.MEDIA_FRAGMENT_LOADED,Pe,this),i.off(x.default.STREAM_COMPLETED,nt,this),i.off(x.default.CURRENT_TRACK_CHANGED,Lt,this),i.off(x.default.PLAYBACK_PROGRESS,c,this),i.off(x.default.PLAYBACK_TIME_UPDATED,c,this),i.off(x.default.PLAYBACK_RATE_CHANGED,gt,this),i.off(x.default.PLAYBACK_SEEKING,ne,this),i.off(x.default.WALLCLOCK_TIME_UPDATED,Ut,this),i.off(x.default.SOURCEBUFFER_REMOVE_COMPLETED,Ke,this),se(Ze)}z=z||{};var e=this.context,i=(0,Y.default)(e).getInstance(),n=z.metricsModel,r=z.mediaPlayerModel,h=z.errHandler,w=z.streamController,B=z.mediaController,V=z.adapter,oe=z.textController,Me=z.abrController,Re=z.playbackController,je=z.type,ze=z.streamProcessor,Ne=void 0,Oe=void 0,tt=void 0,it=void 0,xt=void 0,Ot=void 0,Wt=void 0,zt=void 0,qt=void 0,Bt=void 0,rt=void 0,It=void 0,Pt=void 0,Gt=void 0,Yt=void 0,ei=void 0,Xt=void 0,ni=void 0,li=void 0,ai=void 0,di=void 0;return Ne={getBufferControllerType:Se,initialize:De,createBuffer:ae,dischargePreBuffer:me,getType:Tt,getStreamProcessor:st,setSeekStartTime:Je,getBuffer:et,getBufferLevel:St,getRangeAt:S,setMediaSource:wt,getMediaSource:lt,getIsBufferingCompleted:ut,switchInitData:de,getIsPruningInProgress:bt,reset:Be},ce(),Ne}Object.defineProperty(u,"__esModule",{value:!0});var E=t(98),d=f(E),_=t(114),y=f(_),T=t(93),m=f(T),b=t(92),A=f(b),C=t(100),R=f(C),N=t(106),M=f(N),H=t(47),Y=f(H),j=t(51),x=f(j),o=t(143),G=f(o),I=t(48),O=f(I),q=t(46),Q=f(q),pe=t(149),re=f(pe),le=t(179),ee="bufferLoaded",be="bufferStalled",ie=.5,Te=.5,ve=.01,fe=22,Ee="BufferController";g.__dashjs_factory_name=Ee;var Ae=O.default.getClassFactory(g);Ae.BUFFER_LOADED=ee,Ae.BUFFER_EMPTY=be,O.default.updateClassFactory(g.__dashjs_factory_name,Ae),u.default=Ae,p.exports=u.default},{100:100,106:106,114:114,143:143,149:149,179:179,46:46,47:47,48:48,51:51,92:92,93:93,98:98}],104:[function(t,p,u){"use strict";function f(C){return C&&C.__esModule?C:{default:C}}function g(){function C(){R()}function R(){ae=!1,Te={},ve={},fe={},Ee=null,Ae=100,z=Ae/1e3}function N(){if(!ce||!Se||!De)throw new Error("setConfig function has to be called previously")}function M(){Ee!==null&&ae&&(clearInterval(Ee),Ee=null,ae=!1)}function H(){N(),ee("Start Event Controller"),ae||isNaN(Ae)||(ae=!0,Ee=setInterval(G,Ae))}function Y(me){if(N(),Te={},me)for(var Ie=0;Ie<me.length;Ie++){var xe=me[Ie];Te[xe.id]=xe,ee("Add inline event with id "+xe.id)}ee("Added "+me.length+" inline events")}function j(me){N();for(var Ie=0;Ie<me.length;Ie++){var xe=me[Ie];xe.id in ve?ee("Repeated event with id "+xe.id):(xe.eventStream.schemeIdUri===pe&&ve[xe.id]===void 0&&x(xe),ve[xe.id]=xe,ee("Add inband event with id "+xe.id))}}function x(me){if(me.eventStream.value==re){var Ie=me.eventStream.timescale||1,xe=me.presentationTime/Ie,de=void 0;de=me.presentationTime==4294967295?NaN:(me.presentationTime+me.duration)/Ie,ee("Manifest validity changed: Valid until: "+xe+"; remaining duration: "+de),be.trigger(A.default.MANIFEST_VALIDITY_CHANGED,{id:me.id,validUntil:xe,newDuration:de,newManifestValidAfter:NaN})}}function o(){if(fe)for(var me=De.getTime(),Ie=Object.keys(fe),xe=0;xe<Ie.length;xe++){var de=Ie[xe],Pe=fe[de];Pe!==null&&(Pe.duration+Pe.presentationTime)/Pe.eventStream.timescale<me&&(ee("Remove Event "+de+" at time "+me),Pe=null,delete fe[de])}}function G(){O(ve),O(Te),o()}function I(){N(),Se.refreshManifest()}function O(me){var Ie,xe=De.getTime();if(me)for(var de=Object.keys(me),Pe=0;Pe<de.length;Pe++){var P=de[Pe],J=me[P];J!==void 0&&((Ie=J.presentationTime/J.eventStream.timescale)==0||Ie<=xe&&Ie+z>xe)&&(ee("Start Event "+P+" at "+xe),J.duration>0&&(fe[P]=J),J.eventStream.schemeIdUri==pe&&J.eventStream.value==re?J.duration===0&&J.presentationTimeDelta===0||I():be.trigger(J.eventStream.schemeIdUri,{event:J}),delete me[P])}}function q(me){me&&(me.manifestModel&&(ce=me.manifestModel),me.manifestUpdater&&(Se=me.manifestUpdater),me.playbackController&&(De=me.playbackController))}function Q(){M(),R()}var pe="urn:mpeg:dash:event:2012",re=1,le=this.context,ee=(0,y.default)(le).getInstance().log,be=(0,m.default)(le).getInstance(),ie=void 0,Te=void 0,ve=void 0,fe=void 0,Ee=void 0,Ae=void 0,z=void 0,ce=void 0,Se=void 0,De=void 0,ae=void 0;return ie={addInlineEvents:Y,addInbandEvents:j,stop:M,start:H,setConfig:q,reset:Q},C(),ie}Object.defineProperty(u,"__esModule",{value:!0});var E=t(48),d=f(E),_=t(46),y=f(_),T=t(47),m=f(T),b=t(51),A=f(b);g.__dashjs_factory_name="EventController",u.default=d.default.getClassFactory(g),p.exports=u.default},{46:46,47:47,48:48,51:51}],105:[function(t,p,u){"use strict";function f(O){return O&&O.__esModule?O:{default:O}}function g(O){function q(){re(),ve.on(j.default.FRAGMENT_LOADING_COMPLETED,be,z)}function Q(Se){var De=ce[Se];return De||(De=(0,b.default)(ie).create({metricsModel:Ae,fragmentLoader:(0,C.default)(ie).create({metricsModel:Ae,mediaPlayerModel:Ee,errHandler:fe,requestModifier:(0,N.default)(ie).getInstance()})}),ce[Se]=De),De}function pe(Se){return Se&&Se.type&&Se.type===_.HTTPRequest.INIT_SEGMENT_TYPE}function re(){for(var Se in ce)ce[Se].reset();ce={}}function le(){ve.off(j.default.FRAGMENT_LOADING_COMPLETED,be,this),re()}function ee(Se,De,ae){var me=new T.default;return me.streamId=ae,me.mediaInfo=De.mediaInfo,me.segmentType=De.type,me.start=De.startTime,me.duration=De.duration,me.end=me.start+me.duration,me.bytes=Se,me.index=De.index,me.quality=De.quality,me.representationId=De.representationId,me}function be(Se){if(ce[Se.request.mediaType]===Se.sender){var De=Se.request,ae=Se.response,me=pe(De),Ie=De.mediaInfo.streamInfo;if(Se.error&&(Se.request.mediaType!==d.default.AUDIO&&Se.request.mediaType!==d.default.VIDEO||ve.trigger(j.default.SERVICE_LOCATION_BLACKLIST_ADD,{entry:Se.request.serviceLocation})),!ae||!Ie)return void Te("No "+De.mediaType+" bytes to push or stream is inactive.");var xe=ee(ae,De,Ie.id);ve.trigger(me?j.default.INIT_FRAGMENT_LOADED:j.default.MEDIA_FRAGMENT_LOADED,{chunk:xe,fragmentModel:Se.sender})}}O=O||{};var ie=this.context,Te=(0,I.default)(ie).getInstance().log,ve=(0,H.default)(ie).getInstance(),fe=O.errHandler,Ee=O.mediaPlayerModel,Ae=O.metricsModel,z=void 0,ce=void 0;return z={getModel:Q,isInitializationRequest:pe,reset:le},q(),z}Object.defineProperty(u,"__esModule",{value:!0});var E=t(98),d=f(E),_=t(179),y=t(161),T=f(y),m=t(114),b=f(m),A=t(87),C=f(A),R=t(153),N=f(R),M=t(47),H=f(M),Y=t(51),j=f(Y),x=t(48),o=f(x),G=t(46),I=f(G);g.__dashjs_factory_name="FragmentController",u.default=o.default.getClassFactory(g),p.exports=u.default},{114:114,153:153,161:161,179:179,46:46,47:47,48:48,51:51,87:87,98:98}],106:[function(t,p,u){"use strict";function f(o){return o&&o.__esModule?o:{default:o}}function g(){function o(){Ae()}function G(c,S){var U=le(c),W=O(c,S),Z=[];if(c===d.default.FRAGMENTED_TEXT)return void pe(W[0]);U||(U=K.getSavedMediaSettings(c),re(c,U)),W&&W.length!==0&&(U&&W.forEach(function(ye){ce(U,ye)&&Z.push(ye)}),pe(Z.length===0?ae(W):Z.length>1?ae(Z):Z[0]))}function I(c){var S=c?c.type:null,U=c?c.streamInfo.id:null,W=le(S);if(c&&ve(S)){P[U]=P[U]||me();for(var Z=P[U][S].list.length,ye=0;ye<Z;ye++)if(fe(P[U][S].list[ye],c))return;P[U][S].list.push(c),W&&ce(W,c)&&!q(S,c.streamInfo)&&pe(c)}}function O(c,S){if(!c||!S)return[];var U=S.id;return P[U]&&P[U][c]?P[U][c].list:[]}function q(c,S){return!c||!S||S&&!P[S.id]?null:P[S.id][c].current}function Q(c){var S=c.type,U=c.streamInfo.id;return P[U]&&P[U][S]&&fe(P[U][S].current,c)}function pe(c){if(c){var S=c.type,U=c.streamInfo,W=U.id,Z=q(S,U);if(P[W]&&P[W][S]&&(!Z||!fe(c,Z))){P[W][S].current=c,Z&&de.trigger(y.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:Z,newMediaInfo:c,switchMode:k[S]});var ye=z(c);ye&&P[W][S].storeLastSettings&&(ye.roles&&(ye.role=ye.roles[0],delete ye.roles),ye.accessibility&&(ye.accessibility=ye.accessibility[0]),ye.audioChannelConfiguration&&(ye.audioChannelConfiguration=ye.audioChannelConfiguration[0]),K.setSavedMediaSettings(S,ye))}}}function re(c,S){c&&S&&(J[c]=S)}function le(c){return c?J[c]:null}function ee(c,S){if(he.indexOf(S)===-1)return void xe("track switch mode is not supported: "+S);k[c]=S}function be(c){return k[c]}function ie(c){if(we.indexOf(c)===-1)return void xe("track selection mode is not supported: "+c);L=c}function Te(){return L||j}function ve(c){return c===d.default.AUDIO||c===d.default.VIDEO||c===d.default.TEXT||c===d.default.FRAGMENTED_TEXT||c===d.default.IMAGE}function fe(c,S){var U=c.id===S.id,W=c.viewpoint===S.viewpoint,Z=c.lang===S.lang,ye=c.roles.toString()===S.roles.toString(),qe=c.accessibility.toString()===S.accessibility.toString(),ke=c.audioChannelConfiguration.toString()===S.audioChannelConfiguration.toString();return U&&W&&Z&&ye&&qe&&ke}function Ee(c){c&&(c.errHandler&&(ne=c.errHandler),c.domStorage&&(K=c.domStorage))}function Ae(){P={},De(),Se()}function z(c){var S={lang:c.lang,viewpoint:c.viewpoint,roles:c.roles,accessibility:c.accessibility,audioChannelConfiguration:c.audioChannelConfiguration};return S.lang||S.viewpoint||S.role&&S.role.length>0||S.accessibility&&S.accessibility.length>0||S.audioChannelConfiguration&&S.audioChannelConfiguration.length>0?S:null}function ce(c,S){var U=!c.lang||c.lang===S.lang,W=!c.viewpoint||c.viewpoint===S.viewpoint,Z=!c.role||!!S.roles.filter(function(ke){return ke===c.role})[0],ye=!c.accessibility||!!S.accessibility.filter(function(ke){return ke===c.accessibility})[0],qe=!c.audioChannelConfiguration||!!S.audioChannelConfiguration.filter(function(ke){return ke===c.audioChannelConfiguration})[0];return U&&W&&Z&&ye&&qe}function Se(){k={audio:M,video:N}}function De(){J={audio:null,video:null}}function ae(c){var S=Te(),U=[],W=function(ye){var qe=0,ke=[],We=void 0;return ye.forEach(function(Ye){We=Math.max.apply(Math,Ye.bitrateList.map(function(Xe){return Xe.bandwidth})),We>qe?(qe=We,ke=[Ye]):We===qe&&ke.push(Ye)}),ke},Z=function(ye){var qe=0,ke=[],We=void 0;return ye.forEach(function(Ye){We=Ye.representationCount,We>qe?(qe=We,ke=[Ye]):We===qe&&ke.push(Ye)}),ke};switch(S){case H:U=W(c),U.length>1&&(U=Z(U));break;case Y:U=Z(c),U.length>1&&(U=W(c));break;default:xe("track selection mode is not supported: "+S)}return U[0]}function me(){return{audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},fragmentedText:{list:[],storeLastSettings:!0,current:null},image:{list:[],storeLastSettings:!0,current:null}}}var Ie=this.context,xe=(0,R.default)(Ie).getInstance().log,de=(0,m.default)(Ie).getInstance(),Pe=void 0,P=void 0,J=void 0,L=void 0,k=void 0,ne=void 0,K=void 0,he=[M,N],we=[H,Y];return Pe={checkInitialMediaSettingsForType:G,addTrack:I,getTracksFor:O,getCurrentTrackFor:q,isCurrentTrack:Q,setTrack:pe,setInitialSettings:re,getInitialSettings:le,setSwitchMode:ee,getSwitchMode:be,setSelectionModeForInitialTrack:ie,getSelectionModeForInitialTrack:Te,isMultiTrackSupportedByType:ve,isTracksEqual:fe,setConfig:Ee,reset:Ae},o(),Pe}Object.defineProperty(u,"__esModule",{value:!0});var E=t(98),d=f(E),_=t(51),y=f(_),T=t(47),m=f(T),b=t(48),A=f(b),C=t(46),R=f(C),N="neverReplace",M="alwaysReplace",H="highestBitrate",Y="widestRange",j=H;g.__dashjs_factory_name="MediaController";var x=A.default.getSingletonFactory(g);x.TRACK_SWITCH_MODE_NEVER_REPLACE=N,x.TRACK_SWITCH_MODE_ALWAYS_REPLACE=M,x.TRACK_SELECTION_MODE_HIGHEST_BITRATE=H,x.TRACK_SELECTION_MODE_WIDEST_RANGE=Y,x.DEFAULT_INIT_TRACK_SELECTION_MODE=j,A.default.updateSingletonFactory(g.__dashjs_factory_name,x),u.default=x,p.exports=u.default},{46:46,47:47,48:48,51:51,98:98}],107:[function(t,p,u){"use strict";function f(_){return _&&_.__esModule?_:{default:_}}function g(){function _(){var C="WebKitMediaSource"in window;return"MediaSource"in window?new MediaSource:C?new WebKitMediaSource:null}function y(C,R){var N=window.URL.createObjectURL(C);return R.setSource(N),N}function T(C){C.setSource(null)}function m(C,R){return C.duration!=R&&(C.duration=R),C.duration}function b(C,R,N){C&&typeof C.setLiveSeekableRange=="function"&&typeof C.clearLiveSeekableRange=="function"&&C.readyState==="open"&&R>=0&&R<N&&(C.clearLiveSeekableRange(),C.setLiveSeekableRange(R,N))}function A(C){var R=C.sourceBuffers,N=R.length;if(C.readyState==="open"){for(var M=0;M<N;M++)if(R[M].updating||R[M].buffered.length===0)return;C.endOfStream()}}return{createMediaSource:_,attachMediaSource:y,detachMediaSource:T,setDuration:m,setSeekable:b,signalEndOfStream:A}}Object.defineProperty(u,"__esModule",{value:!0});var E=t(48),d=f(E);g.__dashjs_factory_name="MediaSourceController",u.default=d.default.getSingletonFactory(g),p.exports=u.default},{48:48}],108:[function(t,p,u){"use strict";function f(x){return x&&x.__esModule?x:{default:x}}function g(){function x(){ce()}function o(e){bt=e,Ye(),kt=bt.manifestInfo.isDynamic,et=bt.start,Ke.on(R.default.DATA_UPDATE_COMPLETED,Pe,this),Ke.on(R.default.BYTES_APPENDED,ke,this),Ke.on(R.default.BUFFER_LEVEL_STATE_CHANGED,We,this),Ke.on(R.default.PERIOD_SWITCH_STARTED,G,this),se&&(se=!1,O())}function G(e){!kt&&e.fromStreamInfo&&wt[e.fromStreamInfo.id]!==void 0&&(delete ut[e.fromStreamInfo.id],delete wt[e.fromStreamInfo.id])}function I(){var e=ae(!0),i=kt?e-bt.start:0;return parseFloat((e+(bt.duration-i)-le()).toFixed(5))}function O(){bt&&st&&st.getElement()?st.play():se=!0}function q(){return bt&&st?st.isPaused():null}function Q(){bt&&st&&st.pause()}function pe(){return bt&&st?st.isSeeking():null}function re(e){bt&&st&&(Ke.trigger(R.default.PLAYBACK_SEEK_ASKED),Ct("Requesting seek to time: "+e),st.setCurrentTime(e))}function le(){return bt&&st?st.getTime():null}function ee(){return bt&&st?st.getPlaybackRate():null}function be(){return bt&&st?st.getPlayedRanges():null}function ie(){return bt&&st?st.getEnded():null}function Te(){return kt}function ve(){return dt}function fe(e){et=e}function Ee(){return et}function Ae(e,i){var n=gt.getMpd(Ut.getValue()),r=void 0,h=void 0;if(r=Mt.getUseSuggestedPresentationDelay()&&n.hasOwnProperty(d.default.SUGGESTED_PRESENTATION_DELAY)?n.suggestedPresentationDelay:Mt.getLiveDelay()?Mt.getLiveDelay():isNaN(e)?2*bt.manifestInfo.minBufferTime:e*Mt.getLiveDelayFragmentCount(),i>0){var w=Math.max(i-10,i/2);h=Math.min(r,w)}else h=r;return lt=h,h}function z(){return lt}function ce(){Je=0,et=NaN,St=null,se=!1,wt={},lt=0,ut={},st&&(Ke.off(R.default.DATA_UPDATE_COMPLETED,Pe,this),Ke.off(R.default.BUFFER_LEVEL_STATE_CHANGED,We,this),Ke.off(R.default.BYTES_APPENDED,ke,this),Ke.off(R.default.PERIOD_SWITCH_STARTED,G,this),xe(),Xe()),st=null,bt=null,kt=null}function Se(e){e&&(e.streamController&&(dt=e.streamController),e.metricsModel&&(nt=e.metricsModel),e.dashMetrics&&(Lt=e.dashMetrics),e.manifestModel&&(Ut=e.manifestModel),e.dashManifestModel&&(gt=e.dashManifestModel),e.mediaPlayerModel&&(Mt=e.mediaPlayerModel),e.adapter&&(Tt=e.adapter),e.videoModel&&(st=e.videoModel))}function De(){var e=(0,m.default)(ht).getInstance().getURIFragmentData(),i=void 0;if(e){i={};var n=parseInt(e.r,10);n>=0&&bt&&n<bt.manifestInfo.DVRWindowSize&&e.t===null&&(e.t=Math.floor(Date.now()/1e3)-bt.manifestInfo.DVRWindowSize+n),i.fragS=parseInt(e.s,10),i.fragT=parseInt(e.t,10)}return i}function ae(e,i){var n=void 0,r=NaN,h=De();if(r=h?e?bt.start:isNaN(h.fragS)?h.fragT:h.fragS:0,kt)isNaN(r)||((n=r-bt.manifestInfo.availableFrom.getTime()/1e3)>et||n<(isNaN(i)?NaN:i-bt.manifestInfo.DVRWindowSize))&&(n=null),n=n||et;else if(!isNaN(r)&&r<Math.max(bt.manifestInfo.duration,bt.duration)&&r>=0)n=r;else{var w=wt[bt.id];n=w!==void 0?Math.max(w.audio!==void 0?w.audio:0,w.video!==void 0?w.video:0,bt.start):bt.start}return n}function me(e){var i=nt.getReadOnlyMetricsFor(d.default.VIDEO)||nt.getReadOnlyMetricsFor(d.default.AUDIO),n=Lt.getCurrentDVRInfo(i),r=n?n.range:null,h=void 0;if(!r)return NaN;if(e>r.end)h=Math.max(r.end-2*bt.manifestInfo.minBufferTime,r.start);else{if(!(e+.25<r.start))return e;h=r.start}return h}function Ie(){if(St===null){var e=function(){ye()};St=setInterval(e,Mt.getWallclockTimeUpdateInterval())}}function xe(){clearInterval(St),St=null}function de(){if(!q()&&kt&&st.getReadyState()!==0){var e=le(),i=me(e);!isNaN(i)&&i!==e&&re(i)}}function Pe(e){if(!e.error){var i=Tt.convertDataToRepresentationInfo(e.currentRepresentation),n=i.mediaInfo.streamInfo;bt.id===n.id&&(bt=n,de())}}function P(){Ke.trigger(R.default.CAN_PLAY)}function J(){Ct("Native video element event: play"),de(),Ie(),Ke.trigger(R.default.PLAYBACK_STARTED,{startTime:le()})}function L(){Ct("Native video element event: playing"),Ke.trigger(R.default.PLAYBACK_PLAYING,{playingTime:le()})}function k(){Ct("Native video element event: pause"),Ke.trigger(R.default.PLAYBACK_PAUSED,{ended:ie()})}function ne(){var e=le();Ct("Seeking to: "+e),Ie(),Ke.trigger(R.default.PLAYBACK_SEEKING,{seekTime:e})}function K(){Ct("Native video element event: seeked"),Ke.trigger(R.default.PLAYBACK_SEEKED)}function he(){var e=le();Je=e,Ke.trigger(R.default.PLAYBACK_TIME_UPDATED,{timeToEnd:I(),time:e})}function we(){var e=Date.now();(!Be||e>Be+j)&&(Be=e,he())}function c(){Ke.trigger(R.default.PLAYBACK_PROGRESS)}function S(){var e=ee();Ct("Native video element event: ratechange: ",e),Ke.trigger(R.default.PLAYBACK_RATE_CHANGED,{playbackRate:e})}function U(){Ct("Native video element event: loadedmetadata"),Ke.trigger(R.default.PLAYBACK_METADATA_LOADED),Ie()}function W(){Ct("Native video element event: ended"),Q(),xe(),Ke.trigger(R.default.PLAYBACK_ENDED)}function Z(e){var i=e.target||e.srcElement;Ke.trigger(R.default.PLAYBACK_ERROR,{error:i.error})}function ye(){Ke.trigger(R.default.WALLCLOCK_TIME_UPDATED,{isDynamic:kt,time:new Date}),Te()&&q()&&we()}function qe(e,i){if(i&&i.length>0){for(var n=0,r=i.length;n<r;n++)if(e>=i.start(n)&&e<i.end(n))return!0}return!1}function ke(e){var i=void 0,n=void 0,r=e.bufferedRanges;if(r&&r.length&&(!wt[bt.id]||wt[bt.id].started!==!0)){var h=e.sender.getType();ut[bt.id]===void 0&&(ut[bt.id]=[]),ut[bt.id][h]=r,wt[bt.id]===void 0&&(wt[bt.id]=[],wt[bt.id].started=!1),wt[bt.id][h]===void 0&&(wt[bt.id][h]=Math.max(r.start(0),bt.start));var w=dt.isVideoTrackPresent(),B=dt.isAudioTrackPresent();n=ae(!1),B&&w?isNaN(wt[bt.id].audio)||isNaN(wt[bt.id].video)||(wt[bt.id].audio<wt[bt.id].video?(i=wt[bt.id].video>n?wt[bt.id].video:n,r=ut[bt.id].audio):(i=wt[bt.id].audio>n?wt[bt.id].audio:n,r=ut[bt.id].video),qe(i,r)&&(pe()||re(i),wt[bt.id].started=!0)):wt[bt.id][h]&&(i=wt[bt.id][h]>n?wt[bt.id][h]:n,pe()||re(i),wt[bt.id].started=!0)}}function We(e){e.streamInfo.id===bt.id&&st.setStallState(e.mediaType,e.state===y.default.BUFFER_EMPTY)}function Ye(){st.addEventListener("canplay",P),st.addEventListener("play",J),st.addEventListener("playing",L),st.addEventListener("pause",k),st.addEventListener("error",Z),st.addEventListener("seeking",ne),st.addEventListener("seeked",K),st.addEventListener("timeupdate",he),st.addEventListener("progress",c),st.addEventListener("ratechange",S),st.addEventListener("loadedmetadata",U),st.addEventListener("ended",W)}function Xe(){st.removeEventListener("canplay",P),st.removeEventListener("play",J),st.removeEventListener("playing",L),st.removeEventListener("pause",k),st.removeEventListener("error",Z),st.removeEventListener("seeking",ne),st.removeEventListener("seeked",K),st.removeEventListener("timeupdate",he),st.removeEventListener("progress",c),st.removeEventListener("ratechange",S),st.removeEventListener("loadedmetadata",U),st.removeEventListener("ended",W)}var ht=this.context,Ct=(0,Y.default)(ht).getInstance().log,Ke=(0,A.default)(ht).getInstance(),pt=void 0,dt=void 0,nt=void 0,Lt=void 0,Ut=void 0,gt=void 0,Tt=void 0,st=void 0,Je=void 0,et=void 0,St=void 0,wt=void 0,lt=void 0,ut=void 0,bt=void 0,kt=void 0,Mt=void 0,se=void 0,Be=void 0;return pt={initialize:o,setConfig:Se,getStartTimeFromUriParameters:De,getStreamStartTime:ae,getTimeToStreamEnd:I,getTime:le,getPlaybackRate:ee,getPlayedRanges:be,getEnded:ie,getIsDynamic:Te,getStreamController:ve,setLiveStartTime:fe,getLiveStartTime:Ee,computeLiveDelay:Ae,getLiveDelay:z,play:O,isPaused:q,pause:Q,isSeeking:pe,seek:re,reset:ce},x(),pt}Object.defineProperty(u,"__esModule",{value:!0});var E=t(98),d=f(E),_=t(103),y=f(_),T=t(118),m=f(T),b=t(47),A=f(b),C=t(51),R=f(C),N=t(48),M=f(N),H=t(46),Y=f(H),j=500;g.__dashjs_factory_name="PlaybackController",u.default=M.default.getSingletonFactory(g),p.exports=u.default},{103:103,118:118,46:46,47:47,48:48,51:51,98:98}],109:[function(t,p,u){"use strict";function f(re){return re&&re.__esModule?re:{default:re}}function g(re){function le(){i=(0,q.default)(Ut).getInstance().log.bind(e),nt()}function ee(){n=se.getFragmentModel(),tt=wt.getScheduleWhilePaused(),Ne=(0,C.default)(Ut).create({abrController:lt,dashMetrics:Je,metricsModel:Tt,mediaPlayerModel:wt,textController:kt}),Oe=(0,N.default)(Ut).create({adapter:st,textController:kt}),et.getIsTextTrack(Mt)&&gt.on(o.default.TIMED_TEXT_REQUESTED,U,this),gt.on(o.default.QUALITY_CHANGE_REQUESTED,me,this),gt.on(o.default.DATA_UPDATE_STARTED,K,this),gt.on(o.default.DATA_UPDATE_COMPLETED,xe,this),gt.on(o.default.FRAGMENT_LOADING_COMPLETED,J,this),gt.on(o.default.STREAM_COMPLETED,P,this),gt.on(o.default.STREAM_INITIALIZED,de,this),gt.on(o.default.BUFFER_LEVEL_STATE_CHANGED,we,this),gt.on(o.default.BUFFER_CLEARED,he,this),gt.on(o.default.BYTES_APPENDED,k,this),gt.on(o.default.INIT_REQUESTED,z,this),gt.on(o.default.QUOTA_EXCEEDED,c,this),gt.on(o.default.PLAYBACK_SEEKING,Z,this),gt.on(o.default.PLAYBACK_STARTED,W,this),gt.on(o.default.PLAYBACK_RATE_CHANGED,ye,this),gt.on(o.default.PLAYBACK_TIME_UPDATED,L,this),gt.on(o.default.URL_RESOLUTION_FAILED,S,this),gt.on(o.default.FRAGMENT_LOADING_ABANDONED,ne,this)}function be(){return w===!1}function ie(){if(!r||se.isBufferingCompleted())return void i("[ScheduleController][",Mt,"] start denied");i("[ScheduleController][",Mt,"] start"),dt(),w=!1,h&&(h=!1),Ae(0)}function Te(){w||(i("[ScheduleController][",Mt,"] stop"),w=!0,clearTimeout(je))}function ve(rt,It){xt[It]=xt[It]||{};var Pt=lt.getTopQualityIndexFor(rt,It);return xt[It][rt]!=Pt&&(i("Top quality "+rt+" index has changed from "+xt[It][rt]+" to "+Pt),xt[It][rt]=Pt,!0)}function fe(){if(w||Me||!se.getBufferController()||ut.isPaused()&&!tt)return void i("[ScheduleController][",Mt,"] - schedule stop!");Ee();var rt=Wt.length>0,It=se.getStreamInfo();if(qt||isNaN(Ot)||zt||rt||ve(r.mediaInfo.type,It.id)||Ne.execute(se,Mt,bt.isVideoTrackPresent())){var Pt=function(){var Gt=se.getFragmentController();if(r.quality!==Ot)i("ScheduleController - "+Mt+" - quality has changed, get init request for representationid = "+r.id),Ot=r.quality,se.switchInitData(r.id);else if(zt)i("ScheduleController - "+Mt+" - switch track has been asked, get init request for "+Mt+" with representationid = "+r.id),qt=Be.getSwitchMode(Mt)===pe.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE,se.switchInitData(r.id,qt),Ot=r.quality,zt=!1;else{var Yt=Wt.shift();if(Gt.isInitializationRequest(Yt))se.switchInitData(Yt.representationId);else{var ei=void 0;se.getBufferController().getIsPruningInProgress()||!(ei=Oe.execute(se,Yt))&&It.manifestInfo&&It.manifestInfo.isDynamic&&i("getNextFragment - "+Mt+" - Playing at the bleeding live edge and frag is not available yet"),ei?(i("ScheduleController - "+Mt+" - getNextFragment - request is "+ei.url),n.executeRequest(ei)):(ce(!1),Ae(500))}}};ce(!0),rt||zt||lt.checkPlaybackQuality(Mt),Pt()}else Ae(500)}function Ee(){var rt=1.5*r.fragmentDuration,It=n.getRequests({state:H.default.FRAGMENT_MODEL_EXECUTED,time:ut.getTime()+rt,threshold:0})[0];if(It&&Wt.indexOf(It)===-1&&!et.getIsTextTrack(Mt)){var Pt=wt.getFastSwitchEnabled(),Gt=se.getBufferLevel(),Yt=lt.getAbandonmentStateFor(Mt);Pt&&It.quality<r.quality&&Gt>=rt&&Yt!==T.default.ABANDON_LOAD?(ae(It),i("Reloading outdated fragment at index: ",It.index)):It.quality>r.quality&&ke(ut.getTime()+se.getBufferLevel())}}function Ae(rt){clearTimeout(je),je=setTimeout(fe,rt)}function z(rt){rt.sender&&rt.sender.getStreamProcessor()===se&&Se(r.quality)}function ce(rt){Me!==rt?Me=rt:i("[ScheduleController][",Mt,"] isFragmentProcessingInProgress is already equal to",rt)}function Se(rt){var It=st.getInitRequest(se,rt);It&&(ce(!0),n.executeRequest(It))}function De(){zt=!0}function ae(rt){Wt.push(rt)}function me(rt){if(Mt===rt.mediaType&&se.getStreamInfo().id===rt.streamInfo.id){if((r=se.getRepresentationInfoForQuality(rt.newQuality))===null||r===void 0)throw new Error("Unexpected error! - currentRepresentationInfo is null or undefined");pt(new Date,_.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON),dt()}}function Ie(rt){if(ut&&n){var It=n.getRequests({state:H.default.FRAGMENT_MODEL_EXECUTED,time:ut.getTime(),threshold:0})[0];It&&ut.getTime()>=It.startTime&&((!it.mediaInfo||It.mediaInfo.type===it.mediaInfo.type&&It.mediaInfo.id!==it.mediaInfo.id)&&rt&&gt.trigger(o.default.TRACK_CHANGE_RENDERED,{mediaType:Mt,oldMediaInfo:it.mediaInfo,newMediaInfo:It.mediaInfo}),It.quality===it.quality&&It.adaptationIndex===it.adaptationIndex||!rt||gt.trigger(o.default.QUALITY_CHANGE_RENDERED,{mediaType:Mt,oldQuality:it.quality,newQuality:It.quality}),it={mediaInfo:It.mediaInfo,quality:It.quality,adaptationIndex:It.adaptationIndex})}}function xe(rt){rt.error||rt.sender.getStreamProcessor()!==se||(r=st.convertDataToRepresentationInfo(rt.currentRepresentation))}function de(rt){rt.error||se.getStreamInfo().id!==rt.streamInfo.id||(r=se.getCurrentRepresentationInfo(),h&&(ut.getIsDynamic()?(St.setTimeSyncCompleted(!0),Pe()):(ze=ut.getStreamStartTime(!1),se.getBufferController().setSeekStartTime(ze))),w&&ie())}function Pe(){var rt=se.getLiveEdgeFinder();if(rt){var It=rt.getLiveEdge(),Pt=r.mediaInfo.streamInfo.manifestInfo.DVRWindowSize/2,Gt=It-ut.computeLiveDelay(r.fragmentDuration,Pt),Yt=st.getFragmentRequestForTime(se,r,Gt,{ignoreIsFinished:!0});ut.setLiveStartTime(Yt.startTime),ze=ut.getStreamStartTime(!1,It),ze>r.mediaInfo.streamInfo.start+r.mediaInfo.streamInfo.duration&&ut.seek(ze);var ei=Je.getCurrentManifestUpdate(Tt.getMetricsFor(d.default.STREAM));Tt.updateManifestUpdateInfo(ei,{currentTime:ze,presentationStartTime:It,latency:It-ze,clientTimeOffset:St.getClientTimeOffset()})}}function P(rt){rt.fragmentModel===n&&(Te(),ce(!1),i("[ScheduleController] Stream is complete"))}function J(rt){rt.sender===n&&(i("[ScheduleController][",Mt,"] - onFragmentLoadingCompleted"),et.getIsTextTrack(Mt)&&ce(!1),rt.error&&rt.request.serviceLocation&&!w&&(ae(rt.request),ce(!1),Ae(0)),qt&&(Bt=rt.request))}function L(){Ie(!0)}function k(rt){rt.sender.getStreamProcessor()===se&&(qt&&!isNaN(rt.startTime)&&(qt=!1,n.addExecutedRequest(Bt)),ce(!1),Ae(0))}function ne(rt){rt.streamProcessor===se&&(i("[ScheduleController][onFragmentLoadingAbandoned] for "+Mt+", request: "+rt.request.url+" has been aborted"),ut.isSeeking()||(i("[ScheduleController][onFragmentLoadingAbandoned] for "+Mt+", request: "+rt.request.url+" has to be downloaded again, origin is not seeking process"),ae(rt.request)),ce(!1),Ae(0))}function K(rt){rt.sender.getStreamProcessor()===se&&Te()}function he(rt){rt.sender.getStreamProcessor()===se&&(se.getFragmentModel().syncExecutedRequestsWithBufferedRange(se.getBufferController().getBuffer().getAllBufferRanges(),se.getStreamInfo().duration),rt.hasEnoughSpaceToAppend&&w&&ie())}function we(rt){rt.sender.getStreamProcessor()!==se||rt.state!==b.default.BUFFER_EMPTY||ut.isSeeking()||(i("[ScheduleController][",Mt,"] - Buffer is empty! Stalling!"),pt(new Date,_.PlayListTrace.REBUFFERING_REASON))}function c(rt){rt.sender.getStreamProcessor()===se&&(Te(),ce(!1))}function S(){n.abortRequests(),Te()}function U(rt){rt.sender.getStreamProcessor()===se&&Se(rt.index)}function W(){!w&&tt||ie()}function Z(rt){ze=rt.seekTime,We(0),w&&ie();var It=Je.getCurrentManifestUpdate(Tt.getMetricsFor(d.default.STREAM)),Pt=r.DVRWindow&&ut?r.DVRWindow.end-ut.getTime():NaN;Tt.updateManifestUpdateInfo(It,{latency:Pt}),Me?(i("[ScheduleController][onPlaybackSeeking] for "+Mt+", call fragmentModel.abortRequests in order to seek quicker"),n.abortRequests()):Ae(0)}function ye(rt){V&&(V.playbackspeed=rt.playbackRate.toString())}function qe(){return ze}function ke(rt){ze=rt}function We(rt){Re=rt}function Ye(){return Re}function Xe(){return Ne.getBufferTarget(se,Mt,bt.isVideoTrackPresent())}function ht(){return Mt}function Ct(rt){B=rt}function Ke(rt,It){pt(rt,It),B=null}function pt(rt,It){if(B&&oe===!1){var Pt=V.start,Gt=rt.getTime()-Pt.getTime();V.duration=Gt,V.stopreason=It,B.trace.push(V),oe=!0}}function dt(){B&&oe===!0&&r&&(oe=!1,V=new _.PlayListTrace,V.representationid=r.id,V.start=new Date,V.mstart=1e3*ut.getTime(),V.playbackspeed=ut.getPlaybackRate().toString())}function nt(){Me=!1,Re=0,ze=NaN,B=null,V=null,oe=!0,h=!0,Ot=NaN,it={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},xt={},Wt=[],w=!0,zt=!1,qt=!1,Bt=null}function Lt(){gt.off(o.default.DATA_UPDATE_STARTED,K,this),gt.off(o.default.DATA_UPDATE_COMPLETED,xe,this),gt.off(o.default.BUFFER_LEVEL_STATE_CHANGED,we,this),gt.off(o.default.QUALITY_CHANGE_REQUESTED,me,this),gt.off(o.default.FRAGMENT_LOADING_COMPLETED,J,this),gt.off(o.default.STREAM_COMPLETED,P,this),gt.off(o.default.STREAM_INITIALIZED,de,this),gt.off(o.default.QUOTA_EXCEEDED,c,this),gt.off(o.default.BYTES_APPENDED,k,this),gt.off(o.default.BUFFER_CLEARED,he,this),gt.off(o.default.INIT_REQUESTED,z,this),gt.off(o.default.PLAYBACK_RATE_CHANGED,ye,this),gt.off(o.default.PLAYBACK_SEEKING,Z,this),gt.off(o.default.PLAYBACK_STARTED,W,this),gt.off(o.default.PLAYBACK_TIME_UPDATED,L,this),gt.off(o.default.URL_RESOLUTION_FAILED,S,this),gt.off(o.default.FRAGMENT_LOADING_ABANDONED,ne,this),et.getIsTextTrack(Mt)&&gt.off(o.default.TIMED_TEXT_REQUESTED,U,this),Te(),Ie(!1),nt()}re=re||{};var Ut=this.context,gt=(0,j.default)(Ut).getInstance(),Tt=re.metricsModel,st=re.adapter,Je=re.dashMetrics,et=re.dashManifestModel,St=re.timelineConverter,wt=re.mediaPlayerModel,lt=re.abrController,ut=re.playbackController,bt=re.streamController,kt=re.textController,Mt=re.type,se=re.streamProcessor,Be=re.mediaController,e=void 0,i=void 0,n=void 0,r=void 0,h=void 0,w=void 0,B=void 0,V=void 0,oe=void 0,Me=void 0,Re=void 0,je=void 0,ze=void 0,Ne=void 0,Oe=void 0,tt=void 0,it=void 0,xt=void 0,Ot=void 0,Wt=void 0,zt=void 0,qt=void 0,Bt=void 0;return e={initialize:ee,getType:ht,getSeekTarget:qe,setSeekTarget:ke,setTimeToLoadDelay:We,getTimeToLoadDelay:Ye,replaceRequest:ae,switchTrackAsked:De,isStarted:be,start:ie,stop:Te,reset:Lt,setPlayList:Ct,getBufferTarget:Xe,finalisePlayList:Ke},le(),e}Object.defineProperty(u,"__esModule",{value:!0});var E=t(98),d=f(E),_=t(181),y=t(100),T=f(y),m=t(103),b=f(m),A=t(132),C=f(A),R=t(133),N=f(R),M=t(114),H=f(M),Y=t(47),j=f(Y),x=t(51),o=f(x),G=t(48),I=f(G),O=t(46),q=f(O),Q=t(106),pe=f(Q);g.__dashjs_factory_name="ScheduleController",u.default=I.default.getClassFactory(g),p.exports=u.default},{100:100,103:103,106:106,114:114,132:132,133:133,181:181,46:46,47:47,48:48,51:51,98:98}],110:[function(t,p,u){"use strict";function f(Ee){return Ee&&Ee.__esModule?Ee:{default:Ee}}function g(){function Ee(){w=(0,be.default)(wt).getInstance(),B=(0,Te.default)(wt).getInstance(),h=(0,fe.default)(wt).getInstance(),je=(0,q.default)(wt).getInstance(),ze=(0,pe.default)(wt).getInstance(),st()}function Ae(ue,Ue){pt(),Wt=ue,Ot=Ue,Oe.initialize(),Mt=(0,A.default)(wt).create(),Mt.setConfig({manifestModel:Be,dashManifestModel:e,mediaPlayerModel:Gt,manifestLoader:se}),Mt.initialize(),B.setConfig({dashManifestModel:e}),ut.on(M.default.TIME_SYNCHRONIZATION_COMPLETED,Z,this),ut.on(M.default.PLAYBACK_SEEKING,De,this),ut.on(M.default.PLAYBACK_TIME_UPDATED,z,this),ut.on(M.default.PLAYBACK_ENDED,L,this),ut.on(M.default.PLAYBACK_ERROR,ht,this),ut.on(M.default.PLAYBACK_STARTED,ae,this),ut.on(M.default.PLAYBACK_PAUSED,me,this),ut.on(M.default.MANIFEST_UPDATED,ye,this),ut.on(M.default.STREAM_BUFFERING_COMPLETED,de,this),ut.on(M.default.MANIFEST_VALIDITY_CHANGED,Ut,this),ut.on(M.default.WALLCLOCK_TIME_UPDATED,ce,this),ut.on(le.default.METRIC_ADDED,et,this)}function z(){if(ke()){var ue=It.getPlaybackQuality();ue&&n.addDroppedFrames(d.default.VIDEO,ue)}}function ce(){if(!(!Gt.getJumpGaps()||!it||it.getProcessors().length===0||Pt.isSeeking()||Yt||zt||qt||Bt)&&++Ze>=St){var ue=Pt.getTime();Dt===ue?Se(ue):Dt=ue,Ze=0}}function Se(ue){for(var Ue=it.getProcessors(),ot=Gt.getSmallGapLimit(),mt=void 0,yt=0;yt<Ue.length;yt++){var Ft=Ue[yt].getBuffer(),Vt=Ft.getAllBufferRanges(),ii=void 0;if(Vt&&!(Vt.length<=1)){for(var Ti=0;Ti<Vt.length;Ti++)if(ue<Vt.start(Ti)){ii=Vt.start(Ti);break}if(ii>0){var pi=ii-ue;pi>0&&pi<=ot&&(mt===void 0||ii>mt)&&(mt=ii)}}}var ci=Pt.getTimeToStreamEnd();mt===void 0&&!isNaN(ci)&&ci<ot&&(mt=ue+ci),mt>0&&(!isNaN(ci)&&mt>=ue+ci?(lt("Jumping media gap (discontinuity) at time ",ue,". Jumping to end of the stream"),ut.trigger(M.default.PLAYBACK_ENDED)):(lt("Jumping media gap (discontinuity) at time ",ue,". Jumping to time position",mt),Pt.seek(mt)))}function De(ue){var Ue=Pe(ue.seekTime);di&&(Ie(),ai=!1),Ue&&Ue!==it?(Ye(o.PlayListTrace.END_OF_PERIOD_STOP_REASON),ne(it,Ue,ue.seekTime)):Ye(o.PlayListTrace.USER_REQUEST_STOP_REASON),Xe(o.PlayList.SEEK_START_REASON)}function ae(){lt("[StreamController][onPlaybackStarted]"),ei?(ei=!1,Xe(o.PlayList.INITIAL_PLAYOUT_START_REASON)):Yt&&(Yt=!1,Xe(o.PlayList.RESUME_FROM_PAUSE_START_REASON),xe())}function me(ue){lt("[StreamController][onPlaybackPaused]"),ue.ended||(Yt=!0,Ye(o.PlayListTrace.USER_REQUEST_STOP_REASON),xe())}function Ie(){lt("[StreamController][toggleEndPeriodTimer] stop end period timer."),clearTimeout(di),di=void 0}function xe(){if(ai)if(di)Ie();else{var ue=Pt.getTimeToStreamEnd(),Ue=ue>0?1e3*ue:0;lt("[StreamController][toggleEndPeriodTimer] start-up of timer to notify PLAYBACK_ENDED event. It will be triggered in "+Ue+" milliseconds"),di=setTimeout(function(){ut.trigger(M.default.PLAYBACK_ENDED)},Ue)}}function de(){var ue=Ct().isLast;rt&&ue?(lt("[StreamController][onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),h.signalEndOfStream(rt)):rt&&di===void 0&&(lt("[StreamController][onStreamBufferingCompleted] end of period detected"),ai=!0,Yt===!1&&xe())}function Pe(ue){var Ue=0,ot=null,mt=tt.length;mt>0&&(Ue+=tt[0].getStartTime());for(var yt=0;yt<mt;yt++)if(ot=tt[yt],Ue=parseFloat((Ue+ot.getDuration()).toFixed(5)),ue<Ue)return ot;return null}function P(ue,Ue){for(var ot=null,mt=0,yt=0,Ft=null,Vt=tt.length,ii=0;ii<Vt;ii++){if(ot=tt[ii],yt=ot.getStartTime(),Ft=ot.getDuration(),Number.isFinite(yt)&&(mt=yt),ot.getId()===Ue)return ue-mt;Number.isFinite(Ft)&&(mt+=Ft)}return null}function J(){return it?it.getProcessors():[]}function L(){var ue=k();ue?(li=void 0,ni=void 0,ne(it,ue,NaN)):lt("StreamController no next stream found"),Ye(ue?o.PlayListTrace.END_OF_PERIOD_STOP_REASON:o.PlayListTrace.END_OF_CONTENT_STOP_REASON),di=void 0,ai=!1}function k(){if(it){var ue=function(){var Ue=it.getStreamInfo().start,ot=it.getStreamInfo().duration;return{v:tt.filter(function(mt){return mt.getStreamInfo().start===parseFloat((Ue+ot).toFixed(5))})[0]}}();if(typeof ue=="object")return ue.v}}function ne(ue,Ue,ot){!zt&&Ue&&ue!==Ue&&(zt=!0,ut.trigger(M.default.PERIOD_SWITCH_STARTED,{fromStreamInfo:ue?ue.getStreamInfo():null,toStreamInfo:Ue.getStreamInfo()}),ue&&(ue.stopEventController(),ue.deactivate()),it=Ue,Pt.initialize(it.getStreamInfo()),It.getElement()?we(ot,ue,!1):K(ot))}function K(ue){c(ue)}function he(ue){Pt.initialize(it.getStreamInfo()),we(ue,null,!0)}function we(ue,Ue,ot){function mt(){lt("MediaSource is open!"),window.URL.revokeObjectURL(yt),rt.removeEventListener("sourceopen",mt),rt.removeEventListener("webkitsourceopen",mt),S(),Ue||ut.trigger(M.default.SOURCE_INITIALIZED),ot?it.setMediaSource(rt):c(ue)}var yt=void 0;rt?h.detachMediaSource(It):rt=h.createMediaSource(),rt.addEventListener("sourceopen",mt,!1),rt.addEventListener("webkitsourceopen",mt,!1),yt=h.attachMediaSource(rt,It),lt("MediaSource attached to element.  Waiting on open...")}function c(ue){it.activate(rt),li=We(d.default.AUDIO),ni=We(d.default.VIDEO),ei||(isNaN(ue)?function(){var Ue=Pt.getStreamStartTime(!0);it.getProcessors().forEach(function(ot){i.setIndexHandlerTime(ot,Ue)})}():Pt.seek(ue)),it.startEventController(),!Wt&&ei||Pt.play(),zt=!1,ut.trigger(M.default.PERIOD_SWITCH_COMPLETED,{toStreamInfo:it.getStreamInfo()})}function S(){var ue=it.getStreamInfo().manifestInfo.duration,Ue=h.setDuration(rt,ue);lt("Duration successfully set to: "+Ue)}function U(ue){for(var Ue=0,ot=tt.length;Ue<ot;Ue++)if(tt[Ue].getId()===ue.id)return tt[Ue];return null}function W(){try{var ue=i.getStreamsInfo();if(ue.length===0)throw new Error("There are no streams");var Ue=r.getCurrentManifestUpdate(n.getMetricsFor(d.default.STREAM));n.updateManifestUpdateInfo(Ue,{currentTime:Pt.getTime(),buffered:It.getBufferRange(),presentationStartTime:ue[0].start,clientTimeOffset:Oe.getClientTimeOffset()});for(var ot=0,mt=ue.length;ot<mt;ot++){var yt=ue[ot],Ft=U(yt);Ft?Ft.updateData(yt):(Ft=(0,m.default)(wt).create({manifestModel:Be,dashManifestModel:e,mediaPlayerModel:Gt,metricsModel:n,dashMetrics:r,manifestUpdater:Mt,adapter:i,timelineConverter:Oe,capabilities:kt,errHandler:Ne,baseURLController:B,domStorage:V,abrController:oe,playbackController:Pt,mediaController:Me,textController:Re,videoModel:It,streamController:bt}),tt.push(Ft),Ft.initialize(yt,xt)),n.addManifestUpdateStreamInfo(Ue,yt.id,yt.index,yt.start,yt.duration)}if(!it){var Vt=Pt.getStartTimeFromUriParameters(),ii=null;Vt&&(ii=Pe(isNaN(Vt.fragS)?Vt.fragT:Vt.fragS)),ne(null,ii!==null?ii:tt[0],NaN)}ut.trigger(M.default.STREAMS_COMPOSED)}catch(Ti){Ne.manifestError(Ti.message,"nostreamscomposed",Be.getValue()),Bt=!0,Je()}}function Z(){var ue=Be.getValue();xt&&(ut.trigger(M.default.PROTECTION_CREATED,{controller:xt,manifest:ue}),xt.setMediaElement(It.getElement()),Ot&&xt.setProtectionData(Ot)),W()}function ye(ue){ue.error?(Bt=!0,Je()):function(){var Ue=ue.manifest;i.updatePeriods(Ue);var ot=i.getStreamsInfo(Ue)[0],mt=i.getMediaInfoForType(ot,d.default.VIDEO)||i.getMediaInfoForType(ot,d.default.AUDIO),yt=void 0,Ft=void 0;mt&&(yt=i.getDataForMedia(mt),(Ft=e.getRepresentationsForAdaptation(yt)[0].useCalculatedLiveEdgeTime)&&(lt("SegmentTimeline detected using calculated Live Edge Time"),Gt.setUseManifestDateHeaderTimeSource(!1)));var Vt=e.getUTCTimingSources(ue.manifest),ii=!e.getIsDynamic(Ue)||Ft?Vt:Vt.concat(Gt.getUTCTimingSources()),Ti=ze.isHTTPS(ue.manifest.url);ii.forEach(function(pi){pi.value.replace(/.*?:\/\//g,"")===Y.default.DEFAULT_UTC_TIMING_SOURCE.value.replace(/.*?:\/\//g,"")&&(pi.value=pi.value.replace(Ti?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),Ti?"https://":"http://"),lt("Matching default timing source protocol to manifest protocol: ",pi.value))}),B.initialize(Ue),w.setConfig({metricsModel:n,dashMetrics:r,baseURLController:B}),w.initialize(ii,Gt.getUseManifestDateHeaderTimeSource())}()}function qe(){return li}function ke(){return ni}function We(ue){var Ue=!1;return it&&it.getProcessors().forEach(function(ot){ot.getMediaInfo().type===ue&&(Ue=!0)}),Ue}function Ye(ue,Ue){Ue=Ue||new Date,Xt&&(it&&it.getProcessors().forEach(function(ot){var mt=ot.getScheduleController();mt&&mt.finalisePlayList(Ue,ue)}),n.addPlayList(Xt),Xt=null)}function Xe(ue){Xt=new o.PlayList,Xt.start=new Date,Xt.mstart=1e3*Pt.getTime(),Xt.starttype=ue,it&&it.getProcessors().forEach(function(Ue){var ot=Ue.getScheduleController();ot&&ot.setPlayList(Xt)})}function ht(ue){if(ue.error){var Ue="";switch(ue.error.code){case 1:Ue="MEDIA_ERR_ABORTED";break;case 2:Ue="MEDIA_ERR_NETWORK";break;case 3:Ue="MEDIA_ERR_DECODE";break;case 4:Ue="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:Ue="MEDIA_ERR_ENCRYPTED";break;default:Ue="UNKNOWN"}qt=!0,ue.error.message&&(Ue+=" ("+ue.error.message+")"),ue.error.msExtendedCode&&(Ue+=" (0x"+(ue.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),lt("Video Element Error: "+Ue),ue.error&&lt(ue.error),Ne.mediaSourceError(Ue),Je()}}function Ct(){return it?it.getStreamInfo():null}function Ke(ue){return tt.filter(function(Ue){return Ue.getId()===ue})[0]}function pt(){if(!(se&&se.hasOwnProperty("load")&&Oe&&Oe.hasOwnProperty("initialize")&&Oe.hasOwnProperty("reset")&&Oe.hasOwnProperty("getClientTimeOffset")))throw new Error("setConfig function has to be called previously")}function dt(){if(!Mt||!Mt.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")}function nt(ue){pt(),se.load(ue)}function Lt(ue){dt(),Mt.setManifest(ue)}function Ut(ue){isNaN(ue.newDuration)||S(ue.newDuration)}function gt(ue){ue&&(ue.capabilities&&(kt=ue.capabilities),ue.manifestLoader&&(se=ue.manifestLoader),ue.manifestModel&&(Be=ue.manifestModel),ue.dashManifestModel&&(e=ue.dashManifestModel),ue.mediaPlayerModel&&(Gt=ue.mediaPlayerModel),ue.protectionController&&(xt=ue.protectionController),ue.adapter&&(i=ue.adapter),ue.metricsModel&&(n=ue.metricsModel),ue.dashMetrics&&(r=ue.dashMetrics),ue.errHandler&&(Ne=ue.errHandler),ue.timelineConverter&&(Oe=ue.timelineConverter),ue.videoModel&&(It=ue.videoModel),ue.playbackController&&(Pt=ue.playbackController),ue.domStorage&&(V=ue.domStorage),ue.abrController&&(oe=ue.abrController),ue.mediaController&&(Me=ue.mediaController),ue.textController&&(Re=ue.textController))}function Tt(ue){Ot=ue}function st(){tt=[],xt=null,zt=!1,it=null,qt=!1,Bt=!1,ni=void 0,li=void 0,ei=!0,Yt=!1,Wt=!0,Xt=null,di=void 0,ai=!1,Ze=0}function Je(){pt(),w.reset(),Ye(qt||Bt?o.PlayListTrace.FAILURE_STOP_REASON:o.PlayListTrace.USER_REQUEST_STOP_REASON);for(var ue=0,Ue=tt?tt.length:0;ue<Ue;ue++)tt[ue].reset(qt);ut.off(M.default.PLAYBACK_TIME_UPDATED,z,this),ut.off(M.default.PLAYBACK_SEEKING,De,this),ut.off(M.default.PLAYBACK_ERROR,ht,this),ut.off(M.default.PLAYBACK_STARTED,ae,this),ut.off(M.default.PLAYBACK_PAUSED,me,this),ut.off(M.default.PLAYBACK_ENDED,L,this),ut.off(M.default.MANIFEST_UPDATED,ye,this),ut.off(M.default.STREAM_BUFFERING_COMPLETED,de,this),ut.off(le.default.METRIC_ADDED,et,this),ut.off(M.default.MANIFEST_VALIDITY_CHANGED,Ut,this),B.reset(),Mt.reset(),n.clearAllCurrentMetrics(),Be.setValue(null),se.reset(),Oe.reset(),je.reset(),rt&&(h.detachMediaSource(It),rt=null),It=null,xt&&(xt.setMediaElement(null),xt=null,Ot=null,Be.getValue()&&ut.trigger(M.default.PROTECTION_DESTROYED,{data:Be.getValue().url})),ut.trigger(M.default.STREAM_TEARDOWN_COMPLETE),st()}function et(ue){ue.metric===y.default.DVR_INFO&&ue.mediaType===d.default.AUDIO&&h.setSeekable(rt,ue.value.range.start,ue.value.range.end)}var St=40,wt=this.context,lt=(0,I.default)(wt).getInstance().log,ut=(0,R.default)(wt).getInstance(),bt=void 0,kt=void 0,Mt=void 0,se=void 0,Be=void 0,e=void 0,i=void 0,n=void 0,r=void 0,h=void 0,w=void 0,B=void 0,V=void 0,oe=void 0,Me=void 0,Re=void 0,je=void 0,ze=void 0,Ne=void 0,Oe=void 0,tt=void 0,it=void 0,xt=void 0,Ot=void 0,Wt=void 0,zt=void 0,qt=void 0,Bt=void 0,rt=void 0,It=void 0,Pt=void 0,Gt=void 0,Yt=void 0,ei=void 0,Xt=void 0,ni=void 0,li=void 0,ai=void 0,di=void 0,Ze=void 0,Dt=void 0;return bt={initialize:Ae,getActiveStreamInfo:Ct,isVideoTrackPresent:ke,isAudioTrackPresent:qe,switchToVideoElement:he,getStreamById:Ke,getStreamForTime:Pe,getTimeRelativeToStreamId:P,load:nt,loadWithManifest:Lt,getActiveStreamProcessors:J,setConfig:gt,setProtectionData:Tt,reset:Je},Ee(),bt}Object.defineProperty(u,"__esModule",{value:!0});var E=t(98),d=f(E),_=t(99),y=f(_),T=t(94),m=f(T),b=t(89),A=f(b),C=t(47),R=f(C),N=t(51),M=f(N),H=t(116),Y=f(H),j=t(48),x=f(j),o=t(181),G=t(46),I=f(G),O=t(149),q=f(O),Q=t(155),pe=f(Q),re=t(91),le=f(re),ee=t(111),be=f(ee),ie=t(101),Te=f(ie),ve=t(107),fe=f(ve);g.__dashjs_factory_name="StreamController",u.default=x.default.getSingletonFactory(g),p.exports=u.default},{101:101,107:107,111:111,116:116,149:149,155:155,181:181,46:46,47:47,48:48,51:51,89:89,91:91,94:94,98:98,99:99}],111:[function(t,p,u){"use strict";function f(I){return I&&I.__esModule?I:{default:I}}function g(){function I(we,c){L=c,Pe=0,P=!1,J=!1,k={"urn:mpeg:dash:utc:http-head:2014":z,"urn:mpeg:dash:utc:http-xsdate:2014":Ae.bind(null,ie),"urn:mpeg:dash:utc:http-iso:2014":Ae.bind(null,Te),"urn:mpeg:dash:utc:direct:2014":Ee,"urn:mpeg:dash:utc:http-head:2012":z,"urn:mpeg:dash:utc:http-xsdate:2012":Ae.bind(null,ie),"urn:mpeg:dash:utc:http-iso:2012":Ae.bind(null,Te),"urn:mpeg:dash:utc:direct:2012":Ee,"urn:mpeg:dash:utc:http-ntp:2014":fe,"urn:mpeg:dash:utc:ntp:2014":fe,"urn:mpeg:dash:utc:sntp:2014":fe},pe()||(De(we),re(!0))}function O(we){we&&(we.metricsModel&&(ne=we.metricsModel),we.dashMetrics&&(K=we.dashMetrics),we.baseURLController&&(he=we.baseURLController))}function q(){return ee()}function Q(we){P=we}function pe(){return P}function re(we){J=we}function le(we){Pe=we}function ee(){return Pe}function be(we){var c=1e3,S=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/,U=void 0,W=void 0,Z=S.exec(we);return U=Date.UTC(parseInt(Z[1],10),parseInt(Z[2],10)-1,parseInt(Z[3],10),parseInt(Z[4],10),parseInt(Z[5],10),Z[6]&&(parseInt(Z[6],10)||0),Z[7]&&parseFloat(Z[7])*c||0),Z[9]&&Z[10]&&(W=60*parseInt(Z[9],10)+parseInt(Z[10],10),U+=(Z[8]==="+"?-1:1)*W*60*c),new Date(U).getTime()}function ie(we){var c=Date.parse(we);return isNaN(c)&&(c=be(we)),c}function Te(we){return Date.parse(we)}function ve(we){return Date.parse(we)}function fe(we,c,S){S()}function Ee(we,c,S){var U=ie(we);if(!isNaN(U))return void c(U);S()}function Ae(we,c,S,U,W){var Z=void 0,ye=void 0,qe=!1,ke=new XMLHttpRequest,We=W?T.HTTPRequest.HEAD:T.HTTPRequest.GET,Ye=c.match(/\S+/g);if(c=Ye.shift(),Z=function(){qe||(qe=!0,Ye.length?Ae(we,Ye.join(" "),S,U,W):U())},ye=function(){var ht=void 0,Ct=void 0;ke.status===200&&(ht=W?ke.getResponseHeader("Date"):ke.response,Ct=we(ht),isNaN(Ct)||(S(Ct),qe=!0))},de.isRelative(c)){var Xe=he.resolve();Xe&&(c=de.resolve(c,Xe.url))}ke.open(We,c),ke.timeout=o||0,ke.onload=ye,ke.onloadend=Z,ke.send()}function z(we,c,S){Ae(ve,we,c,S,!0)}function ce(){var we=ne.getReadOnlyMetricsFor(d.default.STREAM),c=K.getLatestMPDRequestHeaderValueByID(we,"Date"),S=c!==null?new Date(c).getTime():Number.NaN;isNaN(S)?Se(!0):(le(S-new Date().getTime()),Se(!1,S/1e3,Pe))}function Se(we,c,S){Q(!1),xe.trigger(C.default.TIME_SYNCHRONIZATION_COMPLETED,{time:c,offset:S,error:we?new y.default(x):null})}function De(we,c){var S=c||0,U=we[S],W=function(Z,ye){var qe=!Z||!ye;qe&&L?ce():Se(qe,Z,ye)};Q(!0),U?k.hasOwnProperty(U.schemeIdUri)?k[U.schemeIdUri](U.value,function(Z){var ye=new Date().getTime(),qe=Z-ye;le(qe),Ie("Local time:      "+new Date(ye)),Ie("Server time:     "+new Date(Z)),Ie("Difference (ms): "+qe),W(Z,qe)},function(){De(we,S+1)}):De(we,S+1):(le(0),W())}function ae(){re(!1),Q(!1)}var me=this.context,Ie=(0,H.default)(me).getInstance().log,xe=(0,b.default)(me).getInstance(),de=(0,j.default)(me).getInstance(),Pe=void 0,P=void 0,J=void 0,L=void 0,k=void 0,ne=void 0,K=void 0,he=void 0;return{initialize:I,getOffsetToDeviceTimeMs:q,setConfig:O,reset:ae}}Object.defineProperty(u,"__esModule",{value:!0});var E=t(98),d=f(E),_=t(160),y=f(_),T=t(179),m=t(47),b=f(m),A=t(51),C=f(A),R=t(48),N=f(R),M=t(46),H=f(M),Y=t(155),j=f(Y),x=1,o=5e3;g.__dashjs_factory_name="TimeSyncController";var G=N.default.getSingletonFactory(g);G.TIME_SYNC_FAILED_ERROR_CODE=x,G.HTTP_TIMEOUT_MS=o,N.default.updateSingletonFactory(g.__dashjs_factory_name,G),u.default=G,p.exports=u.default},{155:155,160:160,179:179,46:46,47:47,48:48,51:51,98:98}],112:[function(t,p,u){"use strict";function f(I){return I&&I.__esModule?I:{default:I}}function g(I){function O(){z.on(m.default.XLINK_ELEMENT_LOADED,ee,Se),xe=(0,d.default)(Ae).create({errHandler:I.errHandler,metricsModel:I.metricsModel,mediaPlayerModel:I.mediaPlayerModel,requestModifier:I.requestModifier})}function q(de){de&&(De=de)}function Q(de){de&&(ae=de)}function pe(de){var Pe=void 0;Ie=new R.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:De}),me=de,Pe=ie(me.Period_asArray,me,j,H),le(Pe,j,H)}function re(){z.off(m.default.XLINK_ELEMENT_LOADED,ee,Se),xe&&(xe.reset(),xe=null)}function le(de,Pe,P){var J={},L=void 0,k=void 0;J.elements=de,J.type=Pe,J.resolveType=P,J.elements.length===0&&be(J);for(var ne=0;ne<J.elements.length;ne++)L=J.elements[ne],k=ce.isHTTPURL(L.url)?L.url:L.originalContent.BaseURL+L.url,xe.load(k,L,J)}function ee(de){var Pe=void 0,P=void 0,J="";if(Pe=de.element,P=de.resolveObject,Pe.resolvedContent){var L=0;Pe.resolvedContent.indexOf("<?xml")===0&&(L=Pe.resolvedContent.indexOf("?>")+2),J=Pe.resolvedContent.substr(0,L)+"<response>"+Pe.resolvedContent.substr(L)+"</response>",Pe.resolvedContent=Ie.xml_str2json(J)}fe(P)&&be(P)}function be(de){var Pe=[],P=void 0,J=void 0;if(Te(de),de.resolveType===Y&&z.trigger(m.default.XLINK_READY,{manifest:me}),de.resolveType===H)switch(de.type){case j:for(P=0;P<me[j+"_asArray"].length;P++)J=me[j+"_asArray"][P],J.hasOwnProperty(x+"_asArray")&&(Pe=Pe.concat(ie(J[x+"_asArray"],J,x,H))),J.hasOwnProperty(o+"_asArray")&&(Pe=Pe.concat(ie(J[o+"_asArray"],J,o,H)));le(Pe,x,H);break;case x:z.trigger(m.default.XLINK_READY,{manifest:me})}}function ie(de,Pe,P,J){var L=[],k=void 0,ne=void 0,K=void 0;for(ne=de.length-1;ne>=0;ne--)k=de[ne],k.hasOwnProperty("xlink:href")&&k["xlink:href"]===G&&de.splice(ne,1);for(ne=0;ne<de.length;ne++)k=de[ne],k.hasOwnProperty("xlink:href")&&k.hasOwnProperty("xlink:actuate")&&k["xlink:actuate"]===J&&(K=ve(k["xlink:href"],Pe,P,ne,J,k),L.push(K));return L}function Te(de){var Pe=[],P=void 0,J=void 0,L=void 0,k=void 0,ne=void 0,K=void 0;for(k=de.elements.length-1;k>=0;k--){if(P=de.elements[k],J=P.type+"_asArray",!P.resolvedContent||Ee())delete P.originalContent["xlink:actuate"],delete P.originalContent["xlink:href"],Pe.push(P.originalContent);else if(P.resolvedContent)for(ne=0;ne<P.resolvedContent[J].length;ne++)L=P.resolvedContent[J][ne],Pe.push(L);for(P.parentElement[J].splice(P.index,1),K=0;K<Pe.length;K++)P.parentElement[J].splice(P.index+K,0,Pe[K]);Pe=[]}de.elements.length>0&&ae.run(me)}function ve(de,Pe,P,J,L,k){return{url:de,parentElement:Pe,type:P,index:J,resolveType:L,originalContent:k,resolvedContent:null,resolved:!1}}function fe(de){var Pe=void 0,P=void 0;for(Pe=0;Pe<de.elements.length;Pe++)if(P=de.elements[Pe],P.resolved===!1)return!1;return!0}function Ee(){return!1}I=I||{};var Ae=this.context,z=(0,y.default)(Ae).getInstance(),ce=(0,M.default)(Ae).getInstance(),Se=void 0,De=void 0,ae=void 0,me=void 0,Ie=void 0,xe=void 0;return Se={resolveManifestOnLoad:pe,setMatchers:q,setIron:Q,reset:re},O(),Se}Object.defineProperty(u,"__esModule",{value:!0});var E=t(97),d=f(E),_=t(47),y=f(_),T=t(51),m=f(T),b=t(48),A=f(b),C=t(4),R=f(C),N=t(155),M=f(N),H="onLoad",Y="onActuate",j="Period",x="AdaptationSet",o="EventStream",G="urn:mpeg:dash:resolve-to-zero:2013";g.__dashjs_factory_name="XlinkController",u.default=A.default.getClassFactory(g),p.exports=u.default},{155:155,4:4,47:47,48:48,51:51,97:97}],113:[function(t,p,u){"use strict";function f(A){return A&&A.__esModule?A:{default:A}}function g(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function")}function E(){function A(){j()}function C(Q){Q.dashManifestModel&&(I=Q.dashManifestModel)}function R(Q,pe,re){var le=I.getBaseURLsFromElement(re);Q[pe]?q.areEqual(le,Q[pe].data.baseUrls)||(Q[pe].data.baseUrls=le,Q[pe].data.selectedIdx=m):Q[pe]=new b(le)}function N(Q){var pe=I.getBaseURLsFromElement(Q);q.areEqual(pe,G.data.baseUrls)||(G.data.baseUrls=pe,G.data.selectedIdx=m),Q.Period_asArray&&Q.Period_asArray.forEach(function(re,le){R(G.children,le,re),re.AdaptationSet_asArray&&re.AdaptationSet_asArray.forEach(function(ee,be){R(G.children[le].children,be,ee),ee.Representation_asArray&&ee.Representation_asArray.sort(I.getRepresentationSortFunction()).forEach(function(ie,Te){R(G.children[le].children[be].children,Te,ie)})})})}function M(Q,pe){var re=pe||G;Q(re.data),re.children&&re.children.forEach(function(le){return M(Q,le)})}function H(Q){M(function(pe){isNaN(pe.selectedIdx)||Q===pe.baseUrls[pe.selectedIdx].serviceLocation&&(pe.selectedIdx=m)})}function Y(Q){N(Q)}function j(){G=new b}function x(Q){var pe=G,re=[pe.data];return Q&&Q.forEach(function(le){(pe=pe.children[le])&&re.push(pe.data)}),re.filter(function(le){return le.baseUrls.length})}var o=void 0,G=void 0,I=void 0,O=this.context,q=(0,_.default)(O).getInstance();return o={reset:j,update:Y,getForPath:x,invalidateSelectedIndexes:H,setConfig:C},A(),o}Object.defineProperty(u,"__esModule",{value:!0});var d=t(152),_=f(d),y=t(48),T=f(y),m=NaN,b=function A(C,R){g(this,A),this.data={baseUrls:C||null,selectedIdx:R||m},this.children=[]};E.__dashjs_factory_name="BaseURLTreeModel",u.default=T.default.getClassFactory(E),p.exports=u.default},{152:152,48:48}],114:[function(t,p,u){"use strict";function f(x){return x&&x.__esModule?x:{default:x}}function g(x){function o(){Se(),xe.on(y.default.LOADING_COMPLETED,z,P),xe.on(y.default.LOADING_ABANDONED,ce,P)}function G(ne){J=ne}function I(){return J}function O(ne){var K=function(U,W){return U.url===W.url},he=function(U,W){return U.action===A.default.ACTION_COMPLETE&&U.action===W.action},we=function(U,W){return!isNaN(U.index)&&U.startTime===W.startTime&&U.adaptationIndex===W.adaptationIndex},c=function(U,W){return isNaN(U.index)&&isNaN(W.index)&&U.quality===W.quality},S=function(U){var W=!1;return U.some(function(Z){if(K(ne,Z)&&(we(ne,Z)||c(ne,Z)||he(ne,Z)))return W=!0}),W};return!!ne&&S(L)}function q(ne){var K=!1,he=0,we=void 0;if(!(K=O(ne)))for(he=0;he<k.length;he++)we=k[he],ne.url===we.url&&ne.startTime===we.startTime&&(K=!0);return K}function Q(ne){var K=ne?ne.state instanceof Array?ne.state:[ne.state]:[],he=[];return K.forEach(function(we){var c=Ee(we);he=he.concat(fe(c,ne))}),he}function pe(ne){return isNaN(ne.duration)?.25:ne.duration/8}function re(ne){L=L.filter(function(K){var he=pe(K);return!(!isNaN(K.startTime)&&ne===void 0)&&K.startTime>=ne-he})}function le(ne,K){K<=ne+.5||(L=L.filter(function(he){var we=pe(he);return isNaN(he.startTime)||he.startTime>=K-we||isNaN(he.duration)||he.startTime+he.duration<=ne+we}))}function ee(ne,K){if(!ne||ne.length===0)return void(L=[]);for(var he=0,we=0,c=ne.length;we<c;we++)le(he,ne.start(we)),he=ne.end(we);K>0&&le(he,K)}function be(){Pe.abort(),k=[]}function ie(ne){switch(ne.action){case A.default.ACTION_COMPLETE:L.push(ne),Ae(ne,M),Ie("[FragmentModel] executeRequest trigger STREAM_COMPLETED"),xe.trigger(y.default.STREAM_COMPLETED,{request:ne,fragmentModel:this});break;case A.default.ACTION_DOWNLOAD:Ae(ne,N),k.push(ne),Te(ne);break;default:Ie("Unknown request action.")}}function Te(ne){xe.trigger(y.default.FRAGMENT_LOADING_STARTED,{sender:P,request:ne}),Pe.load(ne)}function ve(ne,K,he){for(var we=ne.length-1,c=we;c>=0;c--){var S=ne[c],U=S.startTime,W=U+S.duration;if(he=isNaN(he)?pe(S):he,!isNaN(U)&&!isNaN(W)&&K+he>=U&&K-he<W||isNaN(U)&&isNaN(K))return S}return null}function fe(ne,K){return K.hasOwnProperty("time")?[ve(ne,K.time,K.threshold)]:ne.filter(function(he){for(var we in K)if(we!=="state"&&K.hasOwnProperty(we)&&he[we]!=K[we])return!1;return!0})}function Ee(ne){var K=void 0;switch(ne){case N:K=k;break;case M:K=L;break;default:K=[]}return K}function Ae(ne,K){de.addSchedulingInfo(ne.mediaType,new Date,ne.type,ne.startTime,ne.availabilityStartTime,ne.duration,ne.quality,ne.range,K),de.addRequestsQueue(ne.mediaType,k,L)}function z(ne){ne.sender===Pe&&(k.splice(k.indexOf(ne.request),1),ne.response&&!ne.error&&L.push(ne.request),Ae(ne.request,ne.error?Y:M),xe.trigger(y.default.FRAGMENT_LOADING_COMPLETED,{request:ne.request,response:ne.response,error:ne.error,sender:this}))}function ce(ne){ne.sender===Pe&&xe.trigger(y.default.FRAGMENT_LOADING_ABANDONED,{streamProcessor:this.getStreamProcessor(),request:ne.request,mediaType:ne.mediaType})}function Se(){L=[],k=[]}function De(){xe.off(y.default.LOADING_COMPLETED,z,this),xe.off(y.default.LOADING_ABANDONED,ce,this),Pe&&Pe.reset(),Se()}function ae(ne){L.push(ne)}x=x||{};var me=this.context,Ie=(0,R.default)(me).getInstance().log,xe=(0,d.default)(me).getInstance(),de=x.metricsModel,Pe=x.fragmentLoader,P=void 0,J=void 0,L=void 0,k=void 0;return P={setStreamProcessor:G,getStreamProcessor:I,getRequests:Q,isFragmentLoaded:O,isFragmentLoadedOrPending:q,removeExecutedRequestsBeforeTime:re,syncExecutedRequestsWithBufferedRange:ee,abortRequests:be,executeRequest:ie,reset:De,addExecutedRequest:ae},o(),P}Object.defineProperty(u,"__esModule",{value:!0});var E=t(47),d=f(E),_=t(51),y=f(_),T=t(48),m=f(T),b=t(162),A=f(b),C=t(46),R=f(C),N="loading",M="executed",H="canceled",Y="failed";g.__dashjs_factory_name="FragmentModel";var j=m.default.getClassFactory(g);j.FRAGMENT_MODEL_LOADING=N,j.FRAGMENT_MODEL_EXECUTED=M,j.FRAGMENT_MODEL_CANCELED=H,j.FRAGMENT_MODEL_FAILED=Y,m.default.updateClassFactory(g.__dashjs_factory_name,j),u.default=j,p.exports=u.default},{162:162,46:46,47:47,48:48,51:51}],115:[function(t,p,u){"use strict";function f(b){return b&&b.__esModule?b:{default:b}}function g(){function b(){return N}function A(M){N=M,M&&R.trigger(y.default.MANIFEST_LOADED,{data:M})}var C=this.context,R=(0,d.default)(C).getInstance(),N=void 0;return{getValue:b,setValue:A}}Object.defineProperty(u,"__esModule",{value:!0});var E=t(47),d=f(E),_=t(51),y=f(_),T=t(48),m=f(T);g.__dashjs_factory_name="ManifestModel",u.default=m.default.getSingletonFactory(g),p.exports=u.default},{47:47,48:48,51:51}],116:[function(t,p,u){"use strict";function f(z){return z&&z.__esModule?z:{default:z}}function g(z,ce,Se){return ce in z?Object.defineProperty(z,ce,{value:Se,enumerable:!0,configurable:!0,writable:!0}):z[ce]=Se,z}function E(){function z(){var Et,Qt;Pt=[],It=!1,rt=!0,ei=!0,Ti=m.default.ABR_STRATEGY_DYNAMIC,pi=!0,fn=!1,ai={enabled:!0,ttl:C},di={enabled:!0,ttl:R},Gt=A,Yt=void 0,Xt=H,ni=Y,li=j,Ze=NaN,Dt=G,ue=I,Ue=O,ot=q,mt=N,yt=M,ii=fe,Ji=!1,ji=Q,ci={default:Ee},ki=[],sn=m.default.MOVING_AVERAGE_SLIDING_WINDOW,Et={},g(Et,y.HTTPRequest.MPD_TYPE,be),g(Et,y.HTTPRequest.XLINK_EXPANSION_TYPE,Te),g(Et,y.HTTPRequest.MEDIA_SEGMENT_TYPE,le),g(Et,y.HTTPRequest.INIT_SEGMENT_TYPE,le),g(Et,y.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,le),g(Et,y.HTTPRequest.INDEX_SEGMENT_TYPE,le),g(Et,y.HTTPRequest.OTHER_TYPE,le),Ft=Et,Qt={},g(Qt,y.HTTPRequest.MPD_TYPE,ie),g(Qt,y.HTTPRequest.XLINK_EXPANSION_TYPE,ve),g(Qt,y.HTTPRequest.MEDIA_SEGMENT_TYPE,ee),g(Qt,y.HTTPRequest.INIT_SEGMENT_TYPE,ee),g(Qt,y.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,ee),g(Qt,y.HTTPRequest.INDEX_SEGMENT_TYPE,ee),g(Qt,y.HTTPRequest.OTHER_TYPE,ee),Vt=Qt,Hi={},Hi[m.default.VIDEO]=pe,Hi[m.default.AUDIO]=re}function ce(Et){Ti=Et}function Se(){return Ti}function De(Et){pi=Et}function ae(){return pi}function me(Et){var Qt=void 0;for(Qt=0;Qt<ki.length;Qt++)if(ki[Qt].rulename===Et)return Qt;return-1}function Ie(){return ki}function xe(Et,Qt,An){var Rn=me(Qt);Rn===-1?ki.push({type:Et,rulename:Qt,rule:An}):(ki[Rn].type=Et,ki[Rn].rule=An)}function de(Et){var Qt=me(Et);Qt!==-1&&ki.splice(Qt,1)}function Pe(){ki=[]}function P(Et){mt=Et}function J(){return mt}function L(Et){yt=Et}function k(){return yt}function ne(Et){Ze=Et}function K(){return isNaN(Ze)?fn?o:x:Ze}function he(Et){Dt=Et}function we(){return Dt}function c(Et){ue=Et}function S(){return ue}function U(Et){Ue=Et}function W(){return Ue}function Z(Et){ot=Et}function ye(){return ot}function qe(Et,Qt){Hi[Et]=Qt}function ke(Et){return Hi[Et]}function We(Et){Xt=Et}function Ye(){return Xt}function Xe(Et){ni=Et}function ht(){return ni}function Ct(Et,Qt){ai.enabled=Et,Qt===void 0||isNaN(Qt)||typeof Qt!="number"||(ai.ttl=Qt)}function Ke(){return ai}function pt(Et,Qt){di.enabled=Et,Qt===void 0||isNaN(Qt)||typeof Qt!="number"||(di.ttl=Qt)}function dt(){return di}function nt(Et){li=Et}function Lt(){return li}function Ut(Et){Ft[y.HTTPRequest.MEDIA_SEGMENT_TYPE]=Et}function gt(Et){Ft[y.HTTPRequest.MPD_TYPE]=Et}function Tt(Et,Qt){Ft[Et]=Qt}function st(){return Ft[y.HTTPRequest.MEDIA_SEGMENT_TYPE]}function Je(){return Ft[y.HTTPRequest.MPD_TYPE]}function et(Et){return Ft[Et]}function St(Et){Vt[y.HTTPRequest.MEDIA_SEGMENT_TYPE]=Et}function wt(Et){Vt[y.HTTPRequest.MPD_TYPE]=Et}function lt(Et,Qt){Vt[Et]=Qt}function ut(){return Vt[y.HTTPRequest.MEDIA_SEGMENT_TYPE]}function bt(){return Vt[y.HTTPRequest.MPD_TYPE]}function kt(Et){return Vt[Et]}function Mt(Et){ii=Et}function se(){return ii}function Be(Et){ei=Et}function e(){return ei}function i(Et){Gt=Et}function n(Et){Yt=Et}function r(){return Gt}function h(){return Yt}function w(Et){rt=Et}function B(){return rt}function V(Et){It=Et}function oe(){return It}function Me(Et){Pt=Et}function Re(){return Pt}function je(Et,Qt){Et?ci[Et]=!!Qt:Object.keys(ci).forEach(function(An){je(An,Qt)})}function ze(Et){var Qt=ci[Et];return Qt===void 0?ci.default:Qt}function Ne(){return fn}function Oe(Et){fn=Et}function tt(Et){sn=Et}function it(){return sn}function xt(Et){Ji=Et}function Ot(){return Ji}function Wt(Et){ji=Et}function zt(){return ji}function qt(){}var Bt=void 0,rt=void 0,It=void 0,Pt=void 0,Gt=void 0,Yt=void 0,ei=void 0,Xt=void 0,ni=void 0,li=void 0,ai=void 0,di=void 0,Ze=void 0,Dt=void 0,ue=void 0,Ue=void 0,ot=void 0,mt=void 0,yt=void 0,Ft=void 0,Vt=void 0,ii=void 0,Ti=void 0,pi=void 0,ci=void 0,fn=void 0,ki=void 0,sn=void 0,Hi=void 0,Ji=void 0,ji=void 0;return Bt={setABRStrategy:ce,getABRStrategy:Se,setUseDefaultABRRules:De,getUseDefaultABRRules:ae,getABRCustomRules:Ie,addABRCustomRule:xe,removeABRCustomRule:de,removeAllABRCustomRule:Pe,setBandwidthSafetyFactor:P,getBandwidthSafetyFactor:J,setAbandonLoadTimeout:L,getAbandonLoadTimeout:k,setLastBitrateCachingInfo:Ct,getLastBitrateCachingInfo:Ke,setLastMediaSettingsCachingInfo:pt,getLastMediaSettingsCachingInfo:dt,setStableBufferTime:ne,getStableBufferTime:K,setBufferTimeAtTopQuality:he,getBufferTimeAtTopQuality:we,setBufferTimeAtTopQualityLongForm:c,getBufferTimeAtTopQualityLongForm:S,setLongFormContentDurationThreshold:U,getLongFormContentDurationThreshold:W,setSegmentOverlapToleranceTime:Z,getSegmentOverlapToleranceTime:ye,getCacheLoadThresholdForType:ke,setCacheLoadThresholdForType:qe,setBufferToKeep:We,getBufferToKeep:Ye,setBufferAheadToKeep:Xe,getBufferAheadToKeep:ht,setBufferPruningInterval:nt,getBufferPruningInterval:Lt,setFragmentRetryAttempts:Ut,getFragmentRetryAttempts:st,setManifestRetryAttempts:gt,getManifestRetryAttempts:Je,setRetryAttemptsForType:Tt,getRetryAttemptsForType:et,setFragmentRetryInterval:St,getFragmentRetryInterval:ut,setManifestRetryInterval:wt,getManifestRetryInterval:bt,setRetryIntervalForType:lt,getRetryIntervalForType:kt,setWallclockTimeUpdateInterval:Mt,getWallclockTimeUpdateInterval:se,setScheduleWhilePaused:Be,getScheduleWhilePaused:e,getUseSuggestedPresentationDelay:oe,setUseSuggestedPresentationDelay:V,setLiveDelayFragmentCount:i,getLiveDelayFragmentCount:r,getLiveDelay:h,setLiveDelay:n,setUseManifestDateHeaderTimeSource:w,getUseManifestDateHeaderTimeSource:B,setUTCTimingSources:Me,getUTCTimingSources:Re,setXHRWithCredentialsForType:je,getXHRWithCredentialsForType:ze,setFastSwitchEnabled:Oe,getFastSwitchEnabled:Ne,setMovingAverageMethod:tt,getMovingAverageMethod:it,setJumpGaps:xt,getJumpGaps:Ot,setSmallGapLimit:Wt,getSmallGapLimit:zt,reset:qt},z(),Bt}Object.defineProperty(u,"__esModule",{value:!0});var d=t(48),_=f(d),y=t(179),T=t(98),m=f(T),b={scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"http://time.akamai.com/?iso"},A=4,C=36e4,R=36e4,N=.9,M=1e4,H=20,Y=80,j=10,x=12,o=20,G=30,I=60,O=600,q=.05,Q=.8,pe=50,re=5,le=3,ee=1e3,be=3,ie=500,Te=1,ve=500,fe=50,Ee=!1;E.__dashjs_factory_name="MediaPlayerModel";var Ae=_.default.getSingletonFactory(E);Ae.DEFAULT_UTC_TIMING_SOURCE=b,_.default.updateSingletonFactory(E.__dashjs_factory_name,Ae),u.default=Ae,p.exports=u.default},{179:179,48:48,98:98}],117:[function(t,p,u){"use strict";function f(fe){return fe&&fe.__esModule?fe:{default:fe}}function g(){function fe(){Ct={}}function Ee(Ke){Ke&&Ke.adapter&&(ht=Ke.adapter)}function Ae(){Ye.trigger(ie.default.METRICS_CHANGED)}function z(Ke){Ye.trigger(ie.default.METRIC_CHANGED,{mediaType:Ke}),Ae()}function ce(Ke,pt,dt){Ye.trigger(ie.default.METRIC_UPDATED,{mediaType:Ke,metric:pt,value:dt}),z(Ke)}function Se(Ke,pt,dt){Ye.trigger(ie.default.METRIC_ADDED,{mediaType:Ke,metric:pt,value:dt}),z(Ke)}function De(Ke){delete Ct[Ke],z(Ke)}function ae(){Ct={},Ae()}function me(Ke){return Ct.hasOwnProperty(Ke)?Ct[Ke]:null}function Ie(Ke){var pt=void 0;return Ct.hasOwnProperty(Ke)?pt=Ct[Ke]:(pt=new m.default,Ct[Ke]=pt),pt}function xe(Ke,pt,dt){var nt=Ie(Ke);nt[pt].push(dt),nt[pt].length>ke&&nt[pt].shift()}function de(Ke,pt,dt,nt,Lt,Ut){var gt=new A.default;return gt.tcpid=pt,gt.dest=dt,gt.topen=nt,gt.tclose=Lt,gt.tconnect=Ut,L(Ke,y.default.TCP_CONNECTION,gt),gt}function Pe(Ke,pt,dt,nt){var Lt=new C.HTTPRequestTrace;return Lt.s=pt,Lt.d=dt,Lt.b=nt,Ke.trace.push(Lt),Ke.interval||(Ke.interval=0),Ke.interval+=dt,Lt}function P(Ke,pt,dt,nt,Lt,Ut,gt,Tt,st,Je,et,St,wt,lt){var ut=new C.HTTPRequest;return Lt&&Lt!==nt&&(P(Ke,null,dt,nt,null,null,gt,Tt,null,null,null,St,null,null),ut.actualurl=Lt),ut.tcpid=pt,ut.type=dt,ut.url=nt,ut.range=gt,ut.trequest=Tt,ut.tresponse=st,ut.responsecode=et,ut._tfinish=Je,ut._stream=Ke,ut._mediaduration=St,ut._responseHeaders=wt,ut._serviceLocation=Ut,lt?lt.forEach(function(bt){Pe(ut,bt.s,bt.d,bt.b)}):(delete ut.interval,delete ut.trace),L(Ke,y.default.HTTP_REQUEST,ut),ut}function J(Ke,pt,dt,nt,Lt){var Ut=new N.default;return Ut.t=pt,Ut.mt=dt,Ut.to=nt,Lt?Ut.lto=Lt:delete Ut.lto,L(Ke,y.default.TRACK_SWITCH,Ut),Ut}function L(Ke,pt,dt){xe(Ke,pt,dt),Se(Ke,pt,dt)}function k(Ke,pt,dt){var nt=new H.default;return nt.t=pt,nt.level=dt,L(Ke,y.default.BUFFER_LEVEL,nt),nt}function ne(Ke,pt,dt){var nt=new j.default;return nt.target=dt,nt.state=pt,L(Ke,y.default.BUFFER_STATE,nt),nt}function K(Ke,pt,dt,nt){var Lt=new o.default;return Lt.time=pt,Lt.range=nt,Lt.manifestInfo=dt,L(Ke,y.default.DVR_INFO,Lt),Lt}function he(Ke,pt){var dt=new I.default,nt=Ie(Ke).DroppedFrames;return dt.time=pt.creationTime,dt.droppedFrames=pt.droppedVideoFrames,nt.length>0&&nt[nt.length-1]==dt?nt[nt.length-1]:(L(Ke,y.default.DROPPED_FRAMES,dt),dt)}function we(Ke,pt,dt,nt,Lt,Ut,gt,Tt,st){var Je=new Q.default;return Je.mediaType=Ke,Je.t=pt,Je.type=dt,Je.startTime=nt,Je.availabilityStartTime=Lt,Je.duration=Ut,Je.quality=gt,Je.range=Tt,Je.state=st,L(Ke,y.default.SCHEDULING_INFO,Je),Je}function c(Ke,pt,dt){var nt=new ee.default;nt.loadingRequests=pt,nt.executedRequests=dt,Ie(Ke).RequestsQueue=nt,Se(Ke,y.default.REQUESTS_QUEUE,nt)}function S(Ke,pt,dt,nt,Lt,Ut,gt,Tt,st,Je){var et=new O.ManifestUpdate;return et.mediaType=Ke,et.type=pt,et.requestTime=dt,et.fetchTime=nt,et.availabilityStartTime=Lt,et.presentationStartTime=Ut,et.clientTimeOffset=gt,et.currentTime=Tt,et.buffered=st,et.latency=Je,xe(d.default.STREAM,y.default.MANIFEST_UPDATE,et),Se(Ke,y.default.MANIFEST_UPDATE,et),et}function U(Ke,pt){if(Ke){for(var dt in pt)Ke[dt]=pt[dt];ce(Ke.mediaType,y.default.MANIFEST_UPDATE,Ke)}}function W(Ke,pt,dt,nt,Lt){if(Ke){var Ut=new O.ManifestUpdateStreamInfo;return Ut.id=pt,Ut.index=dt,Ut.start=nt,Ut.duration=Lt,Ke.streamInfo.push(Ut),ce(Ke.mediaType,y.default.MANIFEST_UPDATE_STREAM_INFO,Ke),Ut}return null}function Z(Ke,pt,dt,nt,Lt,Ut,gt,Tt){if(Ke){var st=new O.ManifestUpdateRepresentationInfo;return st.id=pt,st.index=dt,st.streamIndex=nt,st.mediaType=Lt,st.startNumber=gt,st.fragmentInfoType=Tt,st.presentationTimeOffset=Ut,Ke.representationInfo.push(st),ce(Ke.mediaType,y.default.MANIFEST_UPDATE_TRACK_INFO,Ke),st}return null}function ye(Ke){var pt=d.default.STREAM;return Ke.trace&&Array.isArray(Ke.trace)?Ke.trace.forEach(function(dt){dt.hasOwnProperty("subreplevel")&&!dt.subreplevel&&delete dt.subreplevel}):delete Ke.trace,L(pt,y.default.PLAY_LIST,Ke),Ke}function qe(Ke){return L(d.default.STREAM,y.default.DVB_ERRORS,Ke),Ke}var ke=1e3,We=this.context,Ye=(0,re.default)(We).getInstance(),Xe=void 0,ht=void 0,Ct=void 0;return Xe={clearCurrentMetricsForType:De,clearAllCurrentMetrics:ae,getReadOnlyMetricsFor:me,getMetricsFor:Ie,addTcpConnection:de,addHttpRequest:P,addRepresentationSwitch:J,addBufferLevel:k,addBufferState:ne,addDVRInfo:K,addDroppedFrames:he,addSchedulingInfo:we,addRequestsQueue:c,addManifestUpdate:S,updateManifestUpdateInfo:U,addManifestUpdateStreamInfo:W,addManifestUpdateRepresentationInfo:Z,addPlayList:ye,addDVBErrors:qe,setConfig:Ee},fe(),Xe}Object.defineProperty(u,"__esModule",{value:!0});var E=t(98),d=f(E),_=t(99),y=f(_),T=t(167),m=f(T),b=t(185),A=f(b),C=t(179),R=t(182),N=f(R),M=t(175),H=f(M),Y=t(176),j=f(Y),x=t(177),o=f(x),G=t(178),I=f(G),O=t(180),q=t(184),Q=f(q),pe=t(47),re=f(pe),le=t(183),ee=f(le),be=t(51),ie=f(be),Te=t(48),ve=f(Te);g.__dashjs_factory_name="MetricsModel",u.default=ve.default.getSingletonFactory(g),p.exports=u.default},{167:167,175:175,176:176,177:177,178:178,179:179,180:180,182:182,183:183,184:184,185:185,47:47,48:48,51:51,98:98,99:99}],118:[function(t,p,u){"use strict";function f(T){return T&&T.__esModule?T:{default:T}}function g(){function T(){R=new d.default,N=[],M=!1}function m(){return R}function b(){return N}function A(){return M}function C(H){function Y(Q,pe,re,le){var ee=le[0].split(/[=]/);return le.push({key:ee[0],value:ee[1]}),le.shift(),le}function j(Q,pe,re){return pe>0&&(O&&N.length===0?N=re[pe].split(/[&]/):q&&(x=re[pe].split(/[&]/))),re}if(!H)return null;var x=[],o=new RegExp(/[?]/),G=new RegExp(/[#]/),I=new RegExp(/^(https:)?\/\//i),O=o.test(H),q=G.test(H);return M=I.test(H),H.split(/[?#]/).map(j),N.length>0&&(N=N.reduce(Y,null)),x.length>0&&(x=x.reduce(Y,null),x.forEach(function(Q){R[Q.key]=Q.value})),H}var R=void 0,N=void 0,M=void 0;return{initialize:T,parseURI:C,getURIFragmentData:m,getURIQueryData:b,isManifestHTTPS:A}}Object.defineProperty(u,"__esModule",{value:!0});var E=t(174),d=f(E),_=t(48),y=f(_);g.__dashjs_factory_name="URIQueryAndFragmentModel",u.default=y.default.getSingletonFactory(g),p.exports=u.default},{174:174,48:48}],119:[function(t,p,u){"use strict";function f(C){return C&&C.__esModule?C:{default:C}}function g(){function C(){qe.on(m.default.PLAYBACK_PLAYING,be,this)}function R(){qe.off(m.default.PLAYBACK_PLAYING,be,this)}function N(){c&&(c.playbackRate=W||1,c.removeEventListener("canplay",N))}function M(We){c&&(c.readyState<=2&&We>0?c.addEventListener("canplay",N):c.playbackRate=We)}function H(We){if(c){if(c.currentTime==We)return;try{c.currentTime=We}catch(Ye){c.readyState===0&&Ye.code===Ye.INVALID_STATE_ERR&&setTimeout(function(){c.currentTime=We},400)}}}function Y(){return c}function j(We){c=We,c.preload="auto"}function x(We){c&&(We?c.src=We:(c.removeAttribute("src"),c.load()))}function o(){return c?c.src:null}function G(){return U}function I(We){U=We}function O(){return S}function q(We){S=We,S.style.position="absolute",S.style.display="flex",S.style.overflow="hidden",S.style.pointerEvents="none",S.style.top=0,S.style.left=0}function Q(We,Ye){ee(We,Ye)}function pe(){return ke.length>0}function re(We){var Ye=void 0;We===null||c.seeking||ke.indexOf(We)!==-1||(ke.push(We),c&&ke.length===1&&(Ye=document.createEvent("Event"),Ye.initEvent("waiting",!0,!1),W=c.playbackRate,M(0),c.dispatchEvent(Ye)))}function le(We){var Ye=ke.indexOf(We),Xe=void 0;We!==null&&(Ye!==-1&&ke.splice(Ye,1),c&&pe()===!1&&c.playbackRate===0&&(M(W||1),c.paused||(Xe=document.createEvent("Event"),Xe.initEvent("playing",!0,!1),c.dispatchEvent(Xe))))}function ee(We,Ye){Ye?re(We):le(We)}function be(){if(c&&pe()&&c.playbackRate===0){var We=document.createEvent("Event");We.initEvent("waiting",!0,!1),c.dispatchEvent(We)}}function ie(){if(!c)return null;var We="webkitDroppedFrameCount"in c&&"webkitDecodedFrameCount"in c,Ye="getVideoPlaybackQuality"in c,Xe=null;return Ye?Xe=c.getVideoPlaybackQuality():We&&(Xe={droppedVideoFrames:c.webkitDroppedFrameCount,totalVideoFrames:c.webkitDroppedFrameCount+c.webkitDecodedFrameCount,creationTime:new Date}),Xe}function Te(){if(c){c.autoplay=!0;var We=c.play();We&&typeof Promise!="undefined"&&We instanceof Promise&&We.catch(function(Ye){Ye.name==="NotAllowedError"&&qe.trigger(m.default.PLAYBACK_NOT_ALLOWED),ye("Caught pending play exception - continuing ("+Ye+")")})}}function ve(){return c?c.paused:null}function fe(){c&&(c.pause(),c.autoplay=!1)}function Ee(){return c?c.seeking:null}function Ae(){return c?c.currentTime:null}function z(){return c?c.playbackRate:null}function ce(){return c?c.played:null}function Se(){return c?c.ended:null}function De(We,Ye){c&&c.addEventListener(We,Ye)}function ae(We,Ye){c&&c.removeEventListener(We,Ye)}function me(){return c?c.readyState:NaN}function Ie(){return c?c.buffered:null}function xe(){return c?c.clientWidth:NaN}function de(){return c?c.clientHeight:NaN}function Pe(){return c?c.videoWidth:NaN}function P(){return c?c.videoHeight:NaN}function J(){return c&&c.parentNode?c.getBoundingClientRect().top-c.parentNode.getBoundingClientRect().top:NaN}function L(){return c&&c.parentNode?c.getBoundingClientRect().left-c.parentNode.getBoundingClientRect().left:NaN}function k(){return c?c.textTracks:[]}function ne(We,Ye,Xe,ht,Ct){if(c){for(var Ke=0;Ke<c.textTracks.length;Ke++)if(c.textTracks[Ke].kind===We&&(!Ye||c.textTracks[Ke].label==Ye)&&c.textTracks[Ke].language===Xe&&c.textTracks[Ke].isTTML===ht&&c.textTracks[Ke].isEmbedded===Ct)return c.textTracks[Ke]}return null}function K(We,Ye,Xe){return c?c.addTextTrack(We,Ye,Xe):null}function he(We){c&&(c.appendChild(We),We.isTTML!==void 0&&(c.textTracks[c.textTracks.length-1].isTTML=We.isTTML,c.textTracks[c.textTracks.length-1].isEmbedded=We.isEmbedded))}function we(We){c&&c.removeChild(We)}var c=void 0,S=void 0,U=void 0,W=void 0,Z=this.context,ye=(0,A.default)(Z).getInstance().log,qe=(0,y.default)(Z).getInstance(),ke=[];return{initialize:C,setCurrentTime:H,play:Te,isPaused:ve,pause:fe,isSeeking:Ee,getTime:Ae,getPlaybackRate:z,getPlayedRanges:ce,getEnded:Se,setStallState:Q,getElement:Y,setElement:j,setSource:x,getSource:o,getVideoContainer:G,setVideoContainer:I,getTTMLRenderingDiv:O,setTTMLRenderingDiv:q,getPlaybackQuality:ie,addEventListener:De,removeEventListener:ae,getReadyState:me,getBufferRange:Ie,getClientWidth:xe,getClientHeight:de,getTextTracks:k,getTextTrack:ne,addTextTrack:K,appendChild:he,removeChild:we,getVideoWidth:Pe,getVideoHeight:P,getVideoRelativeOffsetTop:J,getVideoRelativeOffsetLeft:L,reset:R}}Object.defineProperty(u,"__esModule",{value:!0});var E=t(48),d=f(E),_=t(47),y=f(_),T=t(51),m=f(T),b=t(46),A=f(b);g.__dashjs_factory_name="VideoModel",u.default=d.default.getSingletonFactory(g),p.exports=u.default},{46:46,47:47,48:48,51:51}],120:[function(t,p,u){"use strict";function f(y){return y&&y.__esModule?y:{default:y}}function g(){function y(R,N){var M=N.droppedVideoFrames-A;A=N.droppedVideoFrames;var H=N.totalVideoFrames-C;C=N.totalVideoFrames,isNaN(R)||(b[R]?(b[R].droppedVideoFrames+=M,b[R].totalVideoFrames+=H):b[R]={droppedVideoFrames:M,totalVideoFrames:H})}function T(){return b}function m(R){b=[],A=R.droppedVideoFrames,C=R.totalVideoFrames}var b=[],A=0,C=0;return{push:y,getFrameHistory:T,reset:m}}Object.defineProperty(u,"__esModule",{value:!0});var E=t(48),d=f(E);g.__dashjs_factory_name="DroppedFramesHistory";var _=d.default.getClassFactory(g);u.default=_,p.exports=u.default},{48:48}],121:[function(t,p,u){"use strict";function f(_){return _&&_.__esModule?_:{default:_}}function g(_){function y(){return x.mediaInfo.type}function T(){return x.mediaInfo.streamInfo}function m(){return x.mediaInfo}function b(){return x}function A(){return j}function C(){return Y}function R(){return o}function N(){return G}function M(){return I}function H(){return O}_=_||{};var Y=_.abrController,j=_.streamProcessor,x=_.streamProcessor.getCurrentRepresentationInfo(),o=_.switchHistory,G=_.droppedFramesHistory,I=_.currentRequest,O=_.useBufferOccupancyABR;return{getMediaType:y,getMediaInfo:m,getDroppedFramesHistory:N,getCurrentRequest:M,getSwitchHistory:R,getStreamInfo:T,getStreamProcessor:A,getAbrController:C,getRepresentationInfo:b,useBufferOccupancyABR:H}}Object.defineProperty(u,"__esModule",{value:!0});var E=t(48),d=f(E);g.__dashjs_factory_name="RulesContext",u.default=d.default.getClassFactory(g),p.exports=u.default},{48:48}],122:[function(t,p,u){"use strict";function f(m){return m&&m.__esModule?m:{default:m}}function g(m,b,A){function C(H){var Y=y.DEFAULT;return H!==y.DEFAULT&&H!==y.STRONG&&H!==y.WEAK||(Y=H),Y}var R=void 0,N=void 0,M=void 0;return R=m===void 0?_:m,N=C(A),M=b===void 0?null:b,{quality:R,reason:M,priority:N}}Object.defineProperty(u,"__esModule",{value:!0});var E=t(48),d=f(E),_=-1,y={DEFAULT:.5,STRONG:1,WEAK:0};g.__dashjs_factory_name="SwitchRequest";var T=d.default.getClassFactory(g);T.NO_CHANGE=_,T.PRIORITY=y,d.default.updateClassFactory(g.__dashjs_factory_name,T),u.default=T,p.exports=u.default},{48:48}],123:[function(t,p,u){"use strict";function f(b){return b&&b.__esModule?b:{default:b}}function g(){function b(M){M.newValue===y.default.NO_CHANGE&&(M.newValue=M.oldValue),R[M.oldValue]||(R[M.oldValue]={noDrops:0,drops:0,dropSize:0});var H=M.newValue-M.oldValue,Y=H<0?1:0,j=Y?-H:0,x=Y?0:1;if(R[M.oldValue].drops+=Y,R[M.oldValue].dropSize+=j,R[M.oldValue].noDrops+=x,N.push({idx:M.oldValue,noDrop:x,drop:Y,dropSize:j}),N.length>T){var o=N.shift();R[o.idx].drops-=o.drop,R[o.idx].dropSize-=o.dropSize,R[o.idx].noDrops-=o.noDrop}}function A(){return R}function C(){R=[],N=[]}var R=[],N=[];return{push:b,getSwitchRequests:A,reset:C}}Object.defineProperty(u,"__esModule",{value:!0});var E=t(48),d=f(E),_=t(122),y=f(_),T=8;g.__dashjs_factory_name="SwitchRequestHistory";var m=d.default.getClassFactory(g);u.default=m,p.exports=u.default},{122:122,48:48}],124:[function(t,p,u){"use strict";function f(T){return T&&T.__esModule?T:{default:T}}function g(T){function m(){ce={throughputHalfLife:{fast:be,slow:ee},latencyHalfLife:{fast:Te,slow:ie}},I()}function b(De,ae,me){return De===d.default.VIDEO?me<ve.getCacheLoadThresholdForType(d.default.VIDEO):De===d.default.AUDIO?me<ve.getCacheLoadThresholdForType(d.default.AUDIO):void 0}function A(De,ae,me){if(ae.trace&&ae.trace.length){var Ie=ae.tresponse.getTime()-ae.trequest.getTime()||1,xe=ae._tfinish.getTime()-ae.tresponse.getTime()||1,de=ae.trace.reduce(function(J,L){return J+L.b[0]},0),Pe=me?xe:Ie+xe,P=Math.round(8*de/Pe);if(o(De),b(De,Ie,xe)){if(fe[De].length>0&&!fe[De].hasCachedEntries)return;fe[De].hasCachedEntries=!0}else fe[De]&&fe[De].hasCachedEntries&&G(De);fe[De].push(P),fe[De].length>O&&fe[De].shift(),Ee[De].push(Ie),Ee[De].length>O&&Ee[De].shift(),C(Ae[De],P,.001*xe,ce.throughputHalfLife),C(z[De],Ie,1,ce.latencyHalfLife)}}function C(De,ae,me,Ie){var xe=Math.pow(.5,me/Ie.fast);De.fastEstimate=(1-xe)*ae+xe*De.fastEstimate;var de=Math.pow(.5,me/Ie.slow);De.slowEstimate=(1-de)*ae+de*De.slowEstimate,De.totalWeight+=me}function R(De,ae,me){var Ie=void 0,xe=void 0;if(De?(Ie=fe[ae],xe=me?q:Q):(Ie=Ee[ae],xe=pe),Ie){if(xe>=Ie.length)xe=Ie.length;else if(De)for(var de=1;de<xe;++de){var Pe=Ie[-de]/Ie[-de-1];if((Pe>=le||Pe<=1/re)&&(xe+=1)===Ie.length)break}}else xe=0;return xe}function N(De,ae,me){return ve.getMovingAverageMethod()!==d.default.MOVING_AVERAGE_SLIDING_WINDOW?H(De,ae):M(De,ae,me)}function M(De,ae,me){var Ie=R(De,ae,me),xe=De?fe:Ee,de=xe[ae];return Ie!==0&&de&&de.length!==0?(de=de.slice(-Ie),de.reduce(function(Pe,P){return Pe+P})/de.length):NaN}function H(De,ae){var me=De?ce.throughputHalfLife:ce.latencyHalfLife,Ie=De?Ae[ae]:z[ae];if(!Ie||Ie.totalWeight<=0)return NaN;var xe=Ie.fastEstimate/(1-Math.pow(.5,Ie.totalWeight/me.fast)),de=Ie.slowEstimate/(1-Math.pow(.5,Ie.totalWeight/me.slow));return De?Math.min(xe,de):Math.max(xe,de)}function Y(De,ae){return N(!0,De,ae)}function j(De,ae){var me=Y(De,ae);return isNaN(me)||(me*=ve.getBandwidthSafetyFactor()),me}function x(De){return N(!1,De)}function o(De){fe[De]=fe[De]||[],Ee[De]=Ee[De]||[],Ae[De]=Ae[De]||{fastEstimate:0,slowEstimate:0,totalWeight:0},z[De]=z[De]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function G(De){delete fe[De],delete Ee[De],delete Ae[De],delete z[De],o(De)}function I(){fe={},Ee={},Ae={},z={}}T=T||{};var O=20,q=3,Q=4,pe=4,re=1.3,le=1.3,ee=8,be=3,ie=2,Te=1,ve=T.mediaPlayerModel,fe=void 0,Ee=void 0,Ae=void 0,z=void 0,ce=void 0,Se={push:A,getAverageThroughput:Y,getSafeAverageThroughput:j,getAverageLatency:x,reset:I};return m(),Se}Object.defineProperty(u,"__esModule",{value:!0});var E=t(98),d=f(E),_=t(48),y=f(_);g.__dashjs_factory_name="ThroughputHistory",u.default=y.default.getClassFactory(g),p.exports=u.default},{48:48,98:98}],125:[function(t,p,u){"use strict";function f(O){return O&&O.__esModule?O:{default:O}}function g(O){function q(){fe=[],Ee=[],ie.getUseDefaultABRRules()&&(fe.push((0,M.default)(be).create({metricsModel:Te,dashMetrics:ve,mediaPlayerModel:ie})),fe.push((0,d.default)(be).create({metricsModel:Te,dashMetrics:ve})),fe.push((0,y.default)(be).create({metricsModel:Te,dashMetrics:ve})),fe.push((0,R.default)(be).create()),fe.push((0,A.default)(be).create()),Ee.push((0,m.default)(be).create({metricsModel:Te,dashMetrics:ve,mediaPlayerModel:ie}))),ie.getABRCustomRules().forEach(function(Ae){Ae.type===o&&fe.push(Ae.rule(be).create()),Ae.type===G&&Ee.push(Ae.rule(be).create())})}function Q(Ae){return Ae.filter(function(z){return z.quality>x.default.NO_CHANGE})}function pe(Ae){var z={},ce=void 0,Se=void 0,De=void 0,ae=void 0,me=void 0;if(Ae.length!==0){for(z[x.default.PRIORITY.STRONG]=x.default.NO_CHANGE,z[x.default.PRIORITY.WEAK]=x.default.NO_CHANGE,z[x.default.PRIORITY.DEFAULT]=x.default.NO_CHANGE,ce=0,Se=Ae.length;ce<Se;ce+=1)De=Ae[ce],De.quality!==x.default.NO_CHANGE&&(z[De.priority]=z[De.priority]>x.default.NO_CHANGE?Math.min(z[De.priority],De.quality):De.quality);return z[x.default.PRIORITY.WEAK]!==x.default.NO_CHANGE&&(ae=z[x.default.PRIORITY.WEAK]),z[x.default.PRIORITY.DEFAULT]!==x.default.NO_CHANGE&&(ae=z[x.default.PRIORITY.DEFAULT]),z[x.default.PRIORITY.STRONG]!==x.default.NO_CHANGE&&(ae=z[x.default.PRIORITY.STRONG]),ae!==x.default.NO_CHANGE&&(me=ae),(0,x.default)(be).create(me)}}function re(Ae){return pe(Q(fe.map(function(z){return z.getMaxIndex(Ae)})))||(0,x.default)(be).create()}function le(Ae){return pe(Q(Ee.map(function(z){return z.shouldAbandon(Ae)})))||(0,x.default)(be).create()}function ee(){[fe,Ee].forEach(function(Ae){Ae&&Ae.length&&Ae.forEach(function(z){return z.reset&&z.reset()})}),fe=[],Ee=[]}O=O||{};var be=this.context,ie=O.mediaPlayerModel,Te=O.metricsModel,ve=O.dashMetrics,fe=void 0,Ee=void 0;return{initialize:q,reset:ee,getMaxQuality:re,shouldAbandonFragment:le}}Object.defineProperty(u,"__esModule",{value:!0});var E=t(131),d=f(E),_=t(129),y=f(_),T=t(126),m=f(T),b=t(128),A=f(b),C=t(130),R=f(C),N=t(127),M=f(N),H=t(48),Y=f(H),j=t(122),x=f(j),o="qualitySwitchRules",G="abandonFragmentRules";g.__dashjs_factory_name="ABRRulesCollection";var I=Y.default.getClassFactory(g);I.QUALITY_SWITCH_RULES=o,I.ABANDON_FRAGMENT_RULES=G,Y.default.updateSingletonFactory(g.__dashjs_factory_name,I),u.default=I,p.exports=u.default},{122:122,126:126,127:127,128:128,129:129,130:130,131:131,48:48}],126:[function(t,p,u){"use strict";function f(b){return b&&b.__esModule?b:{default:b}}function g(b){function A(){M()}function C(le,ee){q[le]=q[le]||{},q[le][ee]=q[le][ee]||{}}function R(le,ee){pe[le]=pe[le]||[],pe[le].push(ee)}function N(le){var ee=(0,d.default)(x).create(d.default.NO_CHANGE,{name:g.__dashjs_factory_name});if(!(le&&le.hasOwnProperty("getMediaInfo")&&le.hasOwnProperty("getMediaType")&&le.hasOwnProperty("getCurrentRequest")&&le.hasOwnProperty("getRepresentationInfo")&&le.hasOwnProperty("getAbrController")))return ee;var be=le.getMediaInfo(),ie=le.getMediaType(),Te=le.getCurrentRequest();if(!isNaN(Te.index)){C(ie,Te.index);var ve=G.getStableBufferTime();if(O.getCurrentBufferLevel(I.getReadOnlyMetricsFor(ie))>ve)return ee;var fe=q[ie][Te.index];if(fe===null||Te.firstByteDate===null||Q.hasOwnProperty(fe.id))return ee;if(fe.firstByteTime===void 0&&(pe[ie]=[],fe.firstByteTime=Te.firstByteDate.getTime(),fe.segmentDuration=Te.duration,fe.bytesTotal=Te.bytesTotal,fe.id=Te.index),fe.bytesLoaded=Te.bytesLoaded,fe.elapsedTime=new Date().getTime()-fe.firstByteTime,fe.bytesLoaded>0&&fe.elapsedTime>0&&R(ie,Math.round(8*fe.bytesLoaded/fe.elapsedTime)),pe[ie].length>=j&&fe.elapsedTime>Y&&fe.bytesLoaded<fe.bytesTotal){var Ee=pe[ie].reduce(function(De,ae){return De+ae},0);if(fe.measuredBandwidthInKbps=Math.round(Ee/pe[ie].length),fe.estimatedTimeOfDownload=+(8*fe.bytesTotal/fe.measuredBandwidthInKbps/1e3).toFixed(2),fe.estimatedTimeOfDownload<fe.segmentDuration*H||le.getRepresentationInfo().quality===0)return ee;if(!Q.hasOwnProperty(fe.id)){var Ae=le.getAbrController(),z=fe.bytesTotal-fe.bytesLoaded,ce=Ae.getBitrateList(be),Se=Ae.getQualityForBitrate(be,fe.measuredBandwidthInKbps*G.getBandwidthSafetyFactor());z>fe.bytesTotal*ce[Se].bitrate/ce[Ae.getQualityFor(ie,be.streamInfo)].bitrate&&(ee.quality=Se,ee.reason.throughput=fe.measuredBandwidthInKbps,ee.reason.fragmentID=fe.id,Q[fe.id]=fe,o("AbandonRequestsRule ( ",ie,"frag id",fe.id,") is asking to abandon and switch to quality to ",Se," measured bandwidth was",fe.measuredBandwidthInKbps),delete q[ie][fe.id])}}else fe.bytesLoaded===fe.bytesTotal&&delete q[ie][fe.id]}return ee}function M(){q={},Q={},pe=[]}b=b||{};var H=1.8,Y=500,j=5,x=this.context,o=(0,m.default)(x).getInstance().log,G=b.mediaPlayerModel,I=b.metricsModel,O=b.dashMetrics,q=void 0,Q=void 0,pe=void 0,re={shouldAbandon:N,reset:M};return A(),re}Object.defineProperty(u,"__esModule",{value:!0});var E=t(122),d=f(E),_=t(48),y=f(_),T=t(46),m=f(T);g.__dashjs_factory_name="AbandonRequestsRule",u.default=y.default.getClassFactory(g),p.exports=u.default},{122:122,46:46,48:48}],127:[function(t,p,u){"use strict";function f(O){return O&&O.__esModule?O:{default:O}}function g(O){function q(){xe(),ne.on(N.default.BUFFER_EMPTY,Ee,K),ne.on(N.default.PLAYBACK_SEEKING,Ae,K),ne.on(N.default.PERIOD_SWITCH_STARTED,z,K),ne.on(N.default.MEDIA_FRAGMENT_LOADED,ce,K),ne.on(N.default.METRIC_ADDED,Se,K),ne.on(N.default.QUALITY_CHANGE_REQUESTED,ae,K),ne.on(N.default.FRAGMENT_LOADING_ABANDONED,me,K)}function Q(we){return we.map(function(c){return Math.log(c)})}function pe(we,c,S){var U=S.reduce(function(ye,qe,ke){return qe>S[ye]?ke:ye},0);if(U===0)return null;var W=Math.max(we,o+G*c.length),Z=(S[U]-1)/(W/o-1);return{gp:Z,Vp:o/Z}}function re(we){var c={},S=we.getMediaInfo(),U=S.bitrateList.map(function(qe){return qe.bandwidth}),W=Q(U);W=W.map(function(qe){return qe-W[0]+1});var Z=k.getStableBufferTime(),ye=pe(Z,U,W);return ye?(c.state=j,c.bitrates=U,c.utilities=W,c.stableBufferTime=Z,c.Vp=ye.Vp,c.gp=ye.gp,c.lastQuality=0,le(c)):c.state=Y,c}function le(we){we.placeholderBuffer=0,we.mostAdvancedSegmentStart=NaN,we.lastSegmentWasReplacement=!1,we.lastSegmentStart=NaN,we.lastSegmentDurationS=NaN,we.lastSegmentRequestTimeMs=NaN,we.lastSegmentFinishTimeMs=NaN}function ee(we,c){var S=k.getStableBufferTime();if(we.stableBufferTime!==S){var U=pe(S,we.bitrates,we.utilities);if(U.Vp!==we.Vp||U.gp!==we.gp){var W=J.getCurrentBufferLevel(L.getReadOnlyMetricsFor(c)),Z=W+we.placeholderBuffer;Z-=o,Z*=U.Vp/we.Vp,Z+=o,we.stableBufferTime=S,we.Vp=U.Vp,we.gp=U.gp,we.placeholderBuffer=Math.max(0,Z-W)}}}function be(we){var c=we.getMediaType(),S=he[c];return S?S.state!==Y&&ee(S,c):(S=re(we),he[c]=S),S}function ie(we,c){for(var S=we.bitrates.length,U=NaN,W=NaN,Z=0;Z<S;++Z){var ye=(we.Vp*(we.utilities[Z]+we.gp)-c)/we.bitrates[Z];(isNaN(W)||ye>=W)&&(W=ye,U=Z)}return U}function Te(we,c){return we.Vp*(we.utilities[c]+we.gp)}function ve(we,c){for(var S=we.bitrates[c],U=we.utilities[c],W=0,Z=c-1;Z>=0;--Z)if(we.utilities[Z]<we.utilities[c]){var ye=we.bitrates[Z],qe=we.utilities[Z],ke=we.Vp*(we.gp+(S*qe-ye*U)/(S-ye));W=Math.max(W,ke)}return W}function fe(we,c){var S=Date.now();if(isNaN(we.lastSegmentFinishTimeMs)){if(!isNaN(we.lastCallTimeMs)){var U=.001*(S-we.lastCallTimeMs);we.placeholderBuffer+=Math.max(0,U)}}else{var U=.001*(S-we.lastSegmentFinishTimeMs);we.placeholderBuffer+=Math.max(0,U)}we.lastCallTimeMs=S,we.lastSegmentStart=NaN,we.lastSegmentRequestTimeMs=NaN,we.lastSegmentFinishTimeMs=NaN,ee(we,c)}function Ee(){for(var we in he)he.hasOwnProperty(we)&&he[we].state===x&&(he[we].placeholderBuffer=0)}function Ae(){for(var we in he)if(he.hasOwnProperty(we)){var c=he[we];c.state!==Y&&(c.state=j,le(c))}}function z(){}function ce(we){if(we&&we.chunk&&we.chunk.mediaInfo){var c=he[we.chunk.mediaInfo.type];if(c&&c.state!==Y){var S=we.chunk.start;isNaN(c.mostAdvancedSegmentStart)||S>c.mostAdvancedSegmentStart?(c.mostAdvancedSegmentStart=S,c.lastSegmentWasReplacement=!1):c.lastSegmentWasReplacement=!0,c.lastSegmentStart=S,c.lastSegmentDurationS=we.chunk.duration,c.lastQuality=we.chunk.quality,De(c,we.chunk.mediaInfo.type)}}}function Se(we){if(we&&we.metric===d.default.HTTP_REQUEST&&we.value&&we.value.type===b.HTTPRequest.MEDIA_SEGMENT_TYPE&&we.value.trace&&we.value.trace.length){var c=he[we.mediaType];c&&c.state!==Y&&(c.lastSegmentRequestTimeMs=we.value.trequest.getTime(),c.lastSegmentFinishTimeMs=we.value._tfinish.getTime(),De(c,we.mediaType))}}function De(we,c){if(!isNaN(we.lastSegmentStart)&&!isNaN(we.lastSegmentRequestTimeMs)&&!isNaN(we.placeholderBuffer)){if(we.placeholderBuffer*=I,!isNaN(we.lastSegmentFinishTimeMs)){var S=J.getCurrentBufferLevel(L.getReadOnlyMetricsFor(c)),U=S+.001*(we.lastSegmentFinishTimeMs-we.lastSegmentRequestTimeMs),W=Te(we,we.lastQuality),Z=Math.max(0,W-U);we.placeholderBuffer=Math.min(Z,we.placeholderBuffer)}we.lastSegmentWasReplacement&&!isNaN(we.lastSegmentDurationS)&&(we.placeholderBuffer+=we.lastSegmentDurationS),we.lastSegmentStart=NaN,we.lastSegmentRequestTimeMs=NaN}}function ae(we){if(we){var c=he[we.mediaType];c&&c.state!==Y&&(c.abrQuality=we.newQuality)}}function me(we){if(we){var c=he[we.mediaType];if(c&&c.state!==Y){var S=J.getCurrentBufferLevel(L.getReadOnlyMetricsFor(we.mediaType)),U=void 0;U=c.abrQuality>0?ve(c,c.abrQuality):o;var W=Math.max(0,U-S);c.placeholderBuffer=Math.min(c.placeholderBuffer,W)}}}function Ie(we){var c=we.getMediaInfo(),S=we.getMediaType(),U=L.getReadOnlyMetricsFor(S),W=we.getStreamProcessor(),Z=we.getStreamInfo(),ye=we.getAbrController(),qe=ye.getThroughputHistory(),ke=Z?Z.id:null,We=Z&&Z.manifestInfo&&Z.manifestInfo.isDynamic,Ye=we.useBufferOccupancyABR(),Xe=(0,y.default)(Pe).create();if(Xe.reason=Xe.reason||{},!Ye)return Xe;W.getScheduleController().setTimeToLoadDelay(0);var ht=be(we);if(ht.state===Y)return P("BOLA ABR rule invoked for media type '"+S+"' with only one bitrate."),Xe;var Ct=J.getCurrentBufferLevel(U),Ke=qe.getAverageThroughput(S,We),pt=qe.getSafeAverageThroughput(S,We),dt=qe.getAverageLatency(S),nt=void 0;if(Xe.reason.state=ht.state,Xe.reason.throughput=Ke,Xe.reason.latency=dt,isNaN(Ke))return Xe;switch(ht.state){case j:nt=ye.getQualityForBitrate(c,pt,dt),Xe.quality=nt,Xe.reason.throughput=pt,ht.placeholderBuffer=Math.max(0,ve(ht,nt)-Ct),ht.lastQuality=nt,!isNaN(ht.lastSegmentDurationS)&&Ct>=ht.lastSegmentDurationS&&(ht.state=x);break;case x:fe(ht,S),nt=ie(ht,Ct+ht.placeholderBuffer);var Lt=ye.getQualityForBitrate(c,pt,dt);nt>ht.lastQuality&&nt>Lt&&(nt=Math.max(Lt,ht.lastQuality));var Ut=Math.max(0,Ct+ht.placeholderBuffer-Te(ht,nt));Ut<=ht.placeholderBuffer?(ht.placeholderBuffer-=Ut,Ut=0):(Ut-=ht.placeholderBuffer,ht.placeholderBuffer=0,nt<ye.getTopQualityIndexFor(S,ke)?W.getScheduleController().setTimeToLoadDelay(1e3*Ut):Ut=0),Xe.quality=nt,Xe.reason.throughput=Ke,Xe.reason.latency=dt,Xe.reason.bufferLevel=Ct,Xe.reason.placeholderBuffer=ht.placeholderBuffer,Xe.reason.delay=Ut,ht.lastQuality=nt;break;default:P("BOLA ABR rule invoked in bad state."),Xe.quality=ye.getQualityForBitrate(c,pt,dt),Xe.reason.state=ht.state,Xe.reason.throughput=pt,Xe.reason.latency=dt,ht.state=j,le(ht)}return Xe}function xe(){he={}}function de(){xe(),ne.off(N.default.BUFFER_EMPTY,Ee,K),ne.off(N.default.PLAYBACK_SEEKING,Ae,K),ne.off(N.default.PERIOD_SWITCH_STARTED,z,K),ne.off(N.default.MEDIA_FRAGMENT_LOADED,ce,K),ne.off(N.default.METRIC_ADDED,Se,K),ne.off(N.default.QUALITY_CHANGE_REQUESTED,ae,K),ne.off(N.default.FRAGMENT_LOADING_ABANDONED,me,K)}O=O||{};var Pe=this.context,P=(0,H.default)(Pe).getInstance().log,J=O.dashMetrics,L=O.metricsModel,k=O.mediaPlayerModel,ne=(0,C.default)(Pe).getInstance(),K=void 0,he=void 0;return K={getMaxIndex:Ie,reset:de},q(),K}Object.defineProperty(u,"__esModule",{value:!0});var E=t(99),d=f(E),_=t(122),y=f(_),T=t(48),m=f(T),b=t(179),A=t(47),C=f(A),R=t(51),N=f(R),M=t(46),H=f(M),Y=0,j=1,x=2,o=10,G=2,I=.99;g.__dashjs_factory_name="BolaRule",u.default=m.default.getClassFactory(g),p.exports=u.default},{122:122,179:179,46:46,47:47,48:48,51:51,99:99}],128:[function(t,p,u){"use strict";function f(b){return b&&b.__esModule?b:{default:b}}function g(){function b(M){var H=M.getDroppedFramesHistory();if(H){for(var Y=H.getFrameHistory(),j=0,x=0,o=y.default.NO_CHANGE,G=1;G<Y.length;G++)if(Y[G]&&(j=Y[G].droppedVideoFrames,(x=Y[G].totalVideoFrames)>N&&j/x>R)){o=G-1,C("DroppedFramesRule, index: "+o+" Dropped Frames: "+j+" Total Frames: "+x);break}return(0,y.default)(A).create(o,{droppedFrames:j})}return(0,y.default)(A).create()}var A=this.context,C=(0,m.default)(A).getInstance().log,R=.15,N=375;return{getMaxIndex:b}}Object.defineProperty(u,"__esModule",{value:!0});var E=t(48),d=f(E),_=t(122),y=f(_),T=t(46),m=f(T);g.__dashjs_factory_name="DroppedFramesRule",u.default=d.default.getClassFactory(g),p.exports=u.default},{122:122,46:46,48:48}],129:[function(t,p,u){"use strict";function f(H){return H&&H.__esModule?H:{default:H}}function g(H){function Y(){G(),re.on(m.default.PLAYBACK_SEEKING,I,be)}function j(){if(!(le&&le.hasOwnProperty("getReadOnlyMetricsFor")&&ee&&ee.hasOwnProperty("getCurrentBufferLevel")))throw new Error("Missing config parameter(s)")}function x(Te){var ve=(0,M.default)(Q).create();if(!Te||!Te.hasOwnProperty("getMediaType"))return ve;j();var fe=Te.getMediaType(),Ee=le.getReadOnlyMetricsFor(fe),Ae=Ee.BufferState.length>0?Ee.BufferState[Ee.BufferState.length-1]:null,z=Te.getRepresentationInfo(),ce=z.fragmentDuration;if(!Ae||!o(fe,Ae)||!ce)return ve;if(Ae.state===d.default.BUFFER_EMPTY)pe("Switch to index 0; buffer is empty."),ve.quality=0,ve.reason="InsufficientBufferRule: Buffer is empty";else{var Se=Te.getMediaInfo(),De=Te.getAbrController(),ae=De.getThroughputHistory(),me=ee.getCurrentBufferLevel(Ee),Ie=ae.getAverageThroughput(fe),xe=ae.getAverageLatency(fe),de=Ie*(me/ce)*q;ve.quality=De.getQualityForBitrate(Se,de,xe),ve.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return ve}function o(Te,ve){ie[Te]=ie[Te]||{};var fe=!1;return ie[Te].firstBufferLoadedEvent?fe=!0:ve&&ve.state===d.default.BUFFER_LOADED&&(ie[Te].firstBufferLoadedEvent=!0,fe=!0),fe}function G(){ie={}}function I(){G()}function O(){G(),re.off(m.default.PLAYBACK_SEEKING,I,be)}H=H||{};var q=.5,Q=this.context,pe=(0,R.default)(Q).getInstance().log,re=(0,y.default)(Q).getInstance(),le=H.metricsModel,ee=H.dashMetrics,be=void 0,ie=void 0;return be={getMaxIndex:x,reset:O},Y(),be}Object.defineProperty(u,"__esModule",{value:!0});var E=t(103),d=f(E),_=t(47),y=f(_),T=t(51),m=f(T),b=t(48),A=f(b),C=t(46),R=f(C),N=t(122),M=f(N);g.__dashjs_factory_name="InsufficientBufferRule",u.default=A.default.getClassFactory(g),p.exports=u.default},{103:103,122:122,46:46,47:47,48:48,51:51}],130:[function(t,p,u){"use strict";function f(b){return b&&b.__esModule?b:{default:b}}function g(){function b(M){for(var H=M?M.getSwitchHistory():null,Y=H?H.getSwitchRequests():[],j=0,x=0,o=0,G=(0,m.default)(A).create(),I=0;I<Y.length;I++)if(Y[I]!==void 0&&(j+=Y[I].drops,x+=Y[I].noDrops,o+=Y[I].dropSize,j+x>=N&&j/x>R)){G.quality=I>0&&Y[I].drops>0?I-1:I,G.reason={index:G.quality,drops:j,noDrops:x,dropSize:o},C("Switch history rule index: "+G.quality+" samples: "+(j+x)+" drops: "+j);break}return G}var A=this.context,C=(0,y.default)(A).getInstance().log,R=.075,N=6;return{getMaxIndex:b}}Object.defineProperty(u,"__esModule",{value:!0});var E=t(48),d=f(E),_=t(46),y=f(_),T=t(122),m=f(T);g.__dashjs_factory_name="SwitchHistoryRule",u.default=d.default.getClassFactory(g),p.exports=u.default},{122:122,46:46,48:48}],131:[function(t,p,u){"use strict";function f(N){return N&&N.__esModule?N:{default:N}}function g(N){function M(){if(!o||!o.hasOwnProperty("getReadOnlyMetricsFor"))throw new Error("Missing config parameter(s)")}function H(G){var I=(0,R.default)(j).create();if(!(G&&G.hasOwnProperty("getMediaInfo")&&G.hasOwnProperty("getMediaType")&&G.hasOwnProperty("useBufferOccupancyABR")&&G.hasOwnProperty("getAbrController")&&G.hasOwnProperty("getStreamProcessor")))return I;M();var O=G.getMediaInfo(),q=G.getMediaType(),Q=o.getReadOnlyMetricsFor(q),pe=G.getStreamProcessor(),re=G.getAbrController(),le=G.getStreamInfo(),ee=le&&le.manifestInfo?le.manifestInfo.isDynamic:null,be=re.getThroughputHistory(),ie=be.getSafeAverageThroughput(q,ee),Te=be.getAverageLatency(q),ve=Q.BufferState.length>0?Q.BufferState[Q.BufferState.length-1]:null,fe=G.useBufferOccupancyABR();return!Q||isNaN(ie)||!ve||fe||re.getAbandonmentStateFor(q)!==y.default.ABANDON_LOAD&&(ve.state===d.default.BUFFER_LOADED||ee)&&(I.quality=re.getQualityForBitrate(O,ie,Te),pe.getScheduleController().setTimeToLoadDelay(0),x("ThroughputRule requesting switch to index: ",I.quality,"type: ",q,"Average throughput",Math.round(ie),"kbps"),I.reason={throughput:ie,latency:Te}),I}function Y(){}N=N||{};var j=this.context,x=(0,A.default)(j).getInstance().log,o=N.metricsModel;return{getMaxIndex:H,reset:Y}}Object.defineProperty(u,"__esModule",{value:!0});var E=t(103),d=f(E),_=t(100),y=f(_),T=t(48),m=f(T),b=t(46),A=f(b),C=t(122),R=f(C);g.__dashjs_factory_name="ThroughputRule",u.default=m.default.getClassFactory(g),p.exports=u.default},{100:100,103:103,122:122,46:46,48:48}],132:[function(t,p,u){"use strict";function f(T){return T&&T.__esModule?T:{default:T}}function g(T){function m(){}function b(j,x,o){return C.getCurrentBufferLevel(R.getReadOnlyMetricsFor(x))<A(j,x,o)}function A(j,x,o){var G=NaN,I=j.getCurrentRepresentationInfo();if(x===d.default.FRAGMENTED_TEXT)G=M.getAllTracksAreDisabled()?0:I.fragmentDuration;else if(x===d.default.AUDIO&&o){var O=C.getCurrentBufferLevel(R.getReadOnlyMetricsFor(d.default.VIDEO));G=isNaN(I.fragmentDuration)?O:Math.max(O,I.fragmentDuration)}else{var q=I.mediaInfo.streamInfo;if(H.isPlayingAtTopQuality(q)){var Q=q.manifestInfo.duration>=N.getLongFormContentDurationThreshold();G=Q?N.getBufferTimeAtTopQualityLongForm():N.getBufferTimeAtTopQuality()}else G=N.getStableBufferTime()}return G}T=T||{};var C=T.dashMetrics,R=T.metricsModel,N=T.mediaPlayerModel,M=T.textController,H=T.abrController,Y={execute:b,getBufferTarget:A};return m(),Y}Object.defineProperty(u,"__esModule",{value:!0});var E=t(98),d=f(E),_=t(48),y=f(_);g.__dashjs_factory_name="BufferLevelRule",u.default=y.default.getClassFactory(g),p.exports=u.default},{48:48,98:98}],133:[function(t,p,u){"use strict";function f(C){return C&&C.__esModule?C:{default:C}}function g(C){function R(j,x){var o=j.getCurrentRepresentationInfo(),G=o.mediaInfo,I=G.type,O=j.getScheduleController(),q=O.getSeekTarget(),Q=!isNaN(q),pe=j.getBufferController(),re=Q?q:H.getIndexHandlerTime(j);if(isNaN(re)||I===d.default.FRAGMENTED_TEXT&&Y.getAllTracksAreDisabled())return null;if(Q&&O.setSeekTarget(NaN),pe){var le=pe.getRangeAt(re);le===null||Q||(M("Prior to making a request for time, NextFragmentRequestRule is aligning index handler's currentTime with bufferedRange.end for",I,".",re,"was changed to",le.end),re=le.end)}var ee=void 0;if(x)re=x.startTime+x.duration/2,ee=H.getFragmentRequestForTime(j,o,re,{timeThreshold:0,ignoreIsFinished:!0});else{for(ee=H.getFragmentRequestForTime(j,o,re,{keepIdx:!Q});ee&&ee.action!==A.default.ACTION_COMPLETE&&j.getFragmentModel().isFragmentLoaded(ee);)ee=H.getNextFragmentRequest(j,o);ee&&(isNaN(ee.startTime+ee.duration)||H.setIndexHandlerTime(j,ee.startTime+ee.duration),ee.delayLoadingTime=new Date().getTime()+O.getTimeToLoadDelay(),O.setTimeToLoadDelay(0))}return ee}C=C||{};var N=this.context,M=(0,y.default)(N).getInstance().log,H=C.adapter,Y=C.textController;return{execute:R}}Object.defineProperty(u,"__esModule",{value:!0});var E=t(98),d=f(E),_=t(46),y=f(_),T=t(48),m=f(T),b=t(162),A=f(b);g.__dashjs_factory_name="NextFragmentRequestRule",u.default=m.default.getClassFactory(g),p.exports=u.default},{162:162,46:46,48:48,98:98}],134:[function(t,p,u){"use strict";function f(_){return _&&_.__esModule?_:{default:_}}function g(){function _(N){for(var M="",H=0;H<N.length;++H)M+=N[H].uchar;return M.length-M.replace(/^\s+/,"").length}function y(N){return"left: "+3.125*N.x+"%; top: "+6.66*N.y1+"%; width: "+(100-3.125*N.x)+"%; height: "+6.66*Math.max(N.y2-1-N.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function T(N){return N==="red"?"rgb(255, 0, 0)":N==="green"?"rgb(0, 255, 0)":N==="blue"?"rgb(0, 0, 255)":N==="cyan"?"rgb(0, 255, 255)":N==="magenta"?"rgb(255, 0, 255)":N==="yellow"?"rgb(255, 255, 0)":N==="white"?"rgb(255, 255, 255)":N==="black"?"rgb(0, 0, 0)":N}function m(N,M){var H=N.videoHeight/15;return M?"font-size: "+H+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(M.foreground?T(M.foreground):"rgb(255, 255, 255)")+"; font-style: "+(M.italics?"italic":"normal")+"; text-decoration: "+(M.underline?"underline":"none")+"; white-space: pre; background-color: "+(M.background?T(M.background):"transparent")+";":"font-size: "+H+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function b(N){return N.replace(/^\s+/g,"")}function A(N){return N.replace(/\s+$/g,"")}function C(N,M,H,Y){var j=null,x=null,o=!1,G=-1,I={start:M,end:H,spans:[]},O="style_cea608_white_black",q={},Q={},pe=[],re=void 0,le=void 0;for(re=0;re<15;++re){var ee=Y.rows[re],be="",ie=null;if(ee.isEmpty()===!1){var Te=_(ee.chars);j===null&&(j={x:Te,y1:re,y2:re+1,p:[]}),Te!==G&&o&&(j.p.push(I),I={start:M,end:H,spans:[]},j.y2=re,j.name="region_"+j.x+"_"+j.y1+"_"+j.y2,q.hasOwnProperty(j.name)===!1?(pe.push(j),q[j.name]=j):(x=q[j.name],x.p.contat(j.p)),j={x:Te,y1:re,y2:re+1,p:[]});for(var ve=0;ve<ee.chars.length;++ve){var fe=ee.chars[ve],Ee=fe.penState;if(ie===null||!Ee.equals(ie)){be.trim().length>0&&(I.spans.push({name:O,line:be,row:re}),be="");var Ae="style_cea608_"+Ee.foreground+"_"+Ee.background;Ee.underline&&(Ae+="_underline"),Ee.italics&&(Ae+="_italics"),Q.hasOwnProperty(Ae)||(Q[Ae]=JSON.parse(JSON.stringify(Ee))),ie=Ee,O=Ae}be+=fe.uchar}be.trim().length>0&&I.spans.push({name:O,line:be,row:re}),o=!0,G=Te}else o=!1,G=-1,j&&(j.p.push(I),I={start:M,end:H,spans:[]},j.y2=re,j.name="region_"+j.x+"_"+j.y1+"_"+j.y2,q.hasOwnProperty(j.name)===!1?(pe.push(j),q[j.name]=j):(x=q[j.name],x.p.contat(j.p)),j=null)}j&&(j.p.push(I),j.y2=re+1,j.name="region_"+j.x+"_"+j.y1+"_"+j.y2,q.hasOwnProperty(j.name)===!1?(pe.push(j),q[j.name]=j):(x=q[j.name],x.p.contat(j.p)),j=null);var z=[];for(re=0;re<pe.length;++re){var ce=pe[re],Se="sub_cea608_"+R++,De=document.createElement("div");De.id=Se;var ae=y(ce);De.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+ae;var me=document.createElement("div");me.className="paragraph bodyStyle",me.style.cssText=m(N);var Ie=document.createElement("div");Ie.className="cueUniWrapper",Ie.style.cssText="unicode-bidi: normal; direction: ltr;";for(var xe=0;xe<ce.p.length;++xe){var de=ce.p[xe],Pe=0;for(le=0;le<de.spans.length;++le){var P=de.spans[le];if(P.line.length>0){if(le!==0&&Pe!=P.row){var J=document.createElement("br");J.className="lineBreak",Ie.appendChild(J)}var L=!1;Pe===P.row&&(L=!0),Pe=P.row;var k=Q[P.name],ne=document.createElement("span");ne.className="spanPadding "+P.name+" customSpanColor",ne.style.cssText=m(N,k),le!==0&&L?le===de.spans.length-1?ne.textContent=A(P.line):ne.textContent=P.line:de.spans.length>1&&le<de.spans.length-1&&P.row===de.spans[le+1].row?ne.textContent=b(P.line):ne.textContent=P.line.trim(),Ie.appendChild(ne)}}}me.appendChild(Ie),De.appendChild(me);var K={bodyStyle:["%",90]};for(le in Q)Q.hasOwnProperty(le)&&(K[le]=["%",90]);z.push({type:"html",start:M,end:H,cueHTMLElement:De,cueID:Se,cellResolution:[32,15],isFromCEA608:!0,regions:pe,regionID:ce.name,videoHeight:N.videoHeight,videoWidth:N.videoWidth,fontSize:K,lineHeight:{},linePadding:{}})}return z}var R=0;return{createHTMLCaptionsFromScreen:C}}Object.defineProperty(u,"__esModule",{value:!0});var E=t(48),d=f(E);g.__dashjs_factory_name="EmbeddedTextHtmlRender",u.default=d.default.getSingletonFactory(g),p.exports=u.default},{48:48}],135:[function(t,p,u){"use strict";function f(x){return x&&x.__esModule?x:{default:x}}function g(x){function o(){P=!1,J=null,k=null,Pe=!1,De.on(m.default.DATA_UPDATE_COMPLETED,Ee,de),De.on(m.default.INIT_FRAGMENT_LOADED,Ae,de)}function G(){return j}function I(K){pe(K),k=xe.getRepresentationController(),ne=(0,R.default)(Se).getInstance()}function O(K){try{if(L=(0,M.default)(Se).create(J,K),!P){var he=L.getBuffer();he.hasOwnProperty(d.default.INITIALIZE)&&he.initialize(Ie,xe),P=!0}}catch{if(K.isText||K.codec.indexOf('codecs="stpp')!==-1||K.codec.indexOf('codecs="wvtt')!==-1)try{L=ae.getTextSourceBuffer()}catch{me.mediaSourceError("Error creating "+Ie+" source buffer.")}else me.mediaSourceError("Error creating "+Ie+" source buffer.")}}function q(){return Ie}function Q(){return L}function pe(K){J=K}function re(){return J}function le(){return xe}function ee(){return!1}function be(){}function ie(){}function Te(){return 0}function ve(){return Pe}function fe(K){De.off(m.default.DATA_UPDATE_COMPLETED,Ee,de),De.off(m.default.INIT_FRAGMENT_LOADED,Ae,de),!K&&L&&(L.abort(),L.reset(),L=null)}function Ee(K){K.sender.getStreamProcessor()===xe&&De.trigger(m.default.TIMED_TEXT_REQUESTED,{index:0,sender:K.sender})}function Ae(K){K.fragmentModel===xe.getFragmentModel()&&K.chunk.bytes&&(ne.save(K.chunk),L.append(K.chunk))}function z(K,he){var we=ne.extract(K,he);we?L.append(we):De.trigger(m.default.INIT_REQUESTED,{sender:de})}function ce(){return null}x=x||{};var Se=this.context,De=(0,y.default)(Se).getInstance(),ae=(0,Y.default)(Se).getInstance(),me=x.errHandler,Ie=x.type,xe=x.streamProcessor,de=void 0,Pe=void 0,P=void 0,J=void 0,L=void 0,k=void 0,ne=void 0;return de={getBufferControllerType:G,initialize:I,createBuffer:O,getType:q,getStreamProcessor:le,setSeekStartTime:ie,getBuffer:Q,getBufferLevel:Te,setMediaSource:pe,getMediaSource:re,getIsBufferingCompleted:ve,getIsPruningInProgress:ee,dischargePreBuffer:be,switchInitData:z,getRangeAt:ce,reset:fe},o(),de}Object.defineProperty(u,"__esModule",{value:!0});var E=t(98),d=f(E),_=t(47),y=f(_),T=t(51),m=f(T),b=t(48),A=f(b),C=t(149),R=f(C),N=t(93),M=f(N),H=t(137),Y=f(H),j="NotFragmentedTextBufferController";g.__dashjs_factory_name=j,u.default=A.default.getClassFactory(g),p.exports=u.default},{137:137,149:149,47:47,48:48,51:51,93:93,98:98}],136:[function(t,p,u){"use strict";function f(C){return C&&C.__esModule?C:{default:C}}function g(C){function R(){Te=C.type===d.default.FRAGMENTED_TEXT?(0,m.default)(ie).create({type:C.type,metricsModel:C.metricsModel,mediaPlayerModel:C.mediaPlayerModel,manifestModel:C.manifestModel,errHandler:C.errHandler,streamController:C.streamController,mediaController:C.mediaController,adapter:C.adapter,textController:C.textController,abrController:C.abrController,playbackController:C.playbackController,streamProcessor:C.streamProcessor}):(0,A.default)(ie).create({type:C.type,errHandler:C.errHandler,streamProcessor:C.streamProcessor})}function N(){return Te.getBufferControllerType()}function M(fe,Ee){return Te.initialize(fe,Ee)}function H(fe){return Te.createBuffer(fe)}function Y(){return Te.getType()}function j(){return Te.getBuffer()}function x(fe){Te.setBuffer(fe)}function o(){return Te.getMediaSource()}function G(fe){Te.setMediaSource(fe)}function I(){Te.getStreamProcessor()}function O(fe){Te.setSeekStartTime(fe)}function q(){return Te.getBufferLevel()}function Q(fe){Te.reset(fe)}function pe(){return Te.getIsBufferingCompleted()}function re(fe,Ee){Te.switchInitData(fe,Ee)}function le(){return Te.getIsPruningInProgress()}function ee(){return Te.dischargePreBuffer()}function be(fe){return Te.getRangeAt(fe)}C=C||{};var ie=this.context,Te=void 0,ve=void 0;return ve={getBufferControllerType:N,initialize:M,createBuffer:H,getType:Y,getStreamProcessor:I,setSeekStartTime:O,getBuffer:j,setBuffer:x,getBufferLevel:q,setMediaSource:G,getMediaSource:o,getIsBufferingCompleted:pe,getIsPruningInProgress:le,dischargePreBuffer:ee,switchInitData:re,getRangeAt:be,reset:Q},R(),ve}Object.defineProperty(u,"__esModule",{value:!0});var E=t(98),d=f(E),_=t(48),y=f(_),T=t(103),m=f(T),b=t(135),A=f(b);g.__dashjs_factory_name="TextBufferController",u.default=y.default.getClassFactory(g),p.exports=u.default},{103:103,135:135,48:48,98:98}],137:[function(t,p,u){"use strict";function f(o){return o&&o.__esModule?o:{default:o}}function g(){function o(){L="",k=-1,ne=!0,de=(0,A.default)(Ae).getInstance(),Pe=(0,R.default)(Ae).getInstance(),P=(0,M.default)(Ae).getInstance(),ce=(0,m.default)(Ae).getInstance(),J=(0,Y.default)(Ae).getInstance(),de.initialize(),J.on(x.default.TEXT_TRACKS_QUEUE_INITIALIZED,re,z),fe()}function G(he){he&&(he.errHandler&&(Se=he.errHandler),he.dashManifestModel&&(De=he.dashManifestModel),he.manifestModel&&(ae=he.manifestModel),he.mediaController&&(me=he.mediaController),he.videoModel&&(Ie=he.videoModel),he.streamController&&(xe=he.streamController),he.textTracks&&(de=he.textTracks),he.vttParser&&(Pe=he.vttParser),he.ttmlParser&&(P=he.ttmlParser),ce.setConfig({errHandler:Se,dashManifestModel:De,manifestModel:ae,mediaController:me,videoModel:Ie,streamController:xe,textTracks:de,vttParser:Pe,ttmlParser:P}))}function I(){return ce}function O(){return K}function q(he){ce.addEmbeddedTrack(he)}function Q(he){typeof he=="string"&&(L=he)}function pe(){return L}function re(he){var we=he.tracks,c=he.index,S=we.findIndex(function(U){return U.lang===L});S!==-1&&(this.setTextTrack(S),c=S),ne||this.setTextTrack(-1),k=c,J.trigger(x.default.TEXT_TRACKS_ADDED,{enabled:!K,index:c,tracks:we})}function le(he){typeof he=="boolean"&&(ne=he)}function ee(){return ne}function be(he){typeof he=="boolean"&&!K!==he&&(he&&this.setTextTrack(k),he||(k=this.getCurrentTrackIdx(),this.setTextTrack(-1)))}function ie(){return!K}function Te(he){var we=ce.getConfig(),c=we.fragmentModel,S=we.fragmentedTracks,U=de.getCurrentTrackIdx();if(U!==he){de.setModeForTrackIdx(U,d.default.TEXT_HIDDEN),de.setCurrentTrackIdx(he),de.setModeForTrackIdx(he,d.default.TEXT_SHOWING);var W=de.getCurrentTrackInfo();if(W&&W.isFragmented&&!W.isEmbedded)for(var Z=0;Z<S.length;Z++){var ye=S[Z];if(W.lang===ye.lang&&W.index===ye.index&&(!W.label||W.label===ye.id)){var qe=me.getCurrentTrackFor(d.default.FRAGMENTED_TEXT,xe.getActiveStreamInfo());ye!==qe&&(c.abortRequests(),c.removeExecutedRequestsBeforeTime(),ce.remove(),de.deleteCuesFromTrackIdx(U),me.setTrack(ye),ce.setCurrentFragmentedTrackIdx(Z))}}}K=he===-1}function ve(){return de.getCurrentTrackIdx()}function fe(){K=!1}function Ee(){fe(),ce.resetEmbedded()}var Ae=this.context,z=void 0,ce=void 0,Se=void 0,De=void 0,ae=void 0,me=void 0,Ie=void 0,xe=void 0,de=void 0,Pe=void 0,P=void 0,J=void 0,L=void 0,k=void 0,ne=void 0,K=void 0;return z={setConfig:G,getTextSourceBuffer:I,getAllTracksAreDisabled:O,addEmbeddedTrack:q,getTextDefaultLanguage:pe,setTextDefaultLanguage:Q,setTextDefaultEnabled:le,getTextDefaultEnabled:ee,enableText:be,isTextEnabled:ie,setTextTrack:Te,getCurrentTrackIdx:ve,reset:Ee},o(),z}Object.defineProperty(u,"__esModule",{value:!0});var E=t(98),d=f(E),_=t(48),y=f(_),T=t(138),m=f(T),b=t(139),A=f(b),C=t(156),R=f(C),N=t(154),M=f(N),H=t(47),Y=f(H),j=t(51),x=f(j);g.__dashjs_factory_name="TextController",u.default=y.default.getSingletonFactory(g),p.exports=u.default},{138:138,139:139,154:154,156:156,47:47,48:48,51:51,98:98}],138:[function(t,p,u){"use strict";function f(ie){return ie&&ie.__esModule?ie:{default:ie}}function g(){function ie(st,Je){if(we=null,qe=null,ke=!1,We=NaN,Ye=[],Ct=null,J||fe(),W=Je.getMediaInfoArr(),Z.setConfig({videoModel:Xe}),Z.initialize(),ye=!ne.getIsTextTrack(st),L=(0,C.default)(de).getInstance(),U=(0,b.default)(de).getInstance(),U.setConfig({boxParser:L}),ye){qe=Je.getFragmentModel(),this.buffered=(0,N.default)(de).create(),Ye=he.getTracksFor(d.default.FRAGMENTED_TEXT,ht.getActiveStreamInfo());for(var et=he.getCurrentTrackFor(d.default.FRAGMENTED_TEXT,ht.getActiveStreamInfo()),St=0;St<Ye.length;St++)if(Ye[St]===et){Ke=St;break}}}function Te(){Z.deleteAllTextTracks(),we=null,U=null,W=null,Z=null,ye=!1,qe=null,ke=!1,We=NaN,Ye=[],Xe=null,ht=null,J=!1,pt=null}function ve(st){var Je=st.chunk;Je.mediaInfo.embeddedCaptions&&De(Je.bytes,Je)}function fe(){pt=[],W=[],Z=(0,o.default)(de).getInstance(),Z.setConfig({videoModel:Xe}),Z.initialize(),L=(0,C.default)(de).getInstance(),U=(0,b.default)(de).getInstance(),U.setConfig({boxParser:L}),ye=!1,Ke=null,dt=!1,nt=0,gt=[],Ut=[],Lt=null,J=!0,Tt=(0,I.default)(de).getInstance(),P.on(be.default.VIDEO_CHUNK_RECEIVED,ve,this)}function Ee(){P.off(be.default.VIDEO_CHUNK_RECEIVED,ve,this),Z&&Z.deleteAllTextTracks(),J=!1,pt=[],gt=[null,null],Ut=[],Lt=null}function Ae(st){J||fe(),st.id===d.default.CC1||st.id===d.default.CC3?pt.push(st):Pe("Warning: Embedded track "+st.id+" not supported!")}function z(st){st&&(st.errHandler&&(k=st.errHandler),st.dashManifestModel&&(ne=st.dashManifestModel),st.manifestModel&&(K=st.manifestModel),st.mediaController&&(he=st.mediaController),st.videoModel&&(Xe=st.videoModel),st.streamController&&(ht=st.streamController),st.textTracks&&(Z=st.textTracks),st.vttParser&&(c=st.vttParser),st.ttmlParser&&(S=st.ttmlParser))}function ce(){return{errHandler:k,dashManifestModel:ne,mediaController:he,videoModel:Xe,fragmentModel:qe,streamController:ht,textTracks:Z,isFragmented:ye,embeddedTracks:pt,fragmentedTracks:Ye}}function Se(st){Ke=st}function De(st,Je){function et(ei,Xt){var ni=new T.default,li={subtitle:"subtitles",caption:"captions"},ai=function(){var Dt=Xt.roles.length>0?li[Xt.roles[0]]:li.caption;return Dt=Dt===li.caption||Dt===li.subtitle?Dt:li.caption},di=function(){var Dt=!1;return Xt.codec&&Xt.codec.search(d.default.STPP)>=0&&(Dt=!0),Xt.mimeType&&Xt.mimeType.search(d.default.TTML)>=0&&(Dt=!0),Dt};ni.captionData=ei,ni.lang=Xt.lang,ni.label=Xt.id,ni.index=Xt.index,ni.isTTML=di(),ni.defaultTrack=me(Xt),ni.isFragmented=ye,ni.isEmbedded=!!Xt.isEmbedded,ni.kind=ai(),ni.roles=Xt.roles;var Ze=(W?W.length:0)+pt.length;Z.addTextTrack(ni,Ze)}var St=void 0,wt=void 0,lt=void 0,ut=void 0,bt=void 0,kt=void 0,Mt=void 0,se=Je.mediaInfo,Be=se.type,e=se.mimeType,i=se.codec||e;if(!i)return void Pe("No text type defined");if(Be===d.default.FRAGMENTED_TEXT)if(ke)if(kt=U.getSamplesInfo(st),wt=kt.sampleList,!Ct&&wt.length>0&&(Ct=wt[0].cts-Je.start*We),i.search(d.default.STPP)>=0)for(we=we!==null?we:Ie(i),lt=0;lt<wt.length;lt++){var n=wt[lt],r=n.cts,h=r-Ct;this.buffered.add(h/We,(h+n.duration)/We);var w=new DataView(st,n.offset,n.subSizes[0]);Mt=q.default.Utils.dataViewToString(w,d.default.UTF8);var B=[],V=n.offset+n.subSizes[0];for(ut=1;ut<n.subSizes.length;ut++){var oe=new Uint8Array(st,V,n.subSizes[ut]),Me=String.fromCharCode.apply(null,oe);B.push(Me),V+=n.subSizes[ut]}try{var Re=K.getValue(),je=Re.ttmlTimeIsRelative?r/We:0;St=we.parse(Mt,je,r/We,(r+n.duration)/We,B),Z.addCaptions(Ke,Ct/We,St)}catch(ei){Pe("TTML parser error: "+ei.message)}}else{var ze=[];for(lt=0;lt<wt.length;lt++){var n=wt[lt];n.cts-=Ct,this.buffered.add(n.cts/We,(n.cts+n.duration)/We);var Ne=st.slice(n.offset,n.offset+n.size),Oe=q.default.parseBuffer(Ne);for(ut=0;ut<Oe.boxes.length;ut++){var tt=Oe.boxes[ut];if(Pe("VTT box1: "+tt.type),tt.type!=="vtte"&&tt.type==="vttc")for(Pe("VTT vttc boxes.length = "+tt.boxes.length),bt=0;bt<tt.boxes.length;bt++){var it=tt.boxes[bt];if(Pe("VTT box2: "+it.type),it.type==="payl"){var xt=it.cue_text;Pe("VTT cue_text = "+xt);var Ot=n.cts/We,Wt=(n.cts+n.duration)/We;ze.push({start:Ot,end:Wt,data:xt,styles:{}}),Pe("VTT "+Ot+"-"+Wt+" : "+xt)}}}}ze.length>0&&Z.addCaptions(Ke,0,ze)}else{for(ke=!0,lt=0;lt<W.length;lt++)et(null,W[lt]);We=U.getMediaTimescaleFromMoov(st)}else if(Be===d.default.TEXT){var w=new DataView(st,0,st.byteLength);Mt=q.default.Utils.dataViewToString(w,d.default.UTF8);try{St=Ie(i).parse(Mt,0),et(St,se)}catch(Xt){k.timedTextError(Xt,"parse",Mt)}}else if(Be===d.default.VIDEO)if(Je.segmentType===_.HTTPRequest.INIT_SEGMENT_TYPE){if(nt===0)for(nt=U.getMediaTimescaleFromMoov(st),lt=0;lt<pt.length;lt++)et(null,pt[lt])}else{if(nt===0)return void Pe("CEA-608: No timescale for embeddedTextTrack yet");var zt=function(ei,Xt){function ni(li,ai,di){var Ze=null;Xe.getTTMLRenderingDiv()?Ze=Tt.createHTMLCaptionsFromScreen(Xe.getElement(),li,ai,di):Ze=[{start:li,end:ai,data:di.getDisplayText(),styles:{}}],Ze&&Z.addCaptions(Xt,0,Ze)}return ni};kt=U.getSamplesInfo(st);var qt=kt.lastSequenceNumber;if(!gt[0]&&!gt[1]){var Bt=void 0,rt=void 0;for(lt=0;lt<pt.length;lt++){if(pt[lt].id===d.default.CC1?rt=Z.getTrackIdxForId(d.default.CC1):pt[lt].id===d.default.CC3&&(rt=Z.getTrackIdxForId(d.default.CC3)),rt===-1)return void Pe("CEA-608: data before track is ready.");Bt=zt(this,rt),gt[lt]=new pe.default.Cea608Parser(lt,{newCue:Bt},null)}}if(nt&&Ut.indexOf(qt)==-1){if(Lt!==null&&qt!==Lt+kt.numSequences)for(lt=0;lt<gt.length;lt++)gt[lt]&&gt[lt].reset();for(var It=ae(st,kt.sampleList),Pt=0;Pt<gt.length;Pt++){var Gt=It.fields[Pt],Yt=gt[Pt];if(Yt)for(lt=0;lt<Gt.length;lt++)Yt.addData(Gt[lt][0]/nt,Gt[lt][1])}Lt=qt,Ut.push(qt)}}}function ae(st,Je){if(Je.length===0)return null;for(var et={splits:[],fields:[[],[]]},St=new DataView(st),wt=0;wt<Je.length;wt++)for(var lt=Je[wt],ut=pe.default.findCea608Nalus(St,lt.offset,lt.size),bt=null,kt=0,Mt=0;Mt<ut.length;Mt++)for(var se=pe.default.extractCea608DataFromRange(St,ut[Mt]),Be=0;Be<2;Be++)se[Be].length>0&&(lt.cts!==bt?kt=0:kt+=1,et.fields[Be].push([lt.cts,se[Be],kt]),bt=lt.cts);return et.fields.forEach(function(e){e.sort(function(i,n){return i[0]===n[0]?i[2]-n[2]:i[0]-n[0]})}),et}function me(st){var Je=!1;return pt.length>1&&st.isEmbedded?Je=st.id&&st.id===d.default.CC1:pt.length===1?st.id&&st.id.substring(0,2)==="CC"&&(Je=!0):pt.length===0&&(Je=st.index===W[0].index),Je}function Ie(st){var Je=void 0;return st.search(d.default.VTT)>=0?Je=c:(st.search(d.default.TTML)>=0||st.search(d.default.STPP)>=0)&&(Je=S),Je}function xe(st,Je){st===void 0&&st===Je&&(st=this.buffered.start(0),Je=this.buffered.end(this.buffered.length-1)),this.buffered.remove(st,Je)}var de=this.context,Pe=(0,j.default)(de).getInstance().log,P=(0,le.default)(de).getInstance(),J=!1,L=void 0,k=void 0,ne=void 0,K=void 0,he=void 0,we=void 0,c=void 0,S=void 0,U=void 0,W=void 0,Z=void 0,ye=void 0,qe=void 0,ke=void 0,We=void 0,Ye=void 0,Xe=void 0,ht=void 0,Ct=void 0,Ke=void 0,pt=void 0,dt=void 0,nt=void 0,Lt=void 0,Ut=void 0,gt=void 0,Tt=void 0;return{initialize:ie,append:De,abort:Te,addEmbeddedTrack:Ae,resetEmbedded:Ee,setConfig:z,getConfig:ce,setCurrentFragmentedTrackIdx:Se,remove:xe}}Object.defineProperty(u,"__esModule",{value:!0});var E=t(98),d=f(E),_=t(179),y=t(171),T=f(y),m=t(71),b=f(m),A=t(143),C=f(A),R=t(145),N=f(R),M=t(48),H=f(M),Y=t(46),j=f(Y),x=t(139),o=f(x),G=t(134),I=f(G),O=t(10),q=f(O),Q=t(2),pe=f(Q),re=t(47),le=f(re),ee=t(51),be=f(ee);g.__dashjs_factory_name="TextSourceBuffer",u.default=H.default.getSingletonFactory(g),p.exports=u.default},{10:10,134:134,139:139,143:143,145:145,171:171,179:179,2:2,46:46,47:47,48:48,51:51,71:71,98:98}],139:[function(t,p,u){"use strict";function f(M){return M&&M.__esModule?M:{default:M}}function g(){function M(){typeof window!="undefined"&&typeof navigator!="undefined"&&(me=window.VTTCue||window.TextTrackCue,xe=[],de=[],Pe=-1,P=0,J=0,L=0,k=0,ne=null,K=null,c=!1,U=2147483647,S=null,he=!!navigator.userAgent.match(/Chrome/)&&!navigator.userAgent.match(/Edge/),document.fullscreenElement!==void 0?we="fullscreenElement":document.webkitIsFullScreen!==void 0?we="webkitIsFullScreen":document.msFullscreenElement?we="msFullscreenElement":document.mozFullScreen&&(we="mozFullScreen"))}function H(W){var Z=xe[W].kind,ye=xe[W].label!==void 0?xe[W].label:xe[W].lang,qe=xe[W].lang,ke=xe[W].isTTML,We=xe[W].isEmbedded,Ye=he?document.createElement("track"):Ie.addTextTrack(Z,ye,qe);return he&&(Ye.kind=Z,Ye.label=ye,Ye.srclang=qe),Ye.isEmbedded=We,Ye.isTTML=ke,Ye}function Y(W){c=W,ne&&!document[we]&&(ne.style.zIndex=W?U:null)}function j(W,Z){if(xe.length===Z)return void ae("Trying to add too many tracks.");if(xe.push(W),xe.length===Z){xe.sort(function(ht,Ct){return ht.index-Ct.index}),ne=Ie.getTTMLRenderingDiv();for(var ye=-1,qe=0;qe<xe.length;qe++){var ke=H.call(this,qe);de.push(ke),xe[qe].defaultTrack&&(ke.default=!0,ye=qe),he&&Ie.appendChild(ke);var We=q(qe);We&&(We.mode=d.default.TEXT_SHOWING,ne&&(xe[qe].isTTML||xe[qe].isEmbedded)?We.renderingType="html":We.renderingType="default"),this.addCaptions(qe,0,xe[qe].captionData),De.trigger(m.default.TEXT_TRACK_ADDED)}if(re.call(this,ye),ye>=0)for(var Ye=0;Ye<xe.length;Ye++){var Xe=q(Ye);Xe&&(Xe.mode=Ye===ye?d.default.TEXT_SHOWING:d.default.TEXT_HIDDEN)}De.trigger(m.default.TEXT_TRACKS_QUEUE_INITIALIZED,{index:Pe,tracks:xe})}}function x(W,Z,ye,qe,ke,We){var Ye=W/Z,Xe=ye/qe,ht=0,Ct=0;Ye>Xe?(Ct=Z,ht=Ct/qe*ye):(ht=W,Ct=ht/ye*qe);var Ke=0,pt=0,dt=0,nt=0;return ht/Ct>ke?(nt=Ct,dt=Ct*ke):(dt=ht,nt=ht/ke),Ke=(W-dt)/2,pt=(Z-nt)/2,We?{x:Ke+.1*dt,y:pt+.1*nt,w:.8*dt,h:.8*nt}:{x:Ke,y:pt,w:dt,h:nt}}function o(W,Z){var ye=Ie.getClientWidth(),qe=Ie.getClientHeight(),ke=Ie.getVideoWidth(),We=Ie.getVideoHeight(),Ye=Ie.getVideoRelativeOffsetTop(),Xe=Ie.getVideoRelativeOffsetLeft(),ht=ke/We,Ct=!1;W.isFromCEA608&&(ht=3.5/3,Ct=!0);var Ke=x.call(this,ye,qe,ke,We,ht,Ct),pt=Ke.w,dt=Ke.h,nt=Ke.x,Lt=Ke.y;if(pt!=L||dt!=k||nt!=P||Lt!=J||Z){P=nt+Xe,J=Lt+Ye,L=pt,k=dt,ne.style.left=P+"px",ne.style.top=J+"px",ne.style.width=L+"px",ne.style.height=k+"px";for(var Ut=0;W.activeCues&&Ut<W.activeCues.length;++Ut){var gt=W.activeCues[Ut];gt.scaleCue(gt)}we&&document[we]||c?ne.style.zIndex=U:ne.style.zIndex=null}}function G(W){var Z=L,ye=k,qe=void 0,ke=void 0,We=void 0,Ye=void 0,Xe=void 0;if(W.cellResolution){var ht=[Z/W.cellResolution[0],ye/W.cellResolution[1]];if(W.linePadding){for(qe in W.linePadding)if(W.linePadding.hasOwnProperty(qe)){var Ct=W.linePadding[qe];ke=(Ct*ht[0]).toString();for(var Ke=document.getElementsByClassName("spanPadding"),pt=0;pt<Ke.length;pt++)Ke[pt].style.cssText=Ke[pt].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+ke),Ke[pt].style.cssText=Ke[pt].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+ke)}}if(W.fontSize){for(qe in W.fontSize)if(W.fontSize.hasOwnProperty(qe)){W.fontSize[qe][0]==="%"?We=W.fontSize[qe][1]/100:W.fontSize[qe][0]==="c"&&(We=W.fontSize[qe][1]),ke=(We*ht[1]).toString(),Xe=qe!=="defaultFontSize"?document.getElementsByClassName(qe):document.getElementsByClassName("paragraph");for(var dt=0;dt<Xe.length;dt++)Xe[dt].style.cssText=Xe[dt].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+ke)}if(W.lineHeight){for(qe in W.lineHeight)if(W.lineHeight.hasOwnProperty(qe)){W.lineHeight[qe][0]==="%"?Ye=W.lineHeight[qe][1]/100:W.fontSize[qe][0]==="c"&&(Ye=W.lineHeight[qe][1]),ke=(Ye*ht[1]).toString(),Xe=document.getElementsByClassName(qe);for(var nt=0;nt<Xe.length;nt++)Xe[nt].style.cssText=Xe[nt].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+ke)}}}}if(W.isd){var Lt=document.getElementById(W.cueID);Lt&&ne.removeChild(Lt),I(W)}}function I(W){var Z=document.createElement("div");ne.appendChild(Z),S=(0,N.renderHTML)(W.isd,Z,function(ye){var qe=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,ke=/^#(.*)$/;if(qe.test(ye)){var We=qe.exec(ye),Ye=parseInt(We[4],10)-1,Xe=btoa(W.images[Ye]),ht="data:image/png;base64,"+Xe;return ht}if(ke.test(ye)){var We=ke.exec(ye),Ye=We[1],ht="data:image/png;base64,"+W.embeddedImages[Ye];return ht}return null},ne.clientHeight,ne.clientWidth,!1,function(ye){ae("[TextTracks][renderCaption]",ye)},S,!0),Z.id=W.cueID}function O(W,Z,ye){var qe=q(W),ke=this;if(qe&&ye&&ye.length!==0)for(var We in ye){var Ye=void 0,Xe=ye[We];qe.cellResolution=Xe.cellResolution,qe.isFromCEA608=Xe.isFromCEA608,Xe.type==="html"?(Ye=new me(Xe.start-Z,Xe.end-Z,""),Ye.cueHTMLElement=Xe.cueHTMLElement,Ye.isd=Xe.isd,Ye.images=Xe.images,Ye.embeddedImages=Xe.embeddedImages,Ye.cueID=Xe.cueID,Ye.scaleCue=G.bind(ke),Ye.cellResolution=Xe.cellResolution,Ye.lineHeight=Xe.lineHeight,Ye.linePadding=Xe.linePadding,Ye.fontSize=Xe.fontSize,ne.style.left=P+"px",ne.style.top=J+"px",ne.style.width=L+"px",ne.style.height=k+"px",Ye.onenter=function(){qe.mode===d.default.TEXT_SHOWING&&(this.isd?(I(this),ae("Cue enter id:"+this.cueID)):(ne.appendChild(this.cueHTMLElement),G.call(ke,this)))},Ye.onexit=function(){for(var ht=ne.childNodes,Ct=0;Ct<ht.length;++Ct)ht[Ct].id===this.cueID&&(ae("Cue exit id:"+ht[Ct].id),ne.removeChild(ht[Ct]))}):(Ye=new me(Xe.start-Z,Xe.end-Z,Xe.data),Xe.styles&&(Xe.styles.align!==void 0&&"align"in Ye&&(Ye.align=Xe.styles.align),Xe.styles.line!==void 0&&"line"in Ye&&(Ye.line=Xe.styles.line),Xe.styles.position!==void 0&&"position"in Ye&&(Ye.position=Xe.styles.position),Xe.styles.size!==void 0&&"size"in Ye&&(Ye.size=Xe.styles.size))),qe.addCue(Ye)}}function q(W){return W>=0&&xe[W]?Ie.getTextTrack(xe[W].kind,xe[W].label,xe[W].lang,xe[W].isTTML,xe[W].isEmbedded):null}function Q(){return Pe}function pe(W){for(var Z=-1,ye=0;ye<xe.length;ye++)if(xe[ye].label===W){Z=ye;break}return Z}function re(W){if(W!==Pe){Pe=W;var Z=q(Pe);le.call(this,Z),K&&(clearInterval(K),K=null),Z&&Z.renderingType==="html"&&(o.call(this,Z,!0),K=setInterval(o.bind(this,Z),500))}}function le(W){Ee.call(this),W&&W.renderingType==="html"?ve.call(this):fe.call(this)}function ee(W){if(W.cues)for(var Z=W.cues,ye=Z.length-1,qe=ye;qe>=0;qe--)W.removeCue(Z[qe])}function be(W){var Z=q(W);Z&&ee(Z)}function ie(){for(var W=de?de.length:0,Z=0;Z<W;Z++)if(he)Ie.removeChild(de[Z]);else{var ye=q(Z);ye&&(ee.call(this,ye),ye.mode="disabled")}de=[],xe=[],K&&(clearInterval(K),K=null),Pe=-1,Ee.call(this)}function Te(W){Ie.removeChild(de[W]),de.splice(W,1)}function ve(){if(he){var W=document.getElementById("native-cue-style");if(!W){W=document.createElement("style"),W.id="native-cue-style",document.head.appendChild(W);var Z=W.sheet,ye=Ie.getElement();ye&&(ye.id?Z.insertRule("#"+ye.id+"::cue {background: transparent}",0):ye.classList.length!==0?Z.insertRule("."+ye.className+"::cue {background: transparent}",0):Z.insertRule("video::cue {background: transparent}",0))}}}function fe(){if(he){var W=document.getElementById("native-cue-style");W&&document.head.removeChild(W)}}function Ee(){if(ne)for(;ne.firstChild;)ne.removeChild(ne.firstChild)}function Ae(W){W&&W.videoModel&&(Ie=W.videoModel)}function z(W,Z){var ye=q(W);ye&&ye.mode!==Z&&(ye.mode=Z)}function ce(){return xe[Pe]}var Se=this.context,De=(0,y.default)(Se).getInstance(),ae=(0,R.default)(Se).getInstance().log,me=void 0,Ie=void 0,xe=void 0,de=void 0,Pe=void 0,P=void 0,J=void 0,L=void 0,k=void 0,ne=void 0,K=void 0,he=void 0,we=void 0,c=void 0,S=void 0,U=void 0;return{initialize:M,displayCConTop:Y,addTextTrack:j,addCaptions:O,getCurrentTrackIdx:Q,setCurrentTrackIdx:re,getTrackIdxForId:pe,getCurrentTrackInfo:ce,setModeForTrackIdx:z,deleteCuesFromTrackIdx:be,deleteAllTextTracks:ie,deleteTextTrack:Te,setConfig:Ae}}Object.defineProperty(u,"__esModule",{value:!0});var E=t(98),d=f(E),_=t(47),y=f(_),T=t(51),m=f(T),b=t(48),A=f(b),C=t(46),R=f(C),N=t(18);g.__dashjs_factory_name="TextTracks",u.default=A.default.getSingletonFactory(g),p.exports=u.default},{18:18,46:46,47:47,48:48,51:51,98:98}],140:[function(t,p,u){"use strict";function f(M){return M&&M.__esModule?M:{default:M}}function g(M){function H(){I(),Q=(0,A.default)(O).create({dashManifestModel:M.dashManifestModel,adapter:M.adapter,baseURLController:M.baseURLController,stream:M.stream})}function Y(pe){var re=Q.getCurrentTrack();if(!re||re.segmentDuration<=0)return null;var le=Math.floor(pe/re.segmentDuration),ee=pe%re.segmentDuration,be=Math.floor(ee*re.tilesHor*re.tilesVert/re.segmentDuration),ie=new m.default;return ie.url=j(re,le),ie.width=Math.floor(re.widthPerTile),ie.height=Math.floor(re.heightPerTile),ie.x=Math.floor(be%re.tilesHor)*re.widthPerTile,ie.y=Math.floor(be/re.tilesHor)*re.heightPerTile,ie}function j(pe,re){var le=re+pe.startNumber,ee=(0,N.replaceTokenForTemplate)(pe.templateUrl,"Number",le);return ee=(0,N.replaceTokenForTemplate)(ee,"Time",(le-1)*pe.segmentDuration),ee=(0,N.replaceTokenForTemplate)(ee,"Bandwidth",pe.bandwidth),(0,N.unescapeDollarsInTemplate)(ee)}function x(pe){Q.setTrackByIndex(pe)}function o(){return Q.getCurrentTrackIndex()}function G(){var pe=Q.getTracks();if(!pe||pe.length===0)return[];var re=0;return pe.map(function(le){var ee=new R.default;return ee.mediaType=y.default.IMAGE,ee.qualityIndex=re++,ee.bitrate=le.bitrate,ee.width=le.width,ee.height=le.height,ee})}function I(){Q&&Q.reset()}var O=this.context,q=void 0,Q=void 0;return q={get:Y,setTrackByIndex:x,getCurrentTrackIndex:o,getBitrateList:G,reset:I},H(),q}Object.defineProperty(u,"__esModule",{value:!0});var E=t(48),d=f(E),_=t(98),y=f(_),T=t(172),m=f(T),b=t(141),A=f(b),C=t(159),R=f(C),N=t(74);g.__dashjs_factory_name="ThumbnailController",u.default=d.default.getClassFactory(g),p.exports=u.default},{141:141,159:159,172:172,48:48,74:74,98:98}],141:[function(t,p,u){"use strict";function f(H){return H&&H.__esModule?H:{default:H}}function g(H){function Y(){Q(),j()}function j(){if(be&&re&&le){var Ee=be?be.getStreamInfo():null;if(Ee){var Ae=le.getMediaInfoForType(Ee,d.default.IMAGE);if(Ae){var z=le.getDataForMedia(Ae);if(z){var ce=re.getRepresentationsForAdaptation(z);ce&&ce.length>0&&ce.forEach(function(Se){Se.segmentInfoType===y.default.SEGMENT_TEMPLATE&&Se.segmentDuration>0&&Se.media&&x(Se)}),ve.length>0&&(ve.sort(function(Se,De){return Se.bitrate-De.bitrate}),fe=ve.length-1)}}}}}function x(Ee){var Ae=new A.default;Ae.id=Ee.id,Ae.bitrate=Ee.bandwidth,Ae.width=Ee.width,Ae.height=Ee.height,Ae.tilesHor=1,Ae.tilesVert=1,Ae.startNumber=Ee.startNumber,Ae.segmentDuration=Ee.segmentDuration,Ae.timescale=Ee.timescale,Ae.templateUrl=o(Ee),Ee.essentialProperties&&Ee.essentialProperties.forEach(function(z){if(z.schemeIdUri===M&&z.value){var ce=z.value.split("x");ce.length!==2||isNaN(ce[0])||isNaN(ce[1])||(Ae.tilesHor=parseInt(ce[0],10),Ae.tilesVert=parseInt(ce[1],10))}}),Ae.tilesHor>0&&Ae.tilesVert>0&&(Ae.widthPerTile=Ae.width/Ae.tilesHor,Ae.heightPerTile=Ae.height/Ae.tilesVert,ve.push(Ae))}function o(Ee){var Ae=ie.isRelative(Ee.media)?ie.resolve(Ee.media,ee.resolve(Ee.path).url):Ee.media;return Ae?(0,N.replaceIDForTemplate)(Ae,Ee.id):""}function G(){return ve}function I(){return fe}function O(){return fe<0?null:ve[fe]}function q(Ee){ve&&ve.length!==0&&(Ee>=ve.length&&(Ee=ve.length-1),fe=Ee)}function Q(){ve=[],fe=-1}var pe=this.context,re=H.dashManifestModel,le=H.adapter,ee=H.baseURLController,be=H.stream,ie=(0,R.default)(pe).getInstance(),Te=void 0,ve=void 0,fe=void 0;return Te={initialize:Y,getTracks:G,reset:Q,setTrackByIndex:q,getCurrentTrack:O,getCurrentTrackIndex:I},Y(),Te}Object.defineProperty(u,"__esModule",{value:!0});var E=t(98),d=f(E),_=t(58),y=f(_),T=t(48),m=f(T),b=t(173),A=f(b),C=t(155),R=f(C),N=t(74),M="http://dashif.org/thumbnail_tile";g.__dashjs_factory_name="ThumbnailTracks",u.default=m.default.getClassFactory(g),p.exports=u.default},{155:155,173:173,48:48,58:58,74:74,98:98}],142:[function(t,p,u){"use strict";function f(x){return x&&x.__esModule?x:{default:x}}function g(){function x(){ee=(0,m.default)(Q).create({updateEventName:y.default.SERVICE_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:y.default.SERVICE_LOCATION_BLACKLIST_ADD}),be=(0,R.default)(Q).create({blacklistController:ee}),ie=(0,A.default)(Q).create({blacklistController:ee}),Te=be}function o(ve){ve.selector&&(Te=ve.selector),ve.dashManifestModel&&(re=ve.dashManifestModel)}function G(){if(!re||!re.hasOwnProperty("getIsDVB"))throw new Error("Missing config parameter(s)")}function I(ve){G(),Te=re.getIsDVB(ve)?ie:be}function O(ve){var fe=ve.baseUrls,Ee=ve.selectedIdx;if(!isNaN(Ee))return fe[Ee];var Ae=Te.select(fe);return Ae?(ve.selectedIdx=fe.indexOf(Ae),Ae):void pe.trigger(y.default.URL_RESOLUTION_FAILED,{error:new Error(H,Y)})}function q(){ee.reset()}var Q=this.context,pe=(0,d.default)(Q).getInstance(),re=void 0,le=void 0,ee=void 0,be=void 0,ie=void 0,Te=void 0;return le={chooseSelectorFromManifest:I,select:O,reset:q,setConfig:o},x(),le}Object.defineProperty(u,"__esModule",{value:!0});var E=t(47),d=f(E),_=t(51),y=f(_),T=t(102),m=f(T),b=t(158),A=f(b),C=t(157),R=f(C),N=t(48),M=f(N),H=1,Y="Failed to resolve a valid URL";g.__dashjs_factory_name="BaseURLSelector";var j=M.default.getClassFactory(g);j.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=H,j.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE=Y,M.default.updateClassFactory(g.__dashjs_factory_name,j),u.default=j,p.exports=u.default},{102:102,157:157,158:158,47:47,48:48,51:51}],143:[function(t,p,u){"use strict";function f(b){return b&&b.__esModule?b:{default:b}}function g(){function b(C){if(!C)return null;C.fileStart===void 0&&(C.fileStart=0);var R=m.default.parseBuffer(C),N=(0,d.default)(A).create();return N.setData(R),N}var A=this.context;return{parse:b}}Object.defineProperty(u,"__esModule",{value:!0});var E=t(150),d=f(E),_=t(48),y=f(_),T=t(10),m=f(T);g.__dashjs_factory_name="BoxParser",u.default=y.default.getSingletonFactory(g),p.exports=u.default},{10:10,150:150,48:48}],144:[function(t,p,u){"use strict";function f(_){return _&&_.__esModule?_:{default:_}}function g(){function _(){C=!1}function y(){var R="WebKitMediaSource"in window,N="MediaSource"in window;return R||N}function T(){return C}function m(R){C=R}function b(R){return!!("MediaSource"in window&&MediaSource.isTypeSupported(R))||!!("WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(R))}var A=void 0,C=void 0;return A={supportsMediaSource:y,supportsEncryptedMedia:T,supportsCodec:b,setEncryptedMediaSupported:m},_(),A}Object.defineProperty(u,"__esModule",{value:!0});var E=t(48),d=f(E);g.__dashjs_factory_name="Capabilities",u.default=d.default.getSingletonFactory(g),p.exports=u.default},{48:48}],145:[function(t,p,u){"use strict";function f(_){return _&&_.__esModule?_:{default:_}}function g(){function _(R,N){var M=0;for(M=0;M<this.customTimeRangeArray.length&&R>this.customTimeRangeArray[M].start;M++);for(this.customTimeRangeArray.splice(M,0,{start:R,end:N}),M=0;M<this.customTimeRangeArray.length-1;M++)this.mergeRanges(M,M+1)&&M--;this.length=this.customTimeRangeArray.length}function y(){this.customTimeRangeArray=[],this.length=0}function T(R,N){for(var M=0;M<this.customTimeRangeArray.length;M++)if(R<=this.customTimeRangeArray[M].start&&N>=this.customTimeRangeArray[M].end)this.customTimeRangeArray.splice(M,1),M--;else{if(R>this.customTimeRangeArray[M].start&&N<this.customTimeRangeArray[M].end){this.customTimeRangeArray.splice(M+1,0,{start:N,end:this.customTimeRangeArray[M].end}),this.customTimeRangeArray[M].end=R;break}R>this.customTimeRangeArray[M].start&&R<this.customTimeRangeArray[M].end?this.customTimeRangeArray[M].end=R:N>this.customTimeRangeArray[M].start&&N<this.customTimeRangeArray[M].end&&(this.customTimeRangeArray[M].start=N)}this.length=this.customTimeRangeArray.length}function m(R,N){var M=this.customTimeRangeArray[R],H=this.customTimeRangeArray[N];return M.start<=H.start&&H.start<=M.end&&M.end<=H.end?(M.end=H.end,this.customTimeRangeArray.splice(N,1),!0):H.start<=M.start&&M.start<=H.end&&H.end<=M.end?(M.start=H.start,this.customTimeRangeArray.splice(N,1),!0):H.start<=M.start&&M.start<=H.end&&M.end<=H.end?(this.customTimeRangeArray.splice(R,1),!0):M.start<=H.start&&H.start<=M.end&&H.end<=M.end&&(this.customTimeRangeArray.splice(N,1),!0)}function b(R){if(R===null||isNaN(R)||R%1!=0)throw new Error("index argument is not an integer")}function A(R){return b(R),R>=this.customTimeRangeArray.length||R<0?NaN:this.customTimeRangeArray[R].start}function C(R){return b(R),R>=this.customTimeRangeArray.length||R<0?NaN:this.customTimeRangeArray[R].end}return{customTimeRangeArray:[],length:0,add:_,clear:y,remove:T,mergeRanges:m,start:A,end:C}}Object.defineProperty(u,"__esModule",{value:!0});var E=t(48),d=f(E);g.__dashjs_factory_name="CustomTimeRanges",u.default=d.default.getClassFactory(g),p.exports=u.default},{48:48}],146:[function(t,p,u){"use strict";function f(H){return H&&H.__esModule?H:{default:H}}function g(H){function Y(Te){if(ie!==void 0)return ie;ie=!1;var ve="1",fe="1",Ee=void 0;try{typeof window!="undefined"&&(Ee=window[Te])}catch(Ae){return le("Warning: DOMStorage access denied: "+Ae.message),ie}if(!Ee||Te!==A&&Te!==C)return ie;try{Ee.setItem(ve,fe),Ee.removeItem(ve),ie=!0}catch(Ae){le("Warning: DOMStorage is supported, but cannot be used: "+Ae.message)}return ie}function j(){Y(A)&&T.forEach(function(Te){var ve=localStorage.getItem(Te.oldKey);if(ve){localStorage.removeItem(Te.oldKey);try{localStorage.setItem(Te.newKey,ve)}catch(fe){le(fe.message)}}})}function x(){j()}function o(){var Te=6e5;return Math.round(new Date().getTime()/Te)*Te}function G(Te,ve){return Y(Te)&&ee["get"+ve+"CachingInfo"]().enabled}function I(){if(!ee||!ee.hasOwnProperty("getLastMediaSettingsCachingInfo"))throw new Error("Missing config parameter(s)")}function O(Te){if(I(),!G(A,N))return null;var ve=null,fe=b.replace(/\?/,Te);try{var Ee=JSON.parse(localStorage.getItem(fe))||{},Ae=new Date().getTime()-parseInt(Ee.timestamp,10)>=ee.getLastMediaSettingsCachingInfo().ttl||!1;ve=Ee.settings,Ae&&(localStorage.removeItem(fe),ve=null)}catch{return null}return ve}function q(Te){var ve=NaN;if(I(),G(A,R)){var fe=m.replace(/\?/,Te);try{var Ee=JSON.parse(localStorage.getItem(fe))||{},Ae=new Date().getTime()-parseInt(Ee.timestamp,10)>=ee.getLastMediaSettingsCachingInfo().ttl||!1,z=parseFloat(Ee.bitrate);isNaN(z)||Ae?Ae&&localStorage.removeItem(fe):(ve=z,le("Last saved bitrate for "+Te+" was "+z))}catch{return null}}return ve}function Q(Te,ve){if(G(A,N)){var fe=b.replace(/\?/,Te);try{localStorage.setItem(fe,JSON.stringify({settings:ve,timestamp:o()}))}catch(Ee){le(Ee.message)}}}function pe(Te,ve){if(G(A,R)&&ve){var fe=m.replace(/\?/,Te);try{localStorage.setItem(fe,JSON.stringify({bitrate:ve.toFixed(3),timestamp:o()}))}catch(Ee){le(Ee.message)}}}H=H||{};var re=this.context,le=(0,y.default)(re).getInstance().log,ee=H.mediaPlayerModel,be=void 0,ie=void 0;return be={getSavedBitrateSettings:q,setSavedBitrateSettings:pe,getSavedMediaSettings:O,setSavedMediaSettings:Q},x(),be}Object.defineProperty(u,"__esModule",{value:!0});var E=t(48),d=f(E),_=t(46),y=f(_),T=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],m="dashjs_?_bitrate",b="dashjs_?_settings",A="localStorage",C="sessionStorage",R="LastBitrate",N="LastMediaSettings";g.__dashjs_factory_name="DOMStorage";var M=d.default.getSingletonFactory(g);u.default=M,p.exports=u.default},{46:46,48:48}],147:[function(t,p,u){"use strict";function f(_){return _&&_.__esModule?_:{default:_}}function g(_){function y(){return x}function T(o){x=o}function m(o,G){var I=!0,O=0,q=void 0,Q=void 0;if(G===void 0&&(G=!1),o.tag>16777215?(j.getUint32(x)!==o.tag&&(I=!1),O=4):o.tag>65535?(q=j.getUint16(x),Q=j.getUint8(x+2),256*q+Q!==o.tag&&(I=!1),O=3):o.tag>255?(j.getUint16(x)!==o.tag&&(I=!1),O=2):(j.getUint8(x)!==o.tag&&(I=!1),O=1),!I&&o.required&&!G)throw new Error("required tag not found");return I&&(x+=O),I}function b(o,G){var I=m(o,G);return I&&R(),I}function A(o){var G=void 0;return m(o),G=R(),Y[o.parse](G)}function C(o,G){var I=m(o,G),O=void 0;return I&&(O=R(),x+=O),I}function R(o){var G=1,I=128,O=8,q=-1,Q=0,pe=j.getUint8(x),re=0;for(re=0;re<O;re+=1){if((pe&I)===I){Q=o===void 0?pe&~I:pe,q=re;break}I>>=1}for(re=0;re<q;re+=1,G+=1)Q=Q<<8|255&j.getUint8(x+G);return x+=G,Q}function N(o){var G=void 0;switch(o){case 4:G=j.getFloat32(x),x+=4;break;case 8:G=j.getFloat64(x),x+=8}return G}function M(o){for(var G=0,I=0;I<o;I+=1)G<<=8,G|=255&j.getUint8(x+I);return x+=o,G}function H(){return x<j.byteLength}_=_||{};var Y=void 0,j=new DataView(_.data),x=0;return Y={getPos:y,setPos:T,consumeTag:m,consumeTagAndSize:b,parseTag:A,skipOverElement:C,getMatroskaCodedNum:R,getMatroskaFloat:N,getMatroskaUint:M,moreData:H}}Object.defineProperty(u,"__esModule",{value:!0});var E=t(48),d=f(E);g.__dashjs_factory_name="EBMLParser",u.default=d.default.getClassFactory(g),p.exports=u.default},{48:48}],148:[function(t,p,u){"use strict";function f(I){return I&&I.__esModule?I:{default:I}}function g(){function I(ie){be.trigger(y.default.ERROR,{error:"capability",event:ie})}function O(ie,Te,ve){be.trigger(y.default.ERROR,{error:"download",event:{id:ie,url:Te,request:ve}})}function q(ie,Te,ve,fe){be.trigger(y.default.ERROR,{error:"manifestError",event:{message:ie,id:Te,manifest:ve,event:fe}})}function Q(ie,Te,ve){be.trigger(y.default.ERROR,{error:"cc",event:{message:ie,id:Te,cc:ve}})}function pe(ie){be.trigger(y.default.ERROR,{error:"mediasource",event:ie})}function re(ie){be.trigger(y.default.ERROR,{error:"key_session",event:ie})}function le(ie){be.trigger(y.default.ERROR,{error:"key_message",event:ie})}var ee=this.context,be=(0,d.default)(ee).getInstance();return{capabilityError:I,downloadError:O,manifestError:q,timedTextError:Q,mediaSourceError:pe,mediaKeySessionError:re,mediaKeyMessageError:le}}Object.defineProperty(u,"__esModule",{value:!0});var E=t(47),d=f(E),_=t(51),y=f(_),T=t(48),m=f(T),b="mediasource",A="mediakeys",C="manifest",R="SIDX",N="content",M="initialization",H="xlink",Y="codec",j="parse",x="nostreams",o="parse";g.__dashjs_factory_name="ErrorHandler";var G=m.default.getSingletonFactory(g);G.CAPABILITY_ERROR_MEDIASOURCE=b,G.CAPABILITY_ERROR_MEDIAKEYS=A,G.DOWNLOAD_ERROR_ID_MANIFEST=C,G.DOWNLOAD_ERROR_ID_SIDX=R,G.DOWNLOAD_ERROR_ID_CONTENT=N,G.DOWNLOAD_ERROR_ID_INITIALIZATION=M,G.DOWNLOAD_ERROR_ID_XLINK=H,G.MANIFEST_ERROR_ID_CODEC=Y,G.MANIFEST_ERROR_ID_PARSE=j,G.MANIFEST_ERROR_ID_NOSTREAMS=x,G.TIMED_TEXT_ERROR_ID_PARSE=o,m.default.updateSingletonFactory(g.__dashjs_factory_name,G),u.default=G,p.exports=u.default},{47:47,48:48,51:51}],149:[function(t,p,u){"use strict";function f(_){return _&&_.__esModule?_:{default:_}}function g(){function _(b){var A=b.streamId,C=b.representationId;m[A]=m[A]||{},m[A][C]=b}function y(b,A){return m&&m[b]&&m[b][A]?m[b][A]:null}function T(){m={}}var m={};return{save:_,extract:y,reset:T}}Object.defineProperty(u,"__esModule",{value:!0});var E=t(48),d=f(E);g.__dashjs_factory_name="InitCache",u.default=d.default.getSingletonFactory(g),p.exports=u.default},{48:48}],150:[function(t,p,u){"use strict";function f(T){return T&&T.__esModule?T:{default:T}}function g(){function T(N){return N&&R&&R.boxes&&R.boxes.length!==0&&typeof R.fetch=="function"?C(R.fetch(N)):null}function m(N){var M=[];if(!N||!R||typeof R.fetchAll!="function")return M;for(var H=R.fetchAll(N),Y=void 0,j=0,x=H.length;j<x;j++)(Y=C(H[j]))&&M.push(Y);return M}function b(N){R=N}function A(){if(!R||!R.boxes||!R.boxes.length)return null;var N=R.boxes[R.boxes.length-1].type,M=m(N);return M.length>0?M[M.length-1]:null}function C(N){if(!N)return null;var M=new d.default(N);return N.hasOwnProperty("_incomplete")&&(M.isComplete=!N._incomplete),M}var R=void 0;return{getBox:T,getBoxes:m,setData:b,getLastBox:A}}Object.defineProperty(u,"__esModule",{value:!0});var E=t(164),d=f(E),_=t(48),y=f(_);g.__dashjs_factory_name="IsoFile",u.default=y.default.getClassFactory(g),p.exports=u.default},{164:164,48:48}],151:[function(t,p,u){"use strict";function f(_){return _&&_.__esModule?_:{default:_}}function g(_){function y(){if(!(b&&b.hasOwnProperty("getExpectedLiveEdge")&&A&&A.hasOwnProperty("getCurrentRepresentationInfo")))throw new Error("Missing config parameter(s)")}function T(){y();var C=A.getCurrentRepresentationInfo(),R=C.DVRWindow.end;return C.useCalculatedLiveEdgeTime&&(R=b.getExpectedLiveEdge(),b.setClientTimeOffset(R-C.DVRWindow.end)),R}function m(){b=null,A=null}_=_||{};var b=_.timelineConverter,A=_.streamProcessor;return{getLiveEdge:T,reset:m}}Object.defineProperty(u,"__esModule",{value:!0});var E=t(48),d=f(E);g.__dashjs_factory_name="LiveEdgeFinder",u.default=d.default.getClassFactory(g),p.exports=u.default},{48:48}],152:[function(t,p,u){"use strict";function f(T){return T&&T.__esModule?T:{default:T}}function g(){function T(m,b){return(0,y.default)(m,b)}return{areEqual:T}}Object.defineProperty(u,"__esModule",{value:!0});var E=t(48),d=f(E),_=t(13),y=f(_);g.__dashjs_factory_name="ObjectUtils",u.default=d.default.getSingletonFactory(g),p.exports=u.default},{13:13,48:48}],153:[function(t,p,u){"use strict";function f(_){return _&&_.__esModule?_:{default:_}}function g(){function _(T){return T}function y(T){return T}return{modifyRequestURL:_,modifyRequestHeader:y}}Object.defineProperty(u,"__esModule",{value:!0});var E=t(48),d=f(E);g.__dashjs_factory_name="RequestModifier",u.default=d.default.getSingletonFactory(g),p.exports=u.default},{48:48}],154:[function(t,p,u){"use strict";function f(R){return R&&R.__esModule?R:{default:R}}function g(){function R(){var G="cue_TTML_"+o;return o++,G}function N(G,I,O,q,Q){var pe=void 0,re=void 0,le="",ee=[],be=void 0,ie=void 0,Te={},ve="",fe="",Ee={onOpenTag:function(Se,De,ae){if(De==="image"&&Se==="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"){if(!ae[" imagetype"]||ae[" imagetype"].value!=="PNG")return void Y("Warning: smpte-tt imagetype != PNG. Discarded");ve=ae["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){ve&&(Te[ve]=fe.trim()),fe="",ve=""},onText:function(Se){ve&&(fe+=Se)}};if(!G)throw le="no ttml data to parse",new Error(le);var Ae=(0,C.fromXML)(G,function(Se){le=Se},Ee);j.trigger(A.default.TTML_PARSED,{ttmlString:G,ttmlDoc:Ae});var z=Ae.getMediaTimeEvents();for(pe=0;pe<z.length;pe++){var ce=(0,C.generateISD)(Ae,z[pe],function(Se){le=Se});for(re=0;re<ce.contents.length;re++)ce.contents[re].contents.length>=1&&(be=z[pe]+I<O?O:z[pe]+I,ie=z[pe+1]+I>q?q:z[pe+1]+I,be<ie&&ee.push({start:be,end:ie,type:"html",cueID:R(),isd:ce,images:Q,embeddedImages:Te}))}if(le!==""&&Y(le),ee.length>0)return ee;throw new Error(le)}function M(){}var H=this.context,Y=(0,y.default)(H).getInstance().log,j=(0,m.default)(H).getInstance(),x=void 0,o=0;return x={parse:N},M(),x}Object.defineProperty(u,"__esModule",{value:!0});var E=t(48),d=f(E),_=t(46),y=f(_),T=t(47),m=f(T),b=t(51),A=f(b),C=t(18);g.__dashjs_factory_name="TTMLParser",u.default=d.default.getSingletonFactory(g),p.exports=u.default},{18:18,46:46,47:47,48:48,51:51}],155:[function(t,p,u){"use strict";function f(_){return _&&_.__esModule?_:{default:_}}function g(){function _(){try{new window.URL("x","http://y"),H=G}catch{}finally{H=H||I}}function y(O){var q=O.indexOf("/"),Q=O.lastIndexOf("/");return q!==-1?Q===q+1?O:(O.indexOf("?")!==-1&&(O=O.substring(0,O.indexOf("?"))),O.substring(0,Q+1)):""}function T(O){var q=O.match(o);return q?q[1]:""}function m(O){var q=O.match(Y);return q?q[0]:""}function b(O){return!Y.test(O)}function A(O){return b(O)&&O.charAt(0)==="/"}function C(O){return O.indexOf("//")===0}function R(O){return j.test(O)}function N(O){return x.test(O)}function M(O,q){return H(O,q)}var H=void 0,Y=/^[a-z][a-z0-9+\-.]*:/i,j=/^https?:\/\//i,x=/^https:\/\//i,o=/^([a-z][a-z0-9+\-.]*:\/\/[^\/]+)\/?/i,G=function(O,q){try{return new window.URL(O,q).toString()}catch{return O}},I=function(O,q){var Q=y;if(!q||!b(O))return O;A(O)&&(Q=T),C(O)&&(Q=m);var pe=Q(q);return[pe,O].join(pe.charAt(pe.length-1)!=="/"&&O.charAt(0)!=="/"?"/":"")};return _(),{parseBaseUrl:y,parseOrigin:T,parseScheme:m,isRelative:b,isPathAbsolute:A,isSchemeRelative:C,isHTTPURL:R,isHTTPS:N,resolve:M}}Object.defineProperty(u,"__esModule",{value:!0});var E=t(48),d=f(E);g.__dashjs_factory_name="URLUtils",u.default=d.default.getSingletonFactory(g),p.exports=u.default},{48:48}],156:[function(t,p,u){"use strict";function f(m){return m&&m.__esModule?m:{default:m}}function g(){function m(){j=/(?:\r\n|\r|\n)/gm,x=/-->/,o=/(^[\s]+|[\s]+$)/g,G=/\s\b/g}function b(I){var O=[],q=void 0,Q=void 0;if(!I)return O;I=I.split(j),q=I.length,Q=-1;for(var pe=0;pe<q;pe++){var re=I[pe];if(re.length>0&&re!==T&&re.match(x)){var le=C(re),ee=le.cuePoints,be=le.styles,ie=N(I,pe+1),Te=A(ee[0].replace(o,"")),ve=A(ee[1].replace(o,""));!isNaN(Te)&&!isNaN(ve)&&Te>=Q&&ve>Te?ie!==""?(Q=Te,O.push({start:Te,end:ve,data:ie,styles:be})):H("Skipping cue due to empty/malformed cue text"):H("Skipping cue due to incorrect cue timing")}}return O}function A(I){var O=I.split(":"),q=O.length-1;return I=60*parseInt(O[q-1],10)+parseFloat(O[q]),q===2&&(I+=3600*parseInt(O[0],10)),I}function C(I){var O=I.split(x),q=O[1].split(G);return q.shift(),O[1]=q[0],q.shift(),{cuePoints:O,styles:R(q)}}function R(I){var O={};return I.forEach(function(q){if(q.split(/:/).length>1){var Q=q.split(/:/)[1];Q&&Q.search(/%/)!=-1&&(Q=parseInt(Q.replace(/%/,""),10)),(q.match(/align/)||q.match(/A/))&&(O.align=Q),(q.match(/line/)||q.match(/L/))&&(O.line=Q),(q.match(/position/)||q.match(/P/))&&(O.position=Q),(q.match(/size/)||q.match(/S/))&&(O.size=Q)}}),O}function N(I,O){for(var q=O,Q="",pe="",re=void 0;I[q]!==""&&q<I.length;)q++;if((re=q-O)>1)for(var le=0;le<re;le++){if(pe=I[O+le],pe.match(x)){Q="";break}Q+=pe,le!==re-1&&(Q+=`
`)}else pe=I[O],pe.match(x)||(Q=pe);return Q}var M=this.context,H=(0,y.default)(M).getInstance().log,Y=void 0,j=void 0,x=void 0,o=void 0,G=void 0;return Y={parse:b},m(),Y}Object.defineProperty(u,"__esModule",{value:!0});var E=t(48),d=f(E),_=t(46),y=f(_),T="WEBVTT";g.__dashjs_factory_name="VTTParser",u.default=d.default.getSingletonFactory(g),p.exports=u.default},{46:46,48:48}],157:[function(t,p,u){"use strict";function f(_){return _&&_.__esModule?_:{default:_}}function g(_){function y(m){var b=0,A=void 0;return m&&m.some(function(C,R){return b=R,!T.contains(C.serviceLocation)})&&(A=m[b]),A}_=_||{};var T=_.blacklistController;return{select:y}}Object.defineProperty(u,"__esModule",{value:!0});var E=t(48),d=f(E);g.__dashjs_factory_name="BasicSelector",u.default=d.default.getClassFactory(g),p.exports=u.default},{48:48}],158:[function(t,p,u){"use strict";function f(_){return _&&_.__esModule?_:{default:_}}function g(_){function y(A){var C=[],R=function(M){return!C.length||!M.dvb_priority||C.indexOf(M.dvb_priority)===-1},N=function(M){return!b.contains(M.serviceLocation)||(M.dvb_priority&&C.push(M.dvb_priority),!1)};return A.filter(N).filter(R)}function T(A){var C=function(x,o){var G=x.dvb_priority-o.dvb_priority;return isNaN(G)?0:G},R=function(x,o,G){return!o||G[0].dvb_priority&&x.dvb_priority&&G[0].dvb_priority===x.dvb_priority},N=0,M=[],H=0,Y=void 0,j=void 0;if(j=A.sort(C).filter(R),j.length)return j.length>1&&(j.forEach(function(x){N+=x.dvb_weight,M.push(N)}),Y=Math.floor(Math.random()*(N-1)),M.every(function(x,o){return H=o,!(Y<x)})),j[H]}function m(A){return A&&T(y(A))}_=_||{};var b=_.blacklistController;return{select:m}}Object.defineProperty(u,"__esModule",{value:!0});var E=t(48),d=f(E);g.__dashjs_factory_name="DVBSelector",u.default=d.default.getClassFactory(g),p.exports=u.default},{48:48}],159:[function(t,p,u){"use strict";function f(E,d){if(!(E instanceof d))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(u,"__esModule",{value:!0});var g=function E(){f(this,E),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN};u.default=g,p.exports=u.default},{}],160:[function(t,p,u){"use strict";function f(E,d){if(!(E instanceof d))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(u,"__esModule",{value:!0});var g=function E(d,_,y){f(this,E),this.code=d||null,this.message=_||null,this.data=y||null};u.default=g,p.exports=u.default},{}],161:[function(t,p,u){"use strict";function f(E,d){if(!(E instanceof d))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(u,"__esModule",{value:!0});var g=function E(){f(this,E),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null};u.default=g,p.exports=u.default},{}],162:[function(t,p,u){"use strict";function f(E,d){if(!(E instanceof d))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(u,"__esModule",{value:!0});var g=function E(){f(this,E),this.action=E.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null};g.ACTION_DOWNLOAD="download",g.ACTION_COMPLETE="complete",u.default=g,p.exports=u.default},{}],163:[function(t,p,u){"use strict";function f(m){return m&&m.__esModule?m:{default:m}}function g(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")}function E(m,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);m.prototype=Object.create(b&&b.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(m,b):m.__proto__=b)}Object.defineProperty(u,"__esModule",{value:!0});var d=function(m,b,A){for(var C=!0;C;){var R=m,N=b,M=A;C=!1,R===null&&(R=Function.prototype);var H=Object.getOwnPropertyDescriptor(R,N);if(H!==void 0){if("value"in H)return H.value;var Y=H.get;return Y===void 0?void 0:Y.call(M)}var j=Object.getPrototypeOf(R);if(j===null)return;m=j,b=N,A=M,C=!0,H=j=void 0}},_=t(162),y=f(_),T=function(m){function b(A){g(this,b),d(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.url=A||null,this.checkForExistenceOnly=!0}return E(b,m),b}(y.default);u.default=T,p.exports=u.default},{162:162}],164:[function(t,p,u){"use strict";function f(d,_){if(!(d instanceof _))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(u,"__esModule",{value:!0});var g=function(){function d(_,y){for(var T=0;T<y.length;T++){var m=y[T];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,m.key,m)}}return function(_,y,T){return y&&d(_.prototype,y),T&&d(_,T),_}}(),E=function(){function d(_){if(f(this,d),this.offset=_._offset,this.type=_.type,this.size=_.size,this.boxes=[],_.boxes)for(var y=0;y<_.boxes.length;y++)this.boxes.push(new d(_.boxes[y]));switch(this.isComplete=!0,_.type){case"sidx":if(this.timescale=_.timescale,this.earliest_presentation_time=_.earliest_presentation_time,this.first_offset=_.first_offset,this.references=_.references,_.references){this.references=[];for(var y=0;y<_.references.length;y++){var T={reference_type:_.references[y].reference_type,referenced_size:_.references[y].referenced_size,subsegment_duration:_.references[y].subsegment_duration};this.references.push(T)}}break;case"emsg":this.id=_.id,this.value=_.value,this.timescale=_.timescale,this.scheme_id_uri=_.scheme_id_uri,this.presentation_time_delta=_.presentation_time_delta,this.event_duration=_.event_duration,this.message_data=_.message_data;break;case"mdhd":this.timescale=_.timescale;break;case"mfhd":this.sequence_number=_.sequence_number;break;case"subs":this.entry_count=_.entry_count,this.entries=_.entries;break;case"tfhd":this.base_data_offset=_.base_data_offset,this.sample_description_index=_.sample_description_index,this.default_sample_duration=_.default_sample_duration,this.default_sample_size=_.default_sample_size,this.default_sample_flags=_.default_sample_flags,this.flags=_.flags;break;case"tfdt":this.version=_.version,this.baseMediaDecodeTime=_.baseMediaDecodeTime,this.flags=_.flags;break;case"trun":if(this.sample_count=_.sample_count,this.first_sample_flags=_.first_sample_flags,this.data_offset=_.data_offset,this.flags=_.flags,this.samples=_.samples,_.samples){this.samples=[];for(var y=0,m=_.samples.length;y<m;y++){var b={sample_size:_.samples[y].sample_size,sample_duration:_.samples[y].sample_duration,sample_composition_time_offset:_.samples[y].sample_composition_time_offset};this.samples.push(b)}}}}return g(d,[{key:"getChildBox",value:function(_){for(var y=0;y<this.boxes.length;y++)if(this.boxes[y].type===_)return this.boxes[y]}},{key:"getChildBoxes",value:function(_){for(var y=[],T=0;T<this.boxes.length;T++)this.boxes[T].type===_&&y.push(this.boxes[T]);return y}}]),d}();u.default=E,p.exports=u.default},{}],165:[function(t,p,u){"use strict";function f(E,d){if(!(E instanceof d))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(u,"__esModule",{value:!0});var g=function E(){f(this,E),this.DVRWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null};u.default=g,p.exports=u.default},{}],166:[function(t,p,u){"use strict";function f(E,d){if(!(E instanceof d))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(u,"__esModule",{value:!0});var g=function E(){f(this,E),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.isText=!1,this.KID=null,this.bitrateList=null};u.default=g,p.exports=u.default},{}],167:[function(t,p,u){"use strict";function f(E,d){if(!(E instanceof d))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(u,"__esModule",{value:!0});var g=function E(){f(this,E),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]};u.default=g,p.exports=u.default},{}],168:[function(t,p,u){"use strict";function f(E,d){if(!(E instanceof d))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(u,"__esModule",{value:!0});var g=function E(){f(this,E),this.id=null,this.quality=null,this.DVRWindow=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null};u.default=g,p.exports=u.default},{}],169:[function(t,p,u){"use strict";function f(E,d){if(!(E instanceof d))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(u,"__esModule",{value:!0});var g=function E(){f(this,E),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0};u.default=g,p.exports=u.default},{}],170:[function(t,p,u){"use strict";function f(A){return A&&A.__esModule?A:{default:A}}function g(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function")}function E(A,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);A.prototype=Object.create(C&&C.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(A,C):A.__proto__=C)}Object.defineProperty(u,"__esModule",{value:!0});var d=function(A,C,R){for(var N=!0;N;){var M=A,H=C,Y=R;N=!1,M===null&&(M=Function.prototype);var j=Object.getOwnPropertyDescriptor(M,H);if(j!==void 0){if("value"in j)return j.value;var x=j.get;return x===void 0?void 0:x.call(Y)}var o=Object.getPrototypeOf(M);if(o===null)return;A=o,C=H,R=Y,N=!0,j=o=void 0}},_=t(98),y=f(_),T=t(162),m=f(T),b=function(A){function C(R,N){g(this,C),d(Object.getPrototypeOf(C.prototype),"constructor",this).call(this),this.url=R||null,this.type=N||null,this.mediaType=y.default.STREAM,this.responseType=""}return E(C,A),C}(m.default);u.default=b,p.exports=u.default},{162:162,98:98}],171:[function(t,p,u){"use strict";function f(E,d){if(!(E instanceof d))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(u,"__esModule",{value:!0});var g=function E(){f(this,E),this.captionData=null,this.label=null,this.lang=null,this.defaultTrack=!1,this.kind=null,this.isFragmented=!1,this.isEmbedded=!1};u.default=g,p.exports=u.default},{}],172:[function(t,p,u){"use strict";function f(E,d){if(!(E instanceof d))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(u,"__esModule",{value:!0});var g=function E(){f(this,E),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null};u.default=g,p.exports=u.default},{}],173:[function(t,p,u){"use strict";function f(E,d){if(!(E instanceof d))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(u,"__esModule",{value:!0});var g=function E(){f(this,E),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""};u.default=g,p.exports=u.default},{}],174:[function(t,p,u){"use strict";function f(E,d){if(!(E instanceof d))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(u,"__esModule",{value:!0});var g=function E(){f(this,E),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null};u.default=g,p.exports=u.default},{}],175:[function(t,p,u){"use strict";function f(E,d){if(!(E instanceof d))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(u,"__esModule",{value:!0});var g=function E(){f(this,E),this.t=null,this.level=null};u.default=g,p.exports=u.default},{}],176:[function(t,p,u){"use strict";function f(y){return y&&y.__esModule?y:{default:y}}function g(y,T){if(!(y instanceof T))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(u,"__esModule",{value:!0});var E=t(103),d=f(E),_=function y(){g(this,y),this.target=null,this.state=d.default.BUFFER_EMPTY};u.default=_,p.exports=u.default},{103:103}],177:[function(t,p,u){"use strict";function f(E,d){if(!(E instanceof d))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(u,"__esModule",{value:!0});var g=function E(){f(this,E),this.time=null,this.range=null,this.manifestInfo=null};u.default=g,p.exports=u.default},{}],178:[function(t,p,u){"use strict";function f(E,d){if(!(E instanceof d))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(u,"__esModule",{value:!0});var g=function E(){f(this,E),this.time=null,this.droppedFrames=null};u.default=g,p.exports=u.default},{}],179:[function(t,p,u){"use strict";function f(d,_){if(!(d instanceof _))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(u,"__esModule",{value:!0});var g=function d(){f(this,d),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this._stream=null,this._tfinish=null,this._mediaduration=null,this._responseHeaders=null,this._serviceLocation=null},E=function d(){f(this,d),this.s=null,this.d=null,this.b=[]};g.GET="GET",g.HEAD="HEAD",g.MPD_TYPE="MPD",g.XLINK_EXPANSION_TYPE="XLinkExpansion",g.INIT_SEGMENT_TYPE="InitializationSegment",g.INDEX_SEGMENT_TYPE="IndexSegment",g.MEDIA_SEGMENT_TYPE="MediaSegment",g.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",g.OTHER_TYPE="other",u.HTTPRequest=g,u.HTTPRequestTrace=E},{}],180:[function(t,p,u){"use strict";function f(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(u,"__esModule",{value:!0});var g=function _(){f(this,_),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]},E=function _(){f(this,_),this.id=null,this.index=null,this.start=null,this.duration=null},d=function _(){f(this,_),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null};u.ManifestUpdate=g,u.ManifestUpdateStreamInfo=E,u.ManifestUpdateRepresentationInfo=d},{}],181:[function(t,p,u){"use strict";function f(d,_){if(!(d instanceof _))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(u,"__esModule",{value:!0});var g=function d(){f(this,d),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]};g.INITIAL_PLAYOUT_START_REASON="initial_playout",g.SEEK_START_REASON="seek",g.RESUME_FROM_PAUSE_START_REASON="resume",g.METRICS_COLLECTION_START_REASON="metrics_collection_start";var E=function d(){f(this,d),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null};E.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",E.REBUFFERING_REASON="rebuffering",E.USER_REQUEST_STOP_REASON="user_request",E.END_OF_PERIOD_STOP_REASON="end_of_period",E.END_OF_CONTENT_STOP_REASON="end_of_content",E.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",E.FAILURE_STOP_REASON="failure",u.PlayList=g,u.PlayListTrace=E},{}],182:[function(t,p,u){"use strict";function f(E,d){if(!(E instanceof d))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(u,"__esModule",{value:!0});var g=function E(){f(this,E),this.t=null,this.mt=null,this.to=null,this.lto=null};u.default=g,p.exports=u.default},{}],183:[function(t,p,u){"use strict";function f(E,d){if(!(E instanceof d))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(u,"__esModule",{value:!0});var g=function E(){f(this,E),this.loadingRequests=[],this.executedRequests=[]};u.default=g,p.exports=u.default},{}],184:[function(t,p,u){"use strict";function f(E,d){if(!(E instanceof d))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(u,"__esModule",{value:!0});var g=function E(){f(this,E),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null};u.default=g,p.exports=u.default},{}],185:[function(t,p,u){"use strict";function f(E,d){if(!(E instanceof d))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(u,"__esModule",{value:!0});var g=function E(){f(this,E),this.tcpid=null,this.dest=null,this.topen=null,this.tclose=null,this.tconnect=null};u.default=g,p.exports=u.default},{}]},{},[5]);var vo=function(t,p,u,f){function g(E){return E instanceof u?E:new u(function(d){d(E)})}return new(u||(u=Promise))(function(E,d){function _(m){try{T(f.next(m))}catch(b){d(b)}}function y(m){try{T(f.throw(m))}catch(b){d(b)}}function T(m){m.done?E(m.value):g(m.value).then(_,y)}T((f=f.apply(t,p||[])).next())})},Fr=Vn();oo();ao();var yi=class extends zn{constructor(p){super(p);this._data=this.data(),this.canvasInstances=[],this._readyMedia=0,this._readyWaveforms=0,this._posterCanvasWidth=0,this._posterCanvasHeight=0,this._posterImageExpanded=!1,this._init(),this._resize()}_init(){let p=super._init();return this._$element=Fr(this.el),p||jt.error("Component failed to initialise"),p}getCurrentCanvasInstance(){let p=this._data.helper.getRangeById(this._data.range.id);if(!p)return null;let u=vr(p);return u?this._data.helper.getCanvasById(u):null}data(){return{autoPlay:!1,constrainNavigationToRange:!1,defaultAspectRatio:.56,doubleClickMS:350,halveAtWidth:200,limitToRange:!1,autoAdvanceRanges:!0,posterImageRatio:.3,virtualCanvasEnabled:!0,content:{currentTime:"Current Time",collapse:"Collapse",duration:"Duration",expand:"Expand",mute:"Mute",next:"Next",pause:"Pause",play:"Play",previous:"Previous",unmute:"Unmute"},enableFastForward:!0,enableFastRewind:!0}}set(p){jt.groupCollapsed("AVComponent.set()"),jt.log("Data",p);let u=Object.assign({},this._data);this._data=Object.assign(this._data,p);let f=hr(u,this._data);if(f.includes("helper")&&this._reset(),!this._data.helper){jt.warn("must pass a helper object");return}if(this.canvasInstances.forEach((g,E)=>{let d={};f.includes("limitToRange")&&this._data.canvasId&&(d.limitToRange=this._data.limitToRange),f.includes("autoAdvanceRanges")&&this._data.canvasId&&(d.autoAdvanceRanges=this._data.autoAdvanceRanges),f.includes("constrainNavigationToRange")&&this._data.canvasId&&(d.constrainNavigationToRange=this._data.constrainNavigationToRange),f.includes("autoSelectRange")&&this._data.canvasId&&(d.autoSelectRange=this._data.autoSelectRange),g.set(d)}),(f.includes("virtualCanvasEnabled")||f.includes("canvasId"))&&this._data.canvasId){let g=this._getCanvasInstanceById(this._data.canvasId);g&&this.canvasInstances.forEach(E=>{E.getCanvasId()!==g.getCanvasId()?E.set({visible:!1}):f.includes("range")?E.set({visible:!0,range:this._data.range?jQuery.extend(!0,{},this._data.range):void 0}):E.set({visible:!0})})}if(f.includes("virtualCanvasEnabled")&&(this.set({range:void 0}),this._data.virtualCanvasEnabled&&this.canvasInstances.forEach(g=>{g.isVirtual()&&this.set({canvasId:g.getCanvasId(),range:void 0})})),f.includes("range")&&this._data.range){let g=this._data.helper.getRangeById(this._data.range.id);if(!g)jt.warn("range not found",{id:this._data.range.id});else{let E=vr(g);if(E){let d=this._getCanvasInstanceById(E);if(d){if(d.isVirtual()&&this._data.virtualCanvasEnabled&&d.includesVirtualSubCanvas(E)){E=d.getCanvasId();for(let _=0;_<d.ranges.length;_++){let y=d.ranges[_];if(y.id===g.id){g=y;break}}}this._data.canvasId&&(this._data.canvasId.includes("://")?Lr.Utils.normaliseUrl(this._data.canvasId):this._data.canvasId)!==E?this.set({canvasId:E,range:jQuery.extend(!0,{},g)}):d.set({range:jQuery.extend(!0,{},g)})}}}}this._render(),this._resize(),jt.groupEnd()}_render(){}reset(){this._reset()}_reset(){if(this._readyMedia=0,this._readyWaveforms=0,this._posterCanvasWidth=0,this._posterCanvasHeight=0,clearInterval(this._checkAllMediaReadyInterval),clearInterval(this._checkAllWaveformsReadyInterval),this.canvasInstances.forEach(p=>{p.destroy()}),this.canvasInstances=[],this._$element.empty(),this._data&&this._data.helper&&this._data.helper.manifest){let p=this._data.helper.manifest.getBehavior(),u=this._getCanvases();if(p&&p.toString()==="auto-advance"){let g=new Bn;u.forEach(E=>{g.addCanvas(E)}),this._initCanvas(g)}u.forEach(g=>{this._initCanvas(g)}),this.canvasInstances.length>0&&(this._data.canvasId=this.canvasInstances[0].getCanvasId()),this._checkAllMediaReadyInterval=setInterval(this._checkAllMediaReady.bind(this),100),this._checkAllWaveformsReadyInterval=setInterval(this._checkAllWaveformsReady.bind(this),100),this._$posterContainer=Fr('<div class="poster-container"></div>'),this._$element.append(this._$posterContainer),this._$posterImage=Fr('<div class="poster-image"></div>'),this._$posterExpandButton=Fr(`
                    <button class="btn" title="${this._data&&this._data.content?this._data.content.expand:""}">
                        <i class="av-icon  av-icon-expand expand" aria-hidden="true"></i><span class="sr-only">${this._data&&this._data.content?this._data.content.expand:""}</span>
                    </button>
                `),this._$posterImage.append(this._$posterExpandButton),this._$posterImage.on("touchstart click",g=>{g.preventDefault();let E=this._getPosterImageCss(!this._posterImageExpanded);if(this._$posterImage.animate(E),this._posterImageExpanded=!this._posterImageExpanded,this._data.content)if(this._posterImageExpanded){let d=this._data.content.collapse;this._$posterExpandButton.prop("title",d),this._$posterExpandButton.find("i").switchClass("expand","collapse")}else{let d=this._data.content.expand;this._$posterExpandButton.prop("title",d),this._$posterExpandButton.find("i").switchClass("collapse","expand")}});let f=this._data.helper.getAccompanyingCanvas();if(f||(f=this._data.helper.getPosterCanvas()),f){this._posterCanvasWidth=f.getWidth(),this._posterCanvasHeight=f.getHeight();let g=this._data.helper.getPosterImage();if(g||(g=this._data.helper.getAccompanyingCanvasImage()),g){this._$posterContainer.append(this._$posterImage);let E=this._getPosterImageCss(this._posterImageExpanded);E=Object.assign({},E,{"background-image":"url("+g+")"}),this._$posterImage.css(E)}}}}setCurrentTime(p){return vo(this,void 0,void 0,function*(){let u=this._getCurrentCanvas();if(u)return u.setCurrentTime(p)})}getCurrentTime(){let p=this._getCurrentCanvas();return p?p.getClockTime():0}isPlaying(){return this.canvasInstances.reduce((p,u)=>p||u.isPlaying(),!1)}_checkAllMediaReady(){this._readyMedia===this.canvasInstances.length&&(clearInterval(this._checkAllMediaReadyInterval),this.fire(wi.MEDIA_READY),this.resize())}_checkAllWaveformsReady(){this._readyWaveforms===this._getCanvasInstancesWithWaveforms().length&&(clearInterval(this._checkAllWaveformsReadyInterval),this.fire(wi.WAVEFORMS_READY),this.resize())}_getCanvasInstancesWithWaveforms(){return this.canvasInstances.filter(p=>p.waveforms.length>0)}_getCanvases(){return this._data.helper?this._data.helper.getCanvases():[]}_initCanvas(p){let u=new ms({target:document.createElement("div"),data:Object.assign({},{canvas:p},this._data)});u.logMessage=this._logMessage.bind(this),u.isOnlyCanvasInstance=this._getCanvases().length===1,this._$element.append(u.$playerElement),u.autoAdvanceRanges=this._data.autoAdvanceRanges===!1?this._data.autoAdvanceRanges:!0,u.limitToRange=this._data.limitToRange||!1,u.init(),this.canvasInstances.push(u),u.on("play",()=>{this.fire(wi.PLAY,u)},!1),u.on("pause",()=>{this.fire(wi.PAUSE,u)},!1),u.on(wi.MEDIA_READY,()=>{this._readyMedia++,u.loaded()},!1),u.on(wi.WAVEFORM_READY,()=>{this._readyWaveforms++},!1),u.on(Qi.PREVIOUS_RANGE,()=>{this._prevRange(),this.play()},!1),u.on(Qi.NEXT_RANGE,()=>{this._nextRange(),this.play()},!1),u.on(wi.RANGE_CHANGED,f=>{this.fire(wi.RANGE_CHANGED,f)},!1),u.on(hn.VOLUME_CHANGED,f=>{this._setCanvasInstanceVolumes(f),this.fire(hn.VOLUME_CHANGED,f)},!1)}getCurrentRange(){let p=this._data.helper.getCurrentRange().id;return this._getCurrentCanvas().ranges.find(u=>u.id===p)||null}_prevRange(){if(!this._data||!this._data.helper)return;let p=this.getCurrentRange();if(p){let f=this.getCurrentTime(),g=p.getDuration().start||0;if(f-g>5){this.setCurrentTime(g);return}}let u=this._data.helper.getPreviousRange();u?this.playRange(u.id):this._rewind()}_nextRange(){if(!this._data||!this._data.helper)return;let p=this._data.helper.getNextRange();p&&this.playRange(p.id)}_setCanvasInstanceVolumes(p){this.canvasInstances.forEach(u=>{u.set({volume:p})})}_getNormaliseCanvasId(p){return p.includes("://")?Lr.Utils.normaliseUrl(p):p}_getCanvasInstanceById(p){if(p=this._getNormaliseCanvasId(p),this._data.virtualCanvasEnabled)for(let u=0;u<this.canvasInstances.length;u++){let f=this.canvasInstances[u],g=f.getCanvasId();if(g&&(g=this._getNormaliseCanvasId(g),(f.isVirtual()||this.canvasInstances.length===1)&&g===p||f.includesVirtualSubCanvas(p)))return f}else for(let u=0;u<this.canvasInstances.length;u++){let f=this.canvasInstances[u],g=f.getCanvasId();if(g&&Lr.Utils.normaliseUrl(g)===p)return f}}_getCurrentCanvas(){if(this._data.canvasId)return this._getCanvasInstanceById(this._data.canvasId)}_rewind(){if(this._data.limitToRange)return;let p=this._getCurrentCanvas();p&&p.set({range:void 0})}play(){let p=this._getCurrentCanvas();p&&p.play()}viewRange(p){let u=this._getCurrentCanvas();u&&u.viewRange(p)}pause(){let p=this._getCurrentCanvas();p&&p.pause()}playRange(p,u=!1){if(!this._data.helper)return;let f=this._data.helper.getRangeById(p);f&&this.set({range:jQuery.extend(!0,{autoChanged:u},f)})}showCanvas(p){let u=this._getCurrentCanvas();this._data.virtualCanvasEnabled&&u&&u.getCanvasId()===p&&!u.isVisible()?u.set({visible:!0}):this.set({canvasId:p})}_logMessage(p){this.fire(wi.LOG,p)}_getPosterImageCss(p){let u=this._getCurrentCanvas();if(u){let f=u.$playerElement.find(".options-container"),g=u.$playerElement.parent().width(),E=u.$playerElement.parent().height()-f.height();if(p)return{top:0,left:0,width:g,height:E};{let d,_,y;return this._posterCanvasWidth>this._posterCanvasHeight?(d=this._posterCanvasHeight/this._posterCanvasWidth,_=g*(this._data.posterImageRatio||1),y=_*d):(d=this._posterCanvasWidth/this._posterCanvasHeight,y=E*(this._data.posterImageRatio||1),_=y*d),{top:0,left:g-_,width:_,height:y}}}return null}resize(){this.canvasInstances.forEach(u=>{u.resize()}),this._getCurrentCanvas()&&this._$posterImage&&this._$posterImage.is(":visible")&&(this._posterImageExpanded?this._$posterImage.css(this._getPosterImageCss(!0)):this._$posterImage.css(this._getPosterImageCss(!1)))}};yi.newRanges=!0;var _o=window.$,vs=class extends Is{constructor(p){super(p);this._mediaReady=!1;this._isThumbsViewOpen=!1;this._mediaReadyQueue=[];this.attributionPosition=Cs.BOTTOM_RIGHT}create(){this.setConfig("avCenterPanel"),super.create();let p=this;this.extensionHost.subscribe(Ai.OPEN_EXTERNAL_RESOURCE,u=>{p.openMedia(u)}),this.extensionHost.subscribe(Ai.CANVAS_INDEX_CHANGE,u=>{this._lastCanvasIndex!==u&&this._viewCanvas(u)}),this.extensionHost.subscribe(Ai.CURRENT_TIME_CHANGE,u=>{this._whenMediaReady(()=>{this.avcomponent&&this.avcomponent.setCurrentTime(u)})}),this.extensionHost.subscribe(Ai.RANGE_CHANGE,u=>{!this._observeRangeChanges()||this._whenMediaReady(()=>{p._viewRange(u),p._setTitle()})}),this.extensionHost.subscribe(Ai.METRIC_CHANGE,()=>{this._whenMediaReady(()=>{this.avcomponent&&this.avcomponent.set({limitToRange:this._limitToRange(),constrainNavigationToRange:this._limitToRange(),autoAdvanceRanges:this._autoAdvanceRanges()})})}),this.extensionHost.subscribe(Zr.CREATED,()=>{this._setTitle()}),this.extensionHost.subscribe(Ai.OPEN_THUMBS_VIEW,()=>{this._isThumbsViewOpen=!0,this._whenMediaReady(()=>{this.avcomponent&&(this.avcomponent.set({virtualCanvasEnabled:!1}),this.extension.helper.getCurrentCanvas()&&this._viewCanvas(this.extension.helper.canvasIndex))})}),this.extensionHost.subscribe(Ai.OPEN_TREE_VIEW,()=>{this._isThumbsViewOpen=!1,this._whenMediaReady(()=>{this.avcomponent&&this.avcomponent.set({virtualCanvasEnabled:!0})})}),this.extensionHost.subscribe(Ai.OPEN_LEFT_PANEL,()=>{this.resize()}),this.extensionHost.subscribe(Ai.OPEN_RIGHT_PANEL,()=>{this.resize()}),this._createAVComponent()}_flushMediaReadyQueue(){for(let p of this._mediaReadyQueue)p();this._mediaReadyQueue=[]}_createAVComponent(){this.$avcomponent=_o('<div class="iiif-av-component"></div>'),this.$content.prepend(this.$avcomponent),this.avcomponent=new yi({target:this.$avcomponent[0],data:{posterImageExpanded:this.options.posterImageExpanded,enableFastForward:!0,enableFastRewind:!0}}),this.avcomponent.on("mediaready",()=>{this._mediaReady=!0,this._flushMediaReadyQueue()},!1),this.avcomponent.on("pause",()=>{this.extensionHost.publish(Ai.PAUSE,this.avcomponent.getCurrentTime())}),this.avcomponent.on("rangechanged",p=>{if(p){let u=this.extension.helper.getRangeById(p);if(u){let f=this.extension.helper.getCurrentRange();u!==f&&this.extensionHost.publish(Ai.RANGE_CHANGE,u)}else this.extensionHost.publish(Ai.RANGE_CHANGE,null)}else this.extensionHost.publish(Ai.RANGE_CHANGE,null);this._setTitle()},!1)}_observeRangeChanges(){return!this._isThumbsViewOpen}_setTitle(){let p="",u,f,g=this.extension.helper.getCurrentRange();g?f=g.getLabel():f=this.extension.helper.getCurrentCanvas().getLabel(),u=_r.LanguageMap.getValue(f),u&&(p=u),Wn.getBool(this.config.options.includeParentInTitleEnabled,!1)&&(g?g.parentRange&&(f=g.parentRange.getLabel(),u=_r.LanguageMap.getValue(f)):u=this.extension.helper.getLabel(),u&&(p+=this.content.delimiter+u)),this.title=p;let E=this.extension.helper.getMetadata({range:g});for(let d=0;d<E.length;d++){let y=E[d].items.find(T=>{if(T.label){let m=_r.LanguageMap.getValue(T.label);if(m&&m.toLowerCase()===this.config.options.subtitleMetadataField)return!0}return!1});if(y){this.subtitle=_r.LanguageMap.getValue(y.value);break}}this.$title.text(bs(this.title)),this.resize(!1)}_isCurrentResourceAccessControlled(){return this.extension.helper.getCurrentCanvas().externalResource.isAccessControlled()}openMedia(p){this.extension.getExternalResources(p).then(()=>{this.avcomponent&&(this.extension.helper.canvasIndex===this._lastCanvasIndex&&this.avcomponent.reset(),this._lastCanvasIndex=this.extension.helper.canvasIndex,this.avcomponent.set({helper:this.extension.helper,adaptiveAuthEnabled:this._isCurrentResourceAccessControlled(),autoPlay:this.config.options.autoPlay,enableFastForward:this.config.options.enableFastForward,enableFastRewind:this.config.options.enableFastRewind,autoSelectRange:!0,constrainNavigationToRange:this._limitToRange(),autoAdvanceRanges:this._autoAdvanceRanges(),content:this.content,defaultAspectRatio:.56,doubleClickMS:350,limitToRange:this._limitToRange(),posterImageRatio:this.config.options.posterImageRatio}),this.extensionHost.publish(Zr.EXTERNAL_RESOURCE_OPENED))})}_limitToRange(){return Wn.getBool(this.config.options.limitToRange,!1)?!0:!this.extension.isDesktopMetric()}_autoAdvanceRanges(){return Wn.getBool(this.config.options.autoAdvanceRanges,!0)}_whenMediaReady(p){this._mediaReady?p():this._mediaReadyQueue.push(p)}_viewRange(p){this._whenMediaReady(()=>{p&&this.avcomponent&&this.avcomponent.viewRange(p.id),this.resize(!1)})}_viewCanvas(p){this._whenMediaReady(()=>{let u=this.extension.helper.getCanvasByIndex(p);this.avcomponent&&this.avcomponent.showCanvas(u.id)})}resize(p=!0){super.resize(),p&&this.avcomponent&&(this.$avcomponent.height(this.$content.height()),this.avcomponent.resize())}};var Mn=window.$,_s=class extends xs{constructor(p){super(p)}create(){this.setConfig("downloadDialogue"),super.create(),this.$entireFileAsOriginal=Mn('<li class="option single"><input id="'+Li.ENTIRE_FILE_AS_ORIGINAL+'" type="radio" name="downloadOptions" tabindex="0" /><label id="'+Li.ENTIRE_FILE_AS_ORIGINAL+'label" for="'+Li.ENTIRE_FILE_AS_ORIGINAL+'"></label></li>'),this.$downloadOptions.append(this.$entireFileAsOriginal),this.$entireFileAsOriginal.hide(),this.$downloadButton=Mn('<a class="btn btn-primary" href="#" tabindex="0">'+this.content.download+"</a>"),this.$buttons.prepend(this.$downloadButton),this.$imageOptionsContainer=Mn('<li class="group image"></li>'),this.$imageOptions=Mn("<ul></ul>"),this.$imageOptionsContainer.append(this.$imageOptions),this.$canvasOptionsContainer=Mn('<li class="group canvas"></li>'),this.$canvasOptions=Mn("<ul></ul>"),this.$canvasOptionsContainer.append(this.$canvasOptions),this.$manifestOptionsContainer=Mn('<li class="group manifest"></li>'),this.$manifestOptions=Mn("<ul></ul>"),this.$manifestOptionsContainer.append(this.$manifestOptions);let p=this;this.$downloadButton.on("click",u=>{u.preventDefault();let f=p.getSelectedOption(),g=f.attr("id"),E=f.attr("title"),d=Li.UNKNOWN;if(this.renderingUrls[g])window.open(this.renderingUrls[g]);else{let _=this.getCurrentResourceId();window.open(_)}this.extensionHost.publish(Ai.DOWNLOAD,{type:d,label:E}),this.close()})}_isAdaptive(){let p=this.getCurrentResourceFormat();return p==="mpd"||p==="m3u8"}open(p){super.open(p);let u=this.extension.helper.getCurrentCanvas();if(this.isDownloadOptionAvailable(Li.ENTIRE_FILE_AS_ORIGINAL)&&!this._isAdaptive()){let f=this.$entireFileAsOriginal.find("input"),g=this.$entireFileAsOriginal.find("label"),E=Mr.format(this.content.entireFileAsOriginalWithFormat,this.getCurrentResourceFormat());g.text(E),f.prop("title",E),this.$entireFileAsOriginal.show()}if(this.resetDynamicDownloadOptions(),this.isDownloadOptionAvailable(Li.RANGE_RENDERINGS)&&u.ranges&&u.ranges.length)for(let f=0;f<u.ranges.length;f++){let g=u.ranges[f],E=this.getDownloadOptionsForRenderings(g,this.content.entireFileAsOriginal,Li.CANVAS_RENDERINGS);this.addDownloadOptionsForRenderings(E)}if(this.isDownloadOptionAvailable(Li.IMAGE_RENDERINGS)){let f=u.getImages();f.length&&this.$downloadOptions.append(this.$imageOptionsContainer);for(let g=0;g<f.length;g++){let E=this.getDownloadOptionsForRenderings(f[g].getResource(),this.content.entireFileAsOriginal,Li.IMAGE_RENDERINGS);this.addDownloadOptionsForRenderings(E)}}if(this.isDownloadOptionAvailable(Li.CANVAS_RENDERINGS)){let f=this.getDownloadOptionsForRenderings(u,this.content.entireFileAsOriginal,Li.CANVAS_RENDERINGS);f.length&&(this.$downloadOptions.append(this.$canvasOptionsContainer),this.addDownloadOptionsForRenderings(f))}if(this.isDownloadOptionAvailable(Li.MANIFEST_RENDERINGS)){let f=this.getDownloadOptionsForRenderings(this.extension.helper.getCurrentSequence(),this.content.entireDocument,Li.MANIFEST_RENDERINGS);!f.length&&this.extension.helper.manifest&&(f=this.getDownloadOptionsForRenderings(this.extension.helper.manifest,this.content.entireDocument,Li.MANIFEST_RENDERINGS)),f.length&&(this.$downloadOptions.append(this.$manifestOptionsContainer),this.addDownloadOptionsForRenderings(f))}this.$downloadOptions.length&&this.$entireFileAsOriginal.hide(),this.$downloadOptions.find("li.option:visible").length?(this.$downloadOptions.find("li.option input:visible:first").prop("checked",!0),this.$noneAvailable.hide(),this.$downloadButton.show()):(this.$noneAvailable.show(),this.$downloadButton.hide()),this.resize()}addDownloadOptionsForRenderings(p){p.forEach(u=>{switch(u.type){case Li.IMAGE_RENDERINGS:this.$imageOptions.append(u.button);break;case Li.CANVAS_RENDERINGS:this.$canvasOptions.append(u.button);break;case Li.MANIFEST_RENDERINGS:this.$manifestOptions.append(u.button);break}})}isDownloadOptionAvailable(p){return this.isMediaDownloadEnabled()}};var ys=class extends Ns{constructor(p){super(p)}create(){this.setConfig("settingsDialogue"),super.create()}};var Ts=class extends Os{constructor(p){super(p)}create(){this.setConfig("shareDialogue"),super.create()}update(){super.update(),this.code=this.extension.getEmbedScript(this.options.embedTemplate,this.currentWidth,this.currentHeight),this.$code.val(this.code)}resize(){super.resize()}};var ws=Cn(uo());var yo={allowStealFocus:!1,authAPIVersion:1,bookmarkThumbHeight:150,bookmarkThumbWidth:90,dropEnabled:!0,footerPanelEnabled:!0,headerPanelEnabled:!0,leftPanelEnabled:!0,limitLocales:!1,metrics:[{type:"sm",minWidth:0},{type:"md",minWidth:768},{type:"lg",minWidth:1024},{type:"xl",minWidth:1280}],multiSelectionMimeType:"application/zip",navigatorEnabled:!0,openTemplate:"http://universalviewer.io?manifest={0}",overrideFullScreen:!1,pagingEnabled:!0,pagingOptionEnabled:!0,pessimisticAccessControl:!1,preserveViewport:!1,rightPanelEnabled:!0,saveUserSettings:!1,clickToZoomEnabled:!0,searchWithinEnabled:!0,termsOfUseEnabled:!1,theme:"uv-en-GB-theme",tokenStorage:"session",useArrowKeysToNavigate:!1,zoomToSearchResultEnabled:!0},To={contentLeftPanel:{options:{autoExpandTreeEnabled:!0,autoExpandTreeIfFewerThan:20,branchNodesExpandOnClick:!1,branchNodesSelectable:!0,defaultToTreeEnabled:!1,defaultToTreeIfGreaterThan:0,elideCount:40,expandFullEnabled:!0,galleryThumbChunkedResizingThreshold:400,galleryThumbHeight:320,galleryThumbLoadPadding:3,galleryThumbWidth:200,oneColThumbHeight:320,oneColThumbWidth:200,pageModeEnabled:!0,panelAnimationDuration:250,panelCollapsedWidth:30,panelExpandedWidth:255,panelOpen:!0,tabOrder:"",thumbsEnabled:!0,thumbsExtraHeight:8,thumbsImageFadeInDuration:300,thumbsLoadRange:15,treeEnabled:!0,twoColThumbHeight:150,twoColThumbWidth:90},content:{collapse:"Collapse Contents",collapseFull:"Collapse Gallery",date:"date",expand:"Expand Contents",expandFull:"Expand Gallery",index:"Index",manifestRanges:"Manifest Ranges",searchResult:"{0} search result",searchResults:"{0} search results",sortBy:"Sort By:",thumbnails:"Thumbnails",title:"Contents",volume:"volume"}},dialogue:{topCloseButtonEnabled:!1,content:{close:"Close"}},footerPanel:{options:{bookmarkEnabled:!1,downloadEnabled:!0,embedEnabled:!1,feedbackEnabled:!1,fullscreenEnabled:!0,minimiseButtons:!0,moreInfoEnabled:!0,openEnabled:!1,printEnabled:!1,shareEnabled:!0},content:{bookmark:"Add to bookmarks",download:"Download",embed:"Embed",exitFullScreen:"Exit Full Screen",feedback:"Feedback",fullScreen:"Full Screen",moreInfo:"More Information",open:"Open",share:"Share"}},genericDialogue:{content:{emptyValue:"please enter a value.",invalidNumber:"Please enter a valid number.",noMatches:"No matches were found.",ok:"OK",pageNotFound:"This item does not contain a page with the number you entered. Try switching the numbering mode to 'image'.",refresh:"Refresh"}},headerPanel:{options:{localeToggleEnabled:!1,settingsButtonEnabled:!0},content:{settings:"Settings"}},helpDialogue:{content:{text:"placeholder text",title:"Help"}},moreInfoRightPanel:{options:{canvasDisplayOrder:"",canvasExclude:"",copyToClipboardEnabled:!1,manifestDisplayOrder:"",manifestExclude:"",panelAnimationDuration:250,panelCollapsedWidth:30,panelExpandedWidth:255,panelOpen:!1,rtlLanguageCodes:"ar, ara, dv, div, he, heb, ur, urd",showAllLanguages:!1,textLimit:4,textLimitType:"lines",limitToRange:!1},content:{attribution:"Attribution",collapse:"Collapse Information",collapseFull:"Collapse Gallery",description:"Description",expand:"Expand Information",expandFull:"Expand Gallery",holdingText:"Your module goes here!",less:"less",license:"License",logo:"Logo",more:"more",noData:"No data to display",page:"Page",title:"More Information",manifestHeader:"About the item",canvasHeader:"About the image",copyToClipboard:"Copy to clipboard",copiedToClipboard:"Copied to clipboard"}},avCenterPanel:{options:{autoPlay:!1,includeParentInTitleEnabled:!1,posterImageRatio:.3,subtitleMetadataField:"contributor",titleEnabled:!0,subtitleEnabled:!0},content:{attribution:"Attribution",currentTime:"Current Time",delimiter:" - ",duration:"Duration",mute:"Mute",next:"Next",pause:"Pause",play:"Play",previous:"Previous"}},settingsDialogue:{content:{locale:"Locale",navigatorEnabled:"Navigator Enabled",clickToZoomEnabled:"Mouse Click To Zoom",pagingEnabled:"Two Page View",reducedMotion:"Reduce motion (disables animations)",preserveViewport:"Preserve Zoom",title:"Settings",website:"<a href='https://github.com/universalviewer/universalviewer#contributors'>more info</a>"}},shareDialogue:{options:{embedTemplate:'<iframe src="{0}" width="{1}" height="{2}" allowfullscreen frameborder="0"></iframe>',instructionsEnabled:!1,shareFrameEnabled:!0},content:{customSize:"custom",embed:"Embed",embedInstructions:"To embed this item in your own website, copy and paste the code below.",height:"Height",iiif:"IIIF Manifest",share:"Share",shareInstructions:"To share this item, copy the URL below.",size:"Size:",width:"Width"}},authDialogue:{content:{cancel:"Cancel",confirm:"Confirm"}},clickThroughDialogue:{content:{viewTerms:"Read Full Terms and Conditions"}},downloadDialogue:{content:{currentViewAsJpg:"Current view {0} x {1}px (jpg)",currentViewAsJpgExplanation:"Opens in a new window",download:"Download",downloadSelection:"Download Selection",downloadSelectionExplanation:"Opens a dialogue to select which pages to download.",editSettings:"Edit Settings",entireDocument:"Entire document ({0})",entireFileAsOriginal:"Entire file",entireFileAsOriginalWithFormat:"Entire file ({0})",noneAvailable:"No download options are available.",pagingNote:"Please turn off Two Page View for additional options.",preview:"Preview",title:"Download",wholeImageHighRes:"Whole image {0} x {1}px ({2})",wholeImageHighResExplanation:"Opens in a new window.",wholeImagesHighRes:"Whole images ({0})",wholeImagesHighResExplanation:"Opens in two new windows.",wholeImageLowResAsJpg:"Whole image {0} x {1}px (jpg)",wholeImageLowResAsJpgExplanation:"Opens in a new window."}},loginDialogue:{content:{login:"Login",logout:"Logout",cancel:"Cancel"}},restrictedDialogue:{content:{cancel:"Cancel"}}},Eo={label:"English (GB)",locales:[{name:"cy-GB",label:"Cymraeg"},{name:"en-GB",label:"English (GB)"},{name:"fr-FR",label:"Fran\xE7ais (FR)"},{name:"pl-PL",label:"Polski"},{name:"sv-SE",label:"Svenska"}]},wo={authCORSError:"Your browser does not support CORS, please upgrade to view this content.",authorisationFailedMessage:"Your log-in attempt did not appear to be successful. Please try again.",canvasIndexOutOfRange:"Canvas index out of range.",fallbackDegradedLabel:"Login",fallbackDegradedMessage:"Please log in to view this content at full resolution.",forbiddenResourceMessage:"Your current access rights are insufficient to view this image",termsOfUse:"Terms of Use",mediaViewer:"Media Viewer",skipToDownload:"Skip to downloads and alternative formats"},Es={options:yo,modules:To,localisation:Eo,content:wo};var lo=class extends Ss{constructor(){super(...arguments);this.defaultConfig=Es;this.locales={"en-GB":Es,"cy-GB":()=>import("./cy-GB-OBPEZVYZ.js"),"fr-FR":()=>import("./fr-FR-EKWXRZJ7.js"),"pl-PL":()=>import("./pl-PL-KQXXMOPU.js"),"sv-SE":()=>import("./sv-SE-UMBWWDO2.js")}}create(){super.create(),this.extensionHost.subscribe(Ai.CANVAS_INDEX_CHANGE,p=>{p!==this.lastAvCanvasIndex&&this.viewCanvas(p),this.lastAvCanvasIndex=p}),this.extensionHost.subscribe(Ai.TREE_NODE_SELECTED,p=>{this.fire(Ai.TREE_NODE_SELECTED,p.data.path),this.treeNodeSelected(p)}),this.extensionHost.subscribe(Ai.THUMB_SELECTED,p=>{this.extensionHost.publish(Ai.CANVAS_INDEX_CHANGE,p.index)})}dependencyLoaded(p,u){p===this.getDependencyIndex("waveform-data")?window.WaveformData=u:p===this.getDependencyIndex("hls")&&(window.Hls=u)}createModules(){super.createModules(),this.isHeaderPanelEnabled()?this.headerPanel=new Rs(this.shell.$headerPanel):this.shell.$headerPanel.hide(),this.isLeftPanelEnabled()?this.leftPanel=new As(this.shell.$leftPanel):this.shell.$leftPanel.hide(),this.centerPanel=new vs(this.shell.$centerPanel),this.isRightPanelEnabled()?this.rightPanel=new Ps(this.shell.$rightPanel):this.shell.$rightPanel.hide(),this.isFooterPanelEnabled()?(this.footerPanel=new Ds(this.shell.$footerPanel),this.mobileFooterPanel=new Ms(this.shell.$mobileFooterPanel)):this.shell.$footerPanel.hide(),this.$shareDialogue=$('<div class="overlay share" aria-hidden="true"></div>'),this.shell.$overlays.append(this.$shareDialogue),this.shareDialogue=new Ts(this.$shareDialogue),this.$downloadDialogue=$('<div class="overlay download" aria-hidden="true"></div>'),this.shell.$overlays.append(this.$downloadDialogue),this.downloadDialogue=new _s(this.$downloadDialogue),this.$settingsDialogue=$('<div class="overlay settings" aria-hidden="true"></div>'),this.shell.$overlays.append(this.$settingsDialogue),this.settingsDialogue=new ys(this.$settingsDialogue),this.isHeaderPanelEnabled()&&this.headerPanel.init(),this.isLeftPanelEnabled()&&this.leftPanel.init(),this.isRightPanelEnabled()&&this.rightPanel.init(),this.isFooterPanelEnabled()&&this.footerPanel.init()}isLeftPanelEnabled(){return Wn.getBool(this.data.config.options.leftPanelEnabled,!0)}render(){super.render()}getEmbedScript(p,u,f){let E=`${this.getAppUri()}#?manifest=${this.helper.manifestUri}&c=${this.helper.collectionIndex}&m=${this.helper.manifestIndex}&cv=${this.helper.canvasIndex}&rid=${this.helper.rangeId}`;return Mr.format(p,E,u.toString(),f.toString())}treeNodeSelected(p){let u=p.data;if(!!u.type)switch(u.type){case ws.IIIFResourceType.MANIFEST:break;case ws.IIIFResourceType.COLLECTION:break;default:this.viewRange(u.path);break}}viewRange(p){let u=this.helper.getRangeByPath(p);!u||this.extensionHost.publish(Ai.RANGE_CHANGE,u)}};export{lo as default};
/*!
 * jQuery Color Animations v2.2.0
 * https://github.com/jquery/jquery-color
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Sun May 10 09:02:36 2020 +0200
 */
/*!
 * jQuery JavaScript Library v3.5.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2020-04-10T15:07Z
 */
/*!
 * jQuery UI :data 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Accordion 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Autocomplete 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Button 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Checkboxradio 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Controlgroup 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Datepicker 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Dialog 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Disable Selection 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Draggable 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Droppable 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Blind 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Bounce 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Clip 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Drop 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Explode 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Fade 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Fold 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Highlight 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Puff 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Pulsate 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Scale 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Shake 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Size 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Slide 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Transfer 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Focusable 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Form Reset Mixin 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Keycode 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Labels 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Menu 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Mouse 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Position 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
/*!
 * jQuery UI Progressbar 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Resizable 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Scroll Parent 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Selectable 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Selectmenu 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Slider 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Sortable 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Spinner 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Support for jQuery core 1.8.x and newer 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 */
/*!
 * jQuery UI Tabbable 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Tabs 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Tooltip 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Unique ID 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Widget 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
* @license  MIT
*/
/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
* @license  MIT
*/
/*! codem-isoboxer v0.3.5 https://github.com/madebyhiro/codem-isoboxer/blob/master/LICENSE.txt */
/*! jQuery UI - v1.13.1 - 2022-01-20
* http://jqueryui.com
* Includes: widget.js, position.js, data.js, disable-selection.js, effect.js, effects/effect-blind.js, effects/effect-bounce.js, effects/effect-clip.js, effects/effect-drop.js, effects/effect-explode.js, effects/effect-fade.js, effects/effect-fold.js, effects/effect-highlight.js, effects/effect-puff.js, effects/effect-pulsate.js, effects/effect-scale.js, effects/effect-shake.js, effects/effect-size.js, effects/effect-slide.js, effects/effect-transfer.js, focusable.js, form-reset-mixin.js, jquery-patch.js, keycode.js, labels.js, scroll-parent.js, tabbable.js, unique-id.js, widgets/accordion.js, widgets/autocomplete.js, widgets/button.js, widgets/checkboxradio.js, widgets/controlgroup.js, widgets/datepicker.js, widgets/dialog.js, widgets/draggable.js, widgets/droppable.js, widgets/menu.js, widgets/mouse.js, widgets/progressbar.js, widgets/resizable.js, widgets/selectable.js, widgets/selectmenu.js, widgets/slider.js, widgets/sortable.js, widgets/spinner.js, widgets/tabs.js, widgets/tooltip.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */
/*! v2.6.7-e2394a6, 2018-03-14T14:47:04Z */
